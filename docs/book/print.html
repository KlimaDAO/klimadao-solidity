<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js coal">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>KlimaDAO solidity reference documentation</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="KlimaDAO smart contract docs auto-generated by Foundry Forge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('coal')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html">Home</a></li><li class="chapter-item expanded affix "><li class="part-title">Contracts</li><li class="chapter-item expanded "><a href="src/infinity/index.html">❱ infinity</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Bridges/index.html">❱ Bridges</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Bridges/C3/index.html">❱ C3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Bridges/C3/RedeemC3PoolFacet.sol/contract.RedeemC3PoolFacet.html">RedeemC3PoolFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/Bridges/C3/RetireC3C3TFacet.sol/contract.RetireC3C3TFacet.html">RetireC3C3TFacet</a></li></ol></li><li class="chapter-item "><a href="src/infinity/facets/Bridges/ICR/index.html">❱ ICR</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Bridges/ICR/RetireICRFacet.sol/contract.RetireICRFacet.html">RetireICRFacet</a></li></ol></li><li class="chapter-item "><a href="src/infinity/facets/Bridges/Toucan/index.html">❱ Toucan</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Bridges/Toucan/RedeemToucanPoolFacet.sol/contract.RedeemToucanPoolFacet.html">RedeemToucanPoolFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/Bridges/Toucan/RetireToucanTCO2Facet.sol/contract.RetireToucanTCO2Facet.html">RetireToucanTCO2Facet</a></li></ol></li></ol></li><li class="chapter-item "><a href="src/infinity/facets/Retire/index.html">❱ Retire</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/facets/Retire/RetireCarbonFacet.sol/contract.RetireCarbonFacet.html">RetireCarbonFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/Retire/RetireCarbonmarkFacet.sol/contract.RetireCarbonmarkFacet.html">RetireCarbonmarkFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/Retire/RetireInfoFacet.sol/contract.RetireInfoFacet.html">RetireInfoFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/Retire/RetireSourceFacet.sol/contract.RetireSourceFacet.html">RetireSourceFacet</a></li></ol></li><li class="chapter-item "><a href="src/infinity/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/DustFacet.sol/contract.DustFacet.html">DustFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/ERC1155ReceiverFacet.sol/contract.ERC1155ReceiverFacet.html">ERC1155ReceiverFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/ERC721ReceiverFacet.sol/contract.ERC721ReceiverFacet.html">ERC721ReceiverFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/MetaTransactionsFacet.sol/contract.MetaTransactionsFacet.html">MetaTransactionsFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/OwnershipFacet.sol/contract.OwnershipFacet.html">OwnershipFacet</a></li><li class="chapter-item "><a href="src/infinity/facets/RetirementQuoter.sol/contract.RetirementQuoter.html">RetirementQuoter</a></li><li class="chapter-item "><a href="src/infinity/facets/TokenFacet.sol/contract.TokenFacet.html">TokenFacet</a></li></ol></li><li class="chapter-item "><a href="src/infinity/init/index.html">❱ init</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/init/DiamondInit.sol/contract.DiamondInit.html">DiamondInit</a></li><li class="chapter-item "><a href="src/infinity/init/InitProjectTotals.sol/contract.InitProjectTotals.html">InitProjectTotals</a></li><li class="chapter-item "><a href="src/infinity/init/_EmptyInit.sol/contract._EmptyInit.html">_EmptyInit</a></li></ol></li><li class="chapter-item "><a href="src/infinity/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/interfaces/IC3.sol/interface.IC3Pool.html">IC3Pool</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IC3.sol/interface.IC3ProjectToken.html">IC3ProjectToken</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IC3.sol/interface.IC3ProjectFactory.html">IC3ProjectFactory</a></li><li class="chapter-item "><a href="src/infinity/interfaces/ICarbonChain.sol/interface.ICarbonChain.html">ICarbonChain</a></li><li class="chapter-item "><a href="src/infinity/interfaces/ICarbonmark.sol/interface.ICarbonmark.html">ICarbonmark</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IDiamond.sol/interface.IDiamond.html">IDiamond</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IDiamondCut.sol/interface.IDiamondCut.html">IDiamondCut</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IDiamondLoupe.sol/interface.IDiamondLoupe.html">IDiamondLoupe</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IERC1155Receiver.sol/interface.IERC1155Receiver.html">IERC1155Receiver</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IERC165.sol/interface.IERC165.html">IERC165</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IERC173.sol/interface.IERC173.html">IERC173</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IERC721Receiver.sol/interface.IERC721Receiver.html">IERC721Receiver</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IInternationalCarbonRegistry.sol/interface.ICarbonContractRegistry.html">ICarbonContractRegistry</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IInternationalCarbonRegistry.sol/interface.IProject.html">IProject</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlima.sol/interface.IStaking.html">IStaking</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlima.sol/interface.IStakingHelper.html">IStakingHelper</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlima.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlima.sol/interface.IKlimaRetirementBond.html">IKlimaRetirementBond</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlimaCarbonRetirements.sol/interface.IKlimaCarbonRetirements.html">IKlimaCarbonRetirements</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanPool.html">IToucanPool</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanCarbonOffsets.html">IToucanCarbonOffsets</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanContractRegistry.html">IToucanContractRegistry</a></li><li class="chapter-item "><a href="src/infinity/interfaces/ITrident.sol/interface.IBentoBoxMinimal.html">IBentoBoxMinimal</a></li><li class="chapter-item "><a href="src/infinity/interfaces/ITrident.sol/interface.ITridentRouter.html">ITridentRouter</a></li><li class="chapter-item "><a href="src/infinity/interfaces/ITrident.sol/interface.ITridentPool.html">ITridentPool</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li><li class="chapter-item "><a href="src/infinity/interfaces/IWMATIC.sol/interface.IWMATIC.html">IWMATIC</a></li></ol></li><li class="chapter-item "><a href="src/infinity/libraries/index.html">❱ libraries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/libraries/Bridges/index.html">❱ Bridges</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/libraries/Bridges/LibC3Carbon.sol/library.LibC3Carbon.html">LibC3Carbon</a></li><li class="chapter-item "><a href="src/infinity/libraries/Bridges/LibICRCarbon.sol/library.LibICRCarbon.html">LibICRCarbon</a></li><li class="chapter-item "><a href="src/infinity/libraries/Bridges/LibMossCarbon.sol/library.LibMossCarbon.html">LibMossCarbon</a></li><li class="chapter-item "><a href="src/infinity/libraries/Bridges/LibToucanCarbon.sol/library.LibToucanCarbon.html">LibToucanCarbon</a></li></ol></li><li class="chapter-item "><a href="src/infinity/libraries/Token/index.html">❱ Token</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/libraries/Token/LibApprove.sol/library.LibApprove.html">LibApprove</a></li><li class="chapter-item "><a href="src/infinity/libraries/Token/LibBalance.sol/library.LibBalance.html">LibBalance</a></li><li class="chapter-item "><a href="src/infinity/libraries/Token/LibMatic.sol/library.LibMatic.html">LibMatic</a></li><li class="chapter-item "><a href="src/infinity/libraries/Token/LibTransfer.sol/library.LibTransfer.html">LibTransfer</a></li><li class="chapter-item "><a href="src/infinity/libraries/Token/LibWmatic.sol/library.LibWmatic.html">LibWmatic</a></li></ol></li><li class="chapter-item "><a href="src/infinity/libraries/TokenSwap/index.html">❱ TokenSwap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/libraries/TokenSwap/LibSwap.sol/library.LibSwap.html">LibSwap</a></li><li class="chapter-item "><a href="src/infinity/libraries/TokenSwap/LibTreasurySwap.sol/library.LibTreasurySwap.html">LibTreasurySwap</a></li><li class="chapter-item "><a href="src/infinity/libraries/TokenSwap/LibTridentSwap.sol/library.LibTridentSwap.html">LibTridentSwap</a></li><li class="chapter-item "><a href="src/infinity/libraries/TokenSwap/LibUniswapV2Swap.sol/library.LibUniswapV2Swap.html">LibUniswapV2Swap</a></li></ol></li><li class="chapter-item "><a href="src/infinity/libraries/LibAppStorage.sol/library.LibAppStorage.html">LibAppStorage</a></li><li class="chapter-item "><a href="src/infinity/libraries/LibDiamond.sol/library.LibDiamond.html">LibDiamond</a></li><li class="chapter-item "><a href="src/infinity/libraries/LibKlima.sol/library.LibKlima.html">LibKlima</a></li><li class="chapter-item "><a href="src/infinity/libraries/LibMeta.sol/library.LibMeta.html">LibMeta</a></li><li class="chapter-item "><a href="src/infinity/libraries/LibRetire.sol/library.LibRetire.html">LibRetire</a></li></ol></li><li class="chapter-item "><a href="src/infinity/mocks/index.html">❱ mocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/infinity/mocks/ConstantsGetter.sol/contract.ConstantsGetter.html">ConstantsGetter</a></li></ol></li><li class="chapter-item "><a href="src/infinity/AppStorage.sol/contract.Account.html">Account</a></li><li class="chapter-item "><a href="src/infinity/AppStorage.sol/contract.Storage.html">Storage</a></li><li class="chapter-item "><a href="src/infinity/AppStorage.sol/struct.AppStorage.html">AppStorage</a></li><li class="chapter-item "><a href="src/infinity/C.sol/library.C.html">C</a></li><li class="chapter-item "><a href="src/infinity/Diamond.sol/contract.Diamond.html">Diamond</a></li><li class="chapter-item "><a href="src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></li></ol></li><li class="chapter-item expanded "><a href="src/integrations/index.html">❱ integrations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/integrations/sushixklima/index.html">❱ sushixklima</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/integrations/sushixklima/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/integrations/sushixklima/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li></ol></li><li class="chapter-item "><a href="src/integrations/sushixklima/keepers/index.html">❱ keepers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/integrations/sushixklima/keepers/KeeperBase.sol/contract.KeeperBase.html">KeeperBase</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/keepers/KeeperCompatible.sol/abstract.KeeperCompatible.html">KeeperCompatible</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/keepers/KeeperCompatibleInterface.sol/interface.KeeperCompatibleInterface.html">KeeperCompatibleInterface</a></li></ol></li><li class="chapter-item "><a href="src/integrations/sushixklima/Ownable.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/Ownable.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.SafeMathUniswap.html">SafeMathUniswap</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.UniswapV2Library.html">UniswapV2Library</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.TransferHelper.html">TransferHelper</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Factory.html">IUniswapV2Factory</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IERC20Uniswap.html">IERC20Uniswap</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IWETH.html">IWETH</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiRouterV02.sol/contract.UniswapV2Router02.html">UniswapV2Router02</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SushiswapGreenWrapper.sol/contract.SushiswapGreenSwapWrapper.html">SushiswapGreenSwapWrapper</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/interface.IKlimaRetirementAggregator.html">IKlimaRetirementAggregator</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/interface.IWrappedAsset.html">IWrappedAsset</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/contract.SwapRetirementHolder.html">SwapRetirementHolder</a></li><li class="chapter-item "><a href="src/integrations/sushixklima/TestETHSender.sol/contract.testETHSender.html">testETHSender</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="src/protocol/index.html">❱ protocol</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/allocators/index.html">❱ allocators</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/allocators/RetirementBondAllocator.sol/contract.RetirementBondAllocator.html">RetirementBondAllocator</a></li></ol></li><li class="chapter-item "><a href="src/protocol/bonds/index.html">❱ bonds</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/bonds/CarbonRetirementBondDepository.sol/contract.CarbonRetirementBondDepository.html">CarbonRetirementBondDepository</a></li></ol></li><li class="chapter-item "><a href="src/protocol/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlima.html">IKlima</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlimaTreasury.html">IKlimaTreasury</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlimaRetirementBond.html">IKlimaRetirementBond</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IKLIMA.sol/interface.IRetirementBondAllocator.html">IRetirementBondAllocator</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li><li class="chapter-item "><a href="src/protocol/interfaces/IwsKLIMA.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li></ol></li><li class="chapter-item "><a href="src/protocol/pKLIMA/index.html">❱ pKLIMA</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.ITreasury.html">ITreasury</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.IPOLY.html">IPOLY</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.ICirculatingOHM.html">ICirculatingOHM</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/contract.AltExercisepOLY.html">AltExercisepOLY</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.ITreasury.html">ITreasury</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IPKLIMA.html">IPKLIMA</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IOldClaimContract.html">IOldClaimContract</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.ICirculatingKLIMA.html">ICirculatingKLIMA</a></li><li class="chapter-item "><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/contract.ExercisepKLIMA.html">ExercisepKLIMA</a></li></ol></li><li class="chapter-item "><a href="src/protocol/staking/index.html">❱ staking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/staking/regular/index.html">❱ regular</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IPolicy.html">IPolicy</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/contract.Policy.html">Policy</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.ITreasury.html">ITreasury</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/contract.Distributor.html">Distributor</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IsKLIMA.html">IsKLIMA</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IWarmup.html">IWarmup</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IDistributor.html">IDistributor</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/contract.KlimaStaking.html">KlimaStaking</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/StakingHelper.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/StakingHelper.sol/interface.IStaking.html">IStaking</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/StakingHelper.sol/contract.StakingHelper.html">StakingHelper</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/StakingWarmup.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/regular/StakingWarmup.sol/contract.StakingWarmup.html">StakingWarmup</a></li></ol></li><li class="chapter-item "><a href="src/protocol/staking/utils/index.html">❱ utils</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/contract.KlimaCirculatingSupplyContract.html">KlimaCirculatingSupplyContract</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IBondCalculator.html">IBondCalculator</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IERC20Mintable.html">IERC20Mintable</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IKLIMAERC20.html">IKLIMAERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/staking/utils/KlimaTreasury.sol/contract.KlimaTreasury.html">KlimaTreasury</a></li></ol></li></ol></li><li class="chapter-item "><a href="src/protocol/tokens/index.html">❱ tokens</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/tokens/regular/index.html">❱ regular</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.ITWAPOracle.html">ITWAPOracle</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/library.EnumerableSet.html">EnumerableSet</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/library.Counters.html">Counters</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.VaultOwned.html">VaultOwned</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.TWAPOracleUpdater.html">TWAPOracleUpdater</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.Divine.html">Divine</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.KlimaToken.html">KlimaToken</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/abstract.ERC20.html">ERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.Counters.html">Counters</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken.sol/contract.sKlima.html">sKlima</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/abstract.ERC20.html">ERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.Counters.html">Counters</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/abstract.ERC20Permit.html">ERC20Permit</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IOwnable.html">IOwnable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/contract.Ownable.html">Ownable</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/contract.sKLIMAv2.html">sKLIMAv2</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/interface.IERC20.html">IERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.SafeMath.html">SafeMath</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.Address.html">Address</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/contract.ERC20.html">ERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/interface.IsKLIMA.html">IsKLIMA</a></li><li class="chapter-item "><a href="src/protocol/tokens/regular/wsKLIMA.sol/contract.wsKLIMA.html">wsKLIMA</a></li></ol></li><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/index.html">❱ upgradeable</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/AlchemistKlimaUpgradeable.sol/contract.AlchemistKlimaUpgradeable.html">AlchemistKlimaUpgradeable</a></li><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/AlphaKlimaUpgradeable.sol/contract.AlphaKlimaUpgradeable.html">AlphaKlimaUpgradeable</a></li><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/KlimaIDONFT.sol/contract.KlimaIDONFT.html">KlimaIDONFT</a></li><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeable.sol/contract.PreKlimaTokenUpgradeable.html">PreKlimaTokenUpgradeable</a></li><li class="chapter-item "><a href="src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeableChild.sol/contract.PreKlimaTokenUpgradeableChild.html">PreKlimaTokenUpgradeableChild</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="src/retirement_v1/index.html">❱ retirement_v1</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/retirement_v1/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/retirement_v1/interfaces/IBentoBoxMinimal.sol/interface.IBentoBoxMinimal.html">IBentoBoxMinimal</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IC3Pool.sol/interface.IC3Pool.html">IC3Pool</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IC3ProjectToken.sol/interface.IC3ProjectToken.html">IC3ProjectToken</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/ICarbonChain.sol/interface.ICarbonChain.html">ICarbonChain</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IKlimaCarbonRetirements.sol/interface.IKlimaCarbonRetirements.html">IKlimaCarbonRetirements</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IKlimaRetirementAggregator.sol/interface.IKlimaRetirementAggregator.html">IKlimaRetirementAggregator</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IRetireBridgeCommon.sol/interface.IRetireBridgeCommon.html">IRetireBridgeCommon</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IRetireC3Carbon.sol/interface.IRetireC3Carbon.html">IRetireC3Carbon</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IRetireMossCarbon.sol/interface.IRetireMossCarbon.html">IRetireMossCarbon</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IRetireToucanCarbon.sol/interface.IRetireToucanCarbon.html">IRetireToucanCarbon</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IStaking.sol/interface.IStaking.html">IStaking</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IStakingHelper.sol/interface.IStakingHelper.html">IStakingHelper</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IToucanCarbonOffsets.sol/interface.IToucanCarbonOffsets.html">IToucanCarbonOffsets</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IToucanContractRegistry.sol/interface.IToucanContractRegistry.html">IToucanContractRegistry</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IToucanPool.sol/interface.IToucanPool.html">IToucanPool</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/ITridentPool.sol/interface.ITridentPool.html">ITridentPool</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/ITridentRouter.sol/interface.ITridentRouter.html">ITridentRouter</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li><li class="chapter-item "><a href="src/retirement_v1/interfaces/IwsKLIMA.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li></ol></li><li class="chapter-item "><a href="src/retirement_v1/KlimaCarbonRetirements.sol/contract.KlimaCarbonRetirements.html">KlimaCarbonRetirements</a></li><li class="chapter-item "><a href="src/retirement_v1/KlimaRetirementAggregator.sol/contract.KlimaRetirementAggregator.html">KlimaRetirementAggregator</a></li><li class="chapter-item "><a href="src/retirement_v1/RetireC3Carbon.sol/contract.RetireC3Carbon.html">RetireC3Carbon</a></li><li class="chapter-item "><a href="src/retirement_v1/RetireMossCarbon.sol/contract.RetireMossCarbon.html">RetireMossCarbon</a></li><li class="chapter-item "><a href="src/retirement_v1/RetireToucanCarbon.sol/contract.RetireToucanCarbon.html">RetireToucanCarbon</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">KlimaDAO solidity reference documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/KlimaDAO/klimadao-solidity" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="klimadao-contracts"><a class="header" href="#klimadao-contracts">KlimaDAO contracts</a></h1>
<h2 id="local-development"><a class="header" href="#local-development">Local Development</a></h2>
<p>Install foundry:</p>
<p>https://book.getfoundry.sh/getting-started/installation</p>
<p>For Linux and MacOS users:</p>
<pre><code>curl -L https://foundry.paradigm.xyz | bash
</code></pre>
<p>This will download foundryup. Then install Foundry by running:</p>
<pre><code>foundryup
</code></pre>
<h2 id="deploy"><a class="header" href="#deploy">Deploy</a></h2>
<p>These examples use a localhost fork running on the <code>anvil</code> command</p>
<h3 id="base-protocol-contracts"><a class="header" href="#base-protocol-contracts">Base Protocol Contracts</a></h3>
<ul>
<li>
<p>Deploy the Klima tokens (KLIMA, sKLIMA, wsKLIMA).</p>
<pre><code>forge script script/deployProtocolTokens.s.sol:DeployKlimaProtocolTokens --fork-url http://localhost:8545 --broadcast --ffi
</code></pre>
</li>
<li>
<p>Update <code>.env</code> with the KLIMA and sKLIMA addresses from the previous step and deploy the Klima treasury.</p>
<pre><code>forge script script/deployProtocolTreasury.s.sol:DeployKlimaTreasury --fork-url http://localhost:8545 --broadcast --ffi
</code></pre>
</li>
<li>
<p>Update <code>.env</code> with the treasury address from the previous step. Also, configure the desired parameters for the first epoch number, block, and epoch length in the deploy script below.</p>
<pre><code>forge script script/deployProtocolStaking.s.sol:DeployKlimaStaking --fork-url http://localhost:8545 --broadcast --ffi
</code></pre>
</li>
</ul>
<h3 id="infinity-diamond-deployment"><a class="header" href="#infinity-diamond-deployment">Infinity Diamond Deployment</a></h3>
<ul>
<li>Deploy the base Diamond, facet implementations, and perform the diamon cut with the following script.
<pre><code>forge script script/deployInfinity.s.sol:DeployInfinityScript --fork-url http://localhost:8545 --broadcast --ffi
</code></pre>
</li>
</ul>
<h2 id="deprecated-contracts"><a class="header" href="#deprecated-contracts">Deprecated Contracts</a></h2>
<p>Note that the <code>AlphaKlimaRedeemUpgradeable</code> will fail to get built by default, and therefore has been marked deprecated.</p>
<p>In order to compile this contract, you will need to manually update the <code>@openzeppelin/contracts-upgradeable</code>
contracts that are downloaded in your <code>node_modules</code> by changing <code>_trustedForwarder</code>
in <code>metatx/ERC2771ContextUpgradeable.sol</code> from a private to a public address.</p>
<p>There is another issue related to the <code>_trustedForwarder</code> in that contract that has not yet been resolved.</p>
<p>Since <code>aKLIMA</code> was a prelaunch coupon and the existing deployed versino of the redemption contract works as expected, this contract is no longer needed.</p>
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<p>This repo is configured with <a href="https://book.getfoundry.sh/">Foundry</a> to generate documentation for the solidity source files with the <a href="https://book.getfoundry.sh/reference/forge/forge-doc">forge doc</a> command. If you have not installed Foundry, follow the guide above.</p>
<p><strong>Please follow these rules:</strong></p>
<ul>
<li>Annonate your code with <a href="https://docs.soliditylang.org/en/latest/natspec-format.html">proper NatSpec comments</a></li>
<li>Before committing code, run the <code>force doc --build</code> in order to build the doc/book</li>
</ul>
<p>You can run a local version of the documentation by running <code>forge doc --serve</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/infinity//src/infinity/facets">facets</a></li>
<li><a href="src/infinity//src/infinity/init">init</a></li>
<li><a href="src/infinity//src/infinity/interfaces">interfaces</a></li>
<li><a href="src/infinity//src/infinity/libraries">libraries</a></li>
<li><a href="src/infinity//src/infinity/mocks">mocks</a></li>
<li><a href="src/infinity/AppStorage.sol/contract.Account.html">Account</a></li>
<li><a href="src/infinity/AppStorage.sol/contract.Storage.html">Storage</a></li>
<li><a href="src/infinity/AppStorage.sol/struct.AppStorage.html">AppStorage</a></li>
<li><a href="src/infinity/C.sol/library.C.html">C</a></li>
<li><a href="src/infinity/Diamond.sol/contract.Diamond.html">Diamond</a></li>
<li><a href="src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets//src/infinity/facets/Bridges">Bridges</a></li>
<li><a href="src/infinity/facets//src/infinity/facets/Retire">Retire</a></li>
<li><a href="src/infinity/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li>
<li><a href="src/infinity/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li>
<li><a href="src/infinity/facets/DustFacet.sol/contract.DustFacet.html">DustFacet</a></li>
<li><a href="src/infinity/facets/ERC1155ReceiverFacet.sol/contract.ERC1155ReceiverFacet.html">ERC1155ReceiverFacet</a></li>
<li><a href="src/infinity/facets/ERC721ReceiverFacet.sol/contract.ERC721ReceiverFacet.html">ERC721ReceiverFacet</a></li>
<li><a href="src/infinity/facets/MetaTransactionsFacet.sol/contract.MetaTransactionsFacet.html">MetaTransactionsFacet</a></li>
<li><a href="src/infinity/facets/OwnershipFacet.sol/contract.OwnershipFacet.html">OwnershipFacet</a></li>
<li><a href="src/infinity/facets/RetirementQuoter.sol/contract.RetirementQuoter.html">RetirementQuoter</a></li>
<li><a href="src/infinity/facets/TokenFacet.sol/contract.TokenFacet.html">TokenFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets/Bridges//src/infinity/facets/Bridges/C3">C3</a></li>
<li><a href="src/infinity/facets/Bridges//src/infinity/facets/Bridges/ICR">ICR</a></li>
<li><a href="src/infinity/facets/Bridges//src/infinity/facets/Bridges/Toucan">Toucan</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets/Bridges/C3/RedeemC3PoolFacet.sol/contract.RedeemC3PoolFacet.html">RedeemC3PoolFacet</a></li>
<li><a href="src/infinity/facets/Bridges/C3/RetireC3C3TFacet.sol/contract.RetireC3C3TFacet.html">RetireC3C3TFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redeemc3poolfacet"><a class="header" href="#redeemc3poolfacet">RedeemC3PoolFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Bridges/C3/RedeemC3PoolFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Bridges/C3/RedeemC3PoolFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="c3redeempooldefault"><a class="header" href="#c3redeempooldefault">c3RedeemPoolDefault</a></h3>
<p>Redeems default underlying carbon tokens from a C3 Pool</p>
<pre><code class="language-solidity">function c3RedeemPoolDefault(
    address sourceToken,
    address poolToken,
    uint256 amount,
    uint256 maxAmountIn,
    LibTransfer.From fromMode,
    LibTransfer.To toMode
) external nonReentrant returns (address[] memory projectTokens, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token to use in the redemption</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount to redeem</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Max amount of source token to spend</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>To Mode for where undlerying tokens are sent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>List of underlying tokens received</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens received</td></tr>
</tbody></table>
</div>
<h3 id="c3redeempoolspecific"><a class="header" href="#c3redeempoolspecific">c3RedeemPoolSpecific</a></h3>
<p>Redeems default underlying carbon tokens from a C3 Pool</p>
<pre><code class="language-solidity">function c3RedeemPoolSpecific(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    address[] memory projectTokens,
    uint256[] memory amounts,
    LibTransfer.From fromMode,
    LibTransfer.To toMode
) external nonReentrant returns (uint256[] memory redeemedAmounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token to use in the redemption</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Max amount of source token to spend</td></tr>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>Underlying tokens to redeem</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>To Mode for where undlerying tokens are sent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemedAmounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens redeemed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="retirec3c3tfacet"><a class="header" href="#retirec3c3tfacet">RetireC3C3TFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Bridges/C3/RetireC3C3TFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Bridges/C3/RetireC3C3TFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="c3retireexactc3t"><a class="header" href="#c3retireexactc3t">c3RetireExactC3T</a></h3>
<p>This contract assumes that the token being provided is a raw TCO2 token.</p>
<p>The transactions will revert otherwise.</p>
<p>Redeems C3T directly</p>
<pre><code class="language-solidity">function c3RetireExactC3T(
    address carbonToken,
    uint256 amount,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h3 id="c3retireexactc3twithentity"><a class="header" href="#c3retireexactc3twithentity">c3RetireExactC3TWithEntity</a></h3>
<p>Redeems C3T directly</p>
<pre><code class="language-solidity">function c3RetireExactC3TWithEntity(
    address carbonToken,
    uint256 amount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="carbonretired"><a class="header" href="#carbonretired">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets/Bridges/ICR/RetireICRFacet.sol/contract.RetireICRFacet.html">RetireICRFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retireicrfacet"><a class="header" href="#retireicrfacet">RetireICRFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Bridges/ICR/RetireICRFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Bridges/ICR/RetireICRFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="icrretireexactcarbon"><a class="header" href="#icrretireexactcarbon">icrRetireExactCarbon</a></h3>
<p>This contract assumes that the token being provided is a raw ICR project token.</p>
<p>The transactions will revert otherwise.</p>
<p>Redeems ICR credit directly</p>
<pre><code class="language-solidity">function icrRetireExactCarbon(
    address projectToken,
    uint256 tokenId,
    uint256 amount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token address</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>Token ID for project to retire</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description for the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="carbonretired-1"><a class="header" href="#carbonretired-1">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 tokenId,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets/Bridges/Toucan/RedeemToucanPoolFacet.sol/contract.RedeemToucanPoolFacet.html">RedeemToucanPoolFacet</a></li>
<li><a href="src/infinity/facets/Bridges/Toucan/RetireToucanTCO2Facet.sol/contract.RetireToucanTCO2Facet.html">RetireToucanTCO2Facet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redeemtoucanpoolfacet"><a class="header" href="#redeemtoucanpoolfacet">RedeemToucanPoolFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Bridges/Toucan/RedeemToucanPoolFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Bridges/Toucan/RedeemToucanPoolFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="toucanredeemexactcarbonpooldefault"><a class="header" href="#toucanredeemexactcarbonpooldefault">toucanRedeemExactCarbonPoolDefault</a></h3>
<p>Redeems default underlying carbon tokens from a Toucan Pool</p>
<pre><code class="language-solidity">function toucanRedeemExactCarbonPoolDefault(
    address sourceToken,
    address poolToken,
    uint256 amount,
    uint256 maxAmountIn,
    LibTransfer.From fromMode,
    LibTransfer.To toMode
) external nonReentrant returns (address[] memory projectTokens, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token to use in the redemption</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount to redeem</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Max amount of source token to spend</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>To Mode for where undlerying tokens are sent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>List of underlying tokens received</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens received</td></tr>
</tbody></table>
</div>
<h3 id="toucanredeemexactcarbonpoolspecific"><a class="header" href="#toucanredeemexactcarbonpoolspecific">toucanRedeemExactCarbonPoolSpecific</a></h3>
<p>Redeems specific underlying carbon tokens from a Toucan Pool</p>
<pre><code class="language-solidity">function toucanRedeemExactCarbonPoolSpecific(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    address[] memory projectTokens,
    uint256[] memory amounts,
    LibTransfer.From fromMode,
    LibTransfer.To toMode
) external nonReentrant returns (uint256[] memory redeemedAmounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token to use in the redemption</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source token to spend</td></tr>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>Underlying tokens to redeem</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>To Mode for where undlerying tokens are sent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemedAmounts</code></td><td><code>uint256[]</code></td><td>Amounts of underlying tokens redeemed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="retiretoucantco2facet"><a class="header" href="#retiretoucantco2facet">RetireToucanTCO2Facet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Bridges/Toucan/RetireToucanTCO2Facet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Bridges/Toucan/RetireToucanTCO2Facet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="toucanretireexacttco2"><a class="header" href="#toucanretireexacttco2">toucanRetireExactTCO2</a></h3>
<p>This contract assumes that the token being provided is a raw TCO2 token.</p>
<p>The transactions will revert otherwise</p>
<p>Redeems TCO2 directly</p>
<pre><code class="language-solidity">function toucanRetireExactTCO2(
    address carbonToken,
    uint256 amount,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h3 id="toucanretireexacttco2withentity"><a class="header" href="#toucanretireexacttco2withentity">toucanRetireExactTCO2WithEntity</a></h3>
<p>Redeems TCO2 directly</p>
<pre><code class="language-solidity">function toucanRetireExactTCO2WithEntity(
    address carbonToken,
    uint256 amount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of underlying tokens to redeem</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="carbonretired-2"><a class="header" href="#carbonretired-2">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/infinity/facets/Retire/RetireCarbonFacet.sol/contract.RetireCarbonFacet.html">RetireCarbonFacet</a></li>
<li><a href="src/infinity/facets/Retire/RetireCarbonmarkFacet.sol/contract.RetireCarbonmarkFacet.html">RetireCarbonmarkFacet</a></li>
<li><a href="src/infinity/facets/Retire/RetireInfoFacet.sol/contract.RetireInfoFacet.html">RetireInfoFacet</a></li>
<li><a href="src/infinity/facets/Retire/RetireSourceFacet.sol/contract.RetireSourceFacet.html">RetireSourceFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retirecarbonfacet"><a class="header" href="#retirecarbonfacet">RetireCarbonFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Retire/RetireCarbonFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Retire/RetireCarbonFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="retireexactcarbondefault"><a class="header" href="#retireexactcarbondefault">retireExactCarbonDefault</a></h3>
<p>Retires an exact amount of carbon using default redemption</p>
<pre><code class="language-solidity">function retireExactCarbonDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external payable nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source ERC-20 token to use for the retirement</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens to spend in this retirement</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h3 id="retireexactcarbonspecific"><a class="header" href="#retireexactcarbonspecific">retireExactCarbonSpecific</a></h3>
<p>Retires an exact amount of carbon using specific redemption</p>
<pre><code class="language-solidity">function retireExactCarbonSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external payable nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source ERC-20 token to use for the retirement</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token to redeem and retire</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens to spend in this retirement</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="carbonretired-3"><a class="header" href="#carbonretired-3">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address poolToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retirecarbonmarkfacet"><a class="header" href="#retirecarbonmarkfacet">RetireCarbonmarkFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Retire/RetireCarbonmarkFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Retire/RetireCarbonmarkFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="retirecarbonmarklisting"><a class="header" href="#retirecarbonmarklisting">retireCarbonmarkListing</a></h3>
<p>Retires an exact amount of carbon using default redemption</p>
<pre><code class="language-solidity">function retireCarbonmarkListing(
    ICarbonmark.CreditListing memory listing,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external payable nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>listing</code></td><td><code>ICarbonmark.CreditListing</code></td><td></td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of USDC tokens to spend for this retirement</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="carbonretired-4"><a class="header" href="#carbonretired-4">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address poolToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retireinfofacet"><a class="header" href="#retireinfofacet">RetireInfoFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Retire/RetireInfoFacet.sol">Git Source</a></p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="gettotalretirements"><a class="header" href="#gettotalretirements">getTotalRetirements</a></h3>
<pre><code class="language-solidity">function getTotalRetirements(address account) external view returns (uint256 totalRetirements);
</code></pre>
<h3 id="gettotalcarbonretired"><a class="header" href="#gettotalcarbonretired">getTotalCarbonRetired</a></h3>
<pre><code class="language-solidity">function getTotalCarbonRetired(address account) external view returns (uint256 totalCarbonRetired);
</code></pre>
<h3 id="gettotalpoolretired"><a class="header" href="#gettotalpoolretired">getTotalPoolRetired</a></h3>
<pre><code class="language-solidity">function getTotalPoolRetired(address account, address poolToken) external view returns (uint256 totalPoolRetired);
</code></pre>
<h3 id="gettotalprojectretired"><a class="header" href="#gettotalprojectretired">getTotalProjectRetired</a></h3>
<pre><code class="language-solidity">function getTotalProjectRetired(address account, address projectToken) external view returns (uint256);
</code></pre>
<h3 id="gettotalrewardsclaimed"><a class="header" href="#gettotalrewardsclaimed">getTotalRewardsClaimed</a></h3>
<pre><code class="language-solidity">function getTotalRewardsClaimed(address account) external view returns (uint256 totalClaimed);
</code></pre>
<h3 id="getretirementdetails"><a class="header" href="#getretirementdetails">getRetirementDetails</a></h3>
<pre><code class="language-solidity">function getRetirementDetails(address account, uint256 retirementIndex)
    external
    view
    returns (
        address poolTokenAddress,
        address projectTokenAddress,
        address beneficiaryAddress,
        string memory beneficiary,
        string memory retirementMessage,
        uint256 amount
    );
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retiresourcefacet"><a class="header" href="#retiresourcefacet">RetireSourceFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/Retire/RetireSourceFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/Retire/RetireSourceFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="retireexactsourcedefault"><a class="header" href="#retireexactsourcedefault">retireExactSourceDefault</a></h3>
<p>Retires an exact amount of a source token using default redemption</p>
<pre><code class="language-solidity">function retireExactSourceDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external payable nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source ERC-20 token to use for the retirement</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens to spend in this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h3 id="retireexactsourcespecific"><a class="header" href="#retireexactsourcespecific">retireExactSourceSpecific</a></h3>
<p>Retires an exact amount of a source token using specific redemption</p>
<p><em>Initial value set assuming source == pool.</em></p>
<pre><code class="language-solidity">function retireExactSourceSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    LibTransfer.From fromMode
) external payable nonReentrant returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source ERC-20 token to use for the retirement</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token to redeem and retire</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens to spend in this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
<tr><td><code>fromMode</code></td><td><code>LibTransfer.From</code></td><td>From Mode for transfering tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The latest retirement index for the beneficiary address</td></tr>
</tbody></table>
</div>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="carbonretired-5"><a class="header" href="#carbonretired-5">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address poolToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondcutfacet"><a class="header" href="#diamondcutfacet">DiamondCutFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/DiamondCutFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/DiamondCutFacet.sol//src/infinity/interfaces/IDiamondCut.sol/interface.IDiamondCut.html">IDiamondCut</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/facets/DiamondCutFacet.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="diamondcut"><a class="header" href="#diamondcut">diamondCut</a></h3>
<p>Add/replace/remove any number of functions and optionally execute
a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="diamondloupefacet"><a class="header" href="#diamondloupefacet">DiamondLoupeFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/DiamondLoupeFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/DiamondLoupeFacet.sol//src/infinity/interfaces/IDiamondLoupe.sol/interface.IDiamondLoupe.html">IDiamondLoupe</a>, <a href="src/infinity/facets/DiamondLoupeFacet.sol//src/infinity/interfaces/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/facets/DiamondLoupeFacet.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="facets"><a class="header" href="#facets">facets</a></h3>
<p>These functions are expected to be called frequently by tools.</p>
<p>Gets all facets and their selectors.</p>
<pre><code class="language-solidity">function facets() external view override returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors"><a class="header" href="#facetfunctionselectors">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors provided by a facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet)
    external
    view
    override
    returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses"><a class="header" href="#facetaddresses">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view override returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress"><a class="header" href="#facetaddress">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view override returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<pre><code class="language-solidity">function supportsInterface(bytes4 _interfaceId) external view override returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dustfacet"><a class="header" href="#dustfacet">DustFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/DustFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/DustFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="senddust"><a class="header" href="#senddust">sendDust</a></h3>
<pre><code class="language-solidity">function sendDust() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc1155receiverfacet"><a class="header" href="#erc1155receiverfacet">ERC1155ReceiverFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/ERC1155ReceiverFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/ERC1155ReceiverFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a>, <a href="src/infinity/facets/ERC1155ReceiverFacet.sol//src/infinity/interfaces/IERC1155Receiver.sol/interface.IERC1155Receiver.html">IERC1155Receiver</a></p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="onerc1155received"><a class="header" href="#onerc1155received">onERC1155Received</a></h3>
<pre><code class="language-solidity">function onERC1155Received(address operator, address from, uint256 id, uint256 value, bytes calldata data)
    external
    virtual
    override
    returns (bytes4);
</code></pre>
<h3 id="onerc1155batchreceived"><a class="header" href="#onerc1155batchreceived">onERC1155BatchReceived</a></h3>
<pre><code class="language-solidity">function onERC1155BatchReceived(
    address operator,
    address from,
    uint256[] calldata ids,
    uint256[] calldata values,
    bytes calldata data
) external virtual override returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc721receiverfacet"><a class="header" href="#erc721receiverfacet">ERC721ReceiverFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/ERC721ReceiverFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/ERC721ReceiverFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a>, <a href="src/infinity/facets/ERC721ReceiverFacet.sol//src/infinity/interfaces/IERC721Receiver.sol/interface.IERC721Receiver.html">IERC721Receiver</a></p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="onerc721received"><a class="header" href="#onerc721received">onERC721Received</a></h3>
<pre><code class="language-solidity">function onERC721Received(address, address, uint256 tokenId, bytes memory) external virtual override returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="metatransactionsfacet"><a class="header" href="#metatransactionsfacet">MetaTransactionsFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/MetaTransactionsFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/MetaTransactionsFacet.sol//src/infinity/ReentrancyGuard.sol/abstract.ReentrancyGuard.html">ReentrancyGuard</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="meta_transaction_typehash"><a class="header" href="#meta_transaction_typehash">META_TRANSACTION_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 private constant META_TRANSACTION_TYPEHASH =
    keccak256(bytes(&quot;MetaTransaction(uint256 nonce,address from,bytes functionSignature)&quot;));
</code></pre>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="convertbytestobytes4"><a class="header" href="#convertbytestobytes4">convertBytesToBytes4</a></h3>
<pre><code class="language-solidity">function convertBytesToBytes4(bytes memory inBytes) internal pure returns (bytes4 outBytes4);
</code></pre>
<h3 id="getdomainseparator"><a class="header" href="#getdomainseparator">getDomainSeparator</a></h3>
<pre><code class="language-solidity">function getDomainSeparator() private view returns (bytes32);
</code></pre>
<h3 id="totypedmessagehash"><a class="header" href="#totypedmessagehash">toTypedMessageHash</a></h3>
<p>Accept message hash and returns hash message in EIP712 compatible form
So that it can be used to recover signer from signature signed using EIP712 formatted data
https://eips.ethereum.org/EIPS/eip-712
&quot;\x19&quot; makes the encoding deterministic
&quot;\x01&quot; is the version byte to make it compatible to EIP-191</p>
<pre><code class="language-solidity">function toTypedMessageHash(bytes32 messageHash) internal view returns (bytes32);
</code></pre>
<h3 id="hashmetatransaction"><a class="header" href="#hashmetatransaction">hashMetaTransaction</a></h3>
<pre><code class="language-solidity">function hashMetaTransaction(MetaTransaction memory metaTx) internal pure returns (bytes32);
</code></pre>
<h3 id="getnonce"><a class="header" href="#getnonce">getNonce</a></h3>
<p>Query the latest nonce of an address</p>
<pre><code class="language-solidity">function getNonce(address user) external view returns (uint256 nonce_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>Address to query</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nonce_</code></td><td><code>uint256</code></td><td>The latest nonce for the address</td></tr>
</tbody></table>
</div>
<h3 id="verify"><a class="header" href="#verify">verify</a></h3>
<pre><code class="language-solidity">function verify(address user, MetaTransaction memory metaTx, bytes32 sigR, bytes32 sigS, uint8 sigV)
    internal
    view
    returns (bool);
</code></pre>
<h3 id="executemetatransaction"><a class="header" href="#executemetatransaction">executeMetaTransaction</a></h3>
<pre><code class="language-solidity">function executeMetaTransaction(
    address userAddress,
    bytes memory functionSignature,
    bytes32 sigR,
    bytes32 sigS,
    uint8 sigV
) public payable returns (bytes memory);
</code></pre>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="metatransactionexecuted"><a class="header" href="#metatransactionexecuted">MetaTransactionExecuted</a></h3>
<pre><code class="language-solidity">event MetaTransactionExecuted(address userAddress, address payable relayerAddress, bytes functionSignature);
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="metatransaction"><a class="header" href="#metatransaction">MetaTransaction</a></h3>
<pre><code class="language-solidity">struct MetaTransaction {
    uint256 nonce;
    address from;
    bytes functionSignature;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownershipfacet"><a class="header" href="#ownershipfacet">OwnershipFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/OwnershipFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/facets/OwnershipFacet.sol//src/infinity/interfaces/IERC173.sol/interface.IERC173.html">IERC173</a></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="transferownership"><a class="header" href="#transferownership">transferOwnership</a></h3>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external override;
</code></pre>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<pre><code class="language-solidity">function owner() external view override returns (address owner_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retirementquoter"><a class="header" href="#retirementquoter">RetirementQuoter</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/RetirementQuoter.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="s"><a class="header" href="#s">s</a></h3>
<pre><code class="language-solidity">AppStorage internal s;
</code></pre>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="getsourceamountswaponly"><a class="header" href="#getsourceamountswaponly">getSourceAmountSwapOnly</a></h3>
<pre><code class="language-solidity">function getSourceAmountSwapOnly(address sourceToken, address carbonToken, uint256 amountOut)
    public
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountdefaultretirement"><a class="header" href="#getsourceamountdefaultretirement">getSourceAmountDefaultRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountDefaultRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    public
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountspecificretirement"><a class="header" href="#getsourceamountspecificretirement">getSourceAmountSpecificRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountSpecificRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    public
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountdefaultredeem"><a class="header" href="#getsourceamountdefaultredeem">getSourceAmountDefaultRedeem</a></h3>
<pre><code class="language-solidity">function getSourceAmountDefaultRedeem(address sourceToken, address carbonToken, uint256 redeemAmount)
    public
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountspecificredeem"><a class="header" href="#getsourceamountspecificredeem">getSourceAmountSpecificRedeem</a></h3>
<pre><code class="language-solidity">function getSourceAmountSpecificRedeem(address sourceToken, address carbonToken, uint256[] memory redeemAmounts)
    public
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getretireamountsourcedefault"><a class="header" href="#getretireamountsourcedefault">getRetireAmountSourceDefault</a></h3>
<pre><code class="language-solidity">function getRetireAmountSourceDefault(address sourceToken, address carbonToken, uint256 amount)
    public
    view
    returns (uint256 amountOut);
</code></pre>
<h3 id="getretireamountsourcespecific"><a class="header" href="#getretireamountsourcespecific">getRetireAmountSourceSpecific</a></h3>
<pre><code class="language-solidity">function getRetireAmountSourceSpecific(address sourceToken, address carbonToken, uint256 amount)
    public
    view
    returns (uint256 amountOut);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokenfacet"><a class="header" href="#tokenfacet">TokenFacet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/facets/TokenFacet.sol">Git Source</a></p>
<p><strong>Author:</strong>
Publius</p>
<p>SPDX-License-Identifier: MIT</p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="transfertoken"><a class="header" href="#transfertoken">transferToken</a></h3>
<p>Transfer</p>
<pre><code class="language-solidity">function transferToken(
    IERC20 token,
    address recipient,
    uint256 amount,
    LibTransfer.From fromMode,
    LibTransfer.To toMode
) external payable;
</code></pre>
<h3 id="wrapmatic"><a class="header" href="#wrapmatic">wrapMatic</a></h3>
<p>Weth</p>
<pre><code class="language-solidity">function wrapMatic(uint256 amount, LibTransfer.To mode) external payable;
</code></pre>
<h3 id="unwrapmatic"><a class="header" href="#unwrapmatic">unwrapMatic</a></h3>
<pre><code class="language-solidity">function unwrapMatic(uint256 amount, LibTransfer.From mode) external payable;
</code></pre>
<h3 id="getinternalbalance"><a class="header" href="#getinternalbalance">getInternalBalance</a></h3>
<p>Getters</p>
<pre><code class="language-solidity">function getInternalBalance(address account, IERC20 token) public view returns (uint256 balance);
</code></pre>
<h3 id="getinternalbalances"><a class="header" href="#getinternalbalances">getInternalBalances</a></h3>
<pre><code class="language-solidity">function getInternalBalances(address account, IERC20[] memory tokens)
    external
    view
    returns (uint256[] memory balances);
</code></pre>
<h3 id="getexternalbalance"><a class="header" href="#getexternalbalance">getExternalBalance</a></h3>
<pre><code class="language-solidity">function getExternalBalance(address account, IERC20 token) public view returns (uint256 balance);
</code></pre>
<h3 id="getexternalbalances"><a class="header" href="#getexternalbalances">getExternalBalances</a></h3>
<pre><code class="language-solidity">function getExternalBalances(address account, IERC20[] memory tokens)
    external
    view
    returns (uint256[] memory balances);
</code></pre>
<h3 id="getbalance"><a class="header" href="#getbalance">getBalance</a></h3>
<pre><code class="language-solidity">function getBalance(address account, IERC20 token) public view returns (uint256 balance);
</code></pre>
<h3 id="getbalances"><a class="header" href="#getbalances">getBalances</a></h3>
<pre><code class="language-solidity">function getBalances(address account, IERC20[] memory tokens) external view returns (uint256[] memory balances);
</code></pre>
<h3 id="getallbalance"><a class="header" href="#getallbalance">getAllBalance</a></h3>
<pre><code class="language-solidity">function getAllBalance(address account, IERC20 token) public view returns (Balance memory b);
</code></pre>
<h3 id="getallbalances"><a class="header" href="#getallbalances">getAllBalances</a></h3>
<pre><code class="language-solidity">function getAllBalances(address account, IERC20[] memory tokens) external view returns (Balance[] memory balances);
</code></pre>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="internalbalancechanged"><a class="header" href="#internalbalancechanged">InternalBalanceChanged</a></h3>
<pre><code class="language-solidity">event InternalBalanceChanged(address indexed user, IERC20 indexed token, int256 delta);
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="balance"><a class="header" href="#balance">Balance</a></h3>
<pre><code class="language-solidity">struct Balance {
    uint256 internalBalance;
    uint256 externalBalance;
    uint256 totalBalance;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/infinity/init/DiamondInit.sol/contract.DiamondInit.html">DiamondInit</a></li>
<li><a href="src/infinity/init/InitProjectTotals.sol/contract.InitProjectTotals.html">InitProjectTotals</a></li>
<li><a href="src/infinity/init/_EmptyInit.sol/contract._EmptyInit.html">_EmptyInit</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondinit"><a class="header" href="#diamondinit">DiamondInit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/init/DiamondInit.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/init/DiamondInit.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
Implementation of a diamond.
/*****************************************************************************</p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="s-1"><a class="header" href="#s-1">s</a></h3>
<pre><code class="language-solidity">AppStorage internal s;
</code></pre>
<h3 id="max_int"><a class="header" href="#max_int">MAX_INT</a></h3>
<pre><code class="language-solidity">uint256 private constant MAX_INT = 2 ** 256 - 1;
</code></pre>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="init"><a class="header" href="#init">init</a></h3>
<pre><code class="language-solidity">function init() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initprojecttotals"><a class="header" href="#initprojecttotals">InitProjectTotals</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/init/InitProjectTotals.sol">Git Source</a></p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="s-2"><a class="header" href="#s-2">s</a></h3>
<pre><code class="language-solidity">AppStorage internal s;
</code></pre>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="init-1"><a class="header" href="#init-1">init</a></h3>
<pre><code class="language-solidity">function init() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="_emptyinit"><a class="header" href="#_emptyinit">_EmptyInit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/init/_EmptyInit.sol">Git Source</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="init-2"><a class="header" href="#init-2">init</a></h3>
<pre><code class="language-solidity">function init() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/infinity/interfaces/IC3.sol/interface.IC3Pool.html">IC3Pool</a></li>
<li><a href="src/infinity/interfaces/IC3.sol/interface.IC3ProjectToken.html">IC3ProjectToken</a></li>
<li><a href="src/infinity/interfaces/IC3.sol/interface.IC3ProjectFactory.html">IC3ProjectFactory</a></li>
<li><a href="src/infinity/interfaces/ICarbonChain.sol/interface.ICarbonChain.html">ICarbonChain</a></li>
<li><a href="src/infinity/interfaces/ICarbonmark.sol/interface.ICarbonmark.html">ICarbonmark</a></li>
<li><a href="src/infinity/interfaces/IDiamond.sol/interface.IDiamond.html">IDiamond</a></li>
<li><a href="src/infinity/interfaces/IDiamondCut.sol/interface.IDiamondCut.html">IDiamondCut</a></li>
<li><a href="src/infinity/interfaces/IDiamondLoupe.sol/interface.IDiamondLoupe.html">IDiamondLoupe</a></li>
<li><a href="src/infinity/interfaces/IERC1155Receiver.sol/interface.IERC1155Receiver.html">IERC1155Receiver</a></li>
<li><a href="src/infinity/interfaces/IERC165.sol/interface.IERC165.html">IERC165</a></li>
<li><a href="src/infinity/interfaces/IERC173.sol/interface.IERC173.html">IERC173</a></li>
<li><a href="src/infinity/interfaces/IERC721Receiver.sol/interface.IERC721Receiver.html">IERC721Receiver</a></li>
<li><a href="src/infinity/interfaces/IInternationalCarbonRegistry.sol/interface.ICarbonContractRegistry.html">ICarbonContractRegistry</a></li>
<li><a href="src/infinity/interfaces/IInternationalCarbonRegistry.sol/interface.IProject.html">IProject</a></li>
<li><a href="src/infinity/interfaces/IKlima.sol/interface.IStaking.html">IStaking</a></li>
<li><a href="src/infinity/interfaces/IKlima.sol/interface.IStakingHelper.html">IStakingHelper</a></li>
<li><a href="src/infinity/interfaces/IKlima.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li>
<li><a href="src/infinity/interfaces/IKlima.sol/interface.IKlimaRetirementBond.html">IKlimaRetirementBond</a></li>
<li><a href="src/infinity/interfaces/IKlimaCarbonRetirements.sol/interface.IKlimaCarbonRetirements.html">IKlimaCarbonRetirements</a></li>
<li><a href="src/infinity/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li>
<li><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanPool.html">IToucanPool</a></li>
<li><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanCarbonOffsets.html">IToucanCarbonOffsets</a></li>
<li><a href="src/infinity/interfaces/IToucan.sol/interface.IToucanContractRegistry.html">IToucanContractRegistry</a></li>
<li><a href="src/infinity/interfaces/ITrident.sol/interface.IBentoBoxMinimal.html">IBentoBoxMinimal</a></li>
<li><a href="src/infinity/interfaces/ITrident.sol/interface.ITridentRouter.html">ITridentRouter</a></li>
<li><a href="src/infinity/interfaces/ITrident.sol/interface.ITridentPool.html">ITridentPool</a></li>
<li><a href="src/infinity/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li>
<li><a href="src/infinity/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li>
<li><a href="src/infinity/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li>
<li><a href="src/infinity/interfaces/IWMATIC.sol/interface.IWMATIC.html">IWMATIC</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ic3pool"><a class="header" href="#ic3pool">IC3Pool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IC3.sol">Git Source</a></p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="freeredeem"><a class="header" href="#freeredeem">freeRedeem</a></h3>
<pre><code class="language-solidity">function freeRedeem(uint256 amount) external;
</code></pre>
<h3 id="taxedredeem"><a class="header" href="#taxedredeem">taxedRedeem</a></h3>
<pre><code class="language-solidity">function taxedRedeem(address[] memory erc20Addresses, uint256[] memory amount) external;
</code></pre>
<h3 id="getfreeredeemaddresses"><a class="header" href="#getfreeredeemaddresses">getFreeRedeemAddresses</a></h3>
<pre><code class="language-solidity">function getFreeRedeemAddresses() external view returns (address[] memory);
</code></pre>
<h3 id="geterc20tokens"><a class="header" href="#geterc20tokens">getERC20Tokens</a></h3>
<pre><code class="language-solidity">function getERC20Tokens() external view returns (address[] memory);
</code></pre>
<h3 id="feeredeem"><a class="header" href="#feeredeem">feeRedeem</a></h3>
<pre><code class="language-solidity">function feeRedeem() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ic3projecttoken"><a class="header" href="#ic3projecttoken">IC3ProjectToken</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IC3.sol">Git Source</a></p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="offsetfor"><a class="header" href="#offsetfor">offsetFor</a></h3>
<pre><code class="language-solidity">function offsetFor(uint256 amount, address beneficiary, string memory transferee, string memory reason) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ic3projectfactory"><a class="header" href="#ic3projectfactory">IC3ProjectFactory</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IC3.sol">Git Source</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="istokenexists"><a class="header" href="#istokenexists">isTokenExists</a></h3>
<pre><code class="language-solidity">function isTokenExists(address _address) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icarbonchain"><a class="header" href="#icarbonchain">ICarbonChain</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/ICarbonChain.sol">Git Source</a></p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="offsetcarbon"><a class="header" href="#offsetcarbon">offsetCarbon</a></h3>
<pre><code class="language-solidity">function offsetCarbon(uint256 _carbonTon, string calldata _transactionInfo, string calldata _onBehalfOf) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icarbonmark"><a class="header" href="#icarbonmark">ICarbonmark</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/ICarbonmark.sol">Git Source</a></p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="createlisting"><a class="header" href="#createlisting">createListing</a></h3>
<p>This function creates a new listing and returns the resulting listing ID</p>
<pre><code class="language-solidity">function createListing(address token, uint256 amount, uint256 unitPrice, uint256 minFillAmount, uint256 deadline)
    external
    returns (bytes32 id);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The token being listed</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to be listed</td></tr>
<tr><td><code>unitPrice</code></td><td><code>uint256</code></td><td>The unit price in USDC to list. Should be provided in full form so a price of 2.5 USDC = input of 2500000</td></tr>
<tr><td><code>minFillAmount</code></td><td><code>uint256</code></td><td>The minimum number of tons needed to be purchased to fill this listing</td></tr>
<tr><td><code>deadline</code></td><td><code>uint256</code></td><td>The block timestamp at which this listing will expire</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>bytes32</code></td><td>The ID of the listing that was created</td></tr>
</tbody></table>
</div>
<h3 id="filllisting"><a class="header" href="#filllisting">fillListing</a></h3>
<p>This function fills an existing listing</p>
<pre><code class="language-solidity">function fillListing(
    bytes32 id,
    address listingAccount,
    address listingToken,
    uint256 listingUnitPrice,
    uint256 amount,
    uint256 maxCost
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>bytes32</code></td><td>The listing ID to update</td></tr>
<tr><td><code>listingAccount</code></td><td><code>address</code></td><td>The account that created the listing you are filling</td></tr>
<tr><td><code>listingToken</code></td><td><code>address</code></td><td>The token you are swapping for</td></tr>
<tr><td><code>listingUnitPrice</code></td><td><code>uint256</code></td><td>The unit price per token to fill the listing</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of the listing to fill</td></tr>
<tr><td><code>maxCost</code></td><td><code>uint256</code></td><td>Maximum cost in USDC for filling this listing</td></tr>
</tbody></table>
</div>
<h3 id="getlistingowner"><a class="header" href="#getlistingowner">getListingOwner</a></h3>
<pre><code class="language-solidity">function getListingOwner(bytes32 id) external view returns (address);
</code></pre>
<h3 id="getunitprice"><a class="header" href="#getunitprice">getUnitPrice</a></h3>
<pre><code class="language-solidity">function getUnitPrice(bytes32 id) external view returns (uint256);
</code></pre>
<h3 id="getremainingamount"><a class="header" href="#getremainingamount">getRemainingAmount</a></h3>
<pre><code class="language-solidity">function getRemainingAmount(bytes32 id) external view returns (uint256);
</code></pre>
<h3 id="getlistingdeadline"><a class="header" href="#getlistingdeadline">getListingDeadline</a></h3>
<pre><code class="language-solidity">function getListingDeadline(bytes32 id) external view returns (uint256);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="creditlisting"><a class="header" href="#creditlisting">CreditListing</a></h3>
<p>Struct containing all of the detail information needed to fill a listing</p>
<pre><code class="language-solidity">struct CreditListing {
    bytes32 id;
    address account;
    address token;
    uint256 tokenId;
    uint256 remainingAmount;
    uint256 unitPrice;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamond"><a class="header" href="#idiamond">IDiamond</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IDiamond.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/interfaces/IDiamond.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="diamondcut-1"><a class="header" href="#diamondcut-1">DiamondCut</a></h3>
<pre><code class="language-solidity">event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="facetcut"><a class="header" href="#facetcut">FacetCut</a></h3>
<pre><code class="language-solidity">struct FacetCut {
    address facetAddress;
    FacetCutAction action;
    bytes4[] functionSelectors;
}
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="facetcutaction"><a class="header" href="#facetcutaction">FacetCutAction</a></h3>
<pre><code class="language-solidity">enum FacetCutAction {
    Add,
    Replace,
    Remove
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondcut"><a class="header" href="#idiamondcut">IDiamondCut</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IDiamondCut.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/interfaces/IDiamondCut.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="diamondcut-2"><a class="header" href="#diamondcut-2">diamondCut</a></h3>
<p>Add/replace/remove any number of functions and optionally execute
a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="diamondcut-3"><a class="header" href="#diamondcut-3">DiamondCut</a></h3>
<pre><code class="language-solidity">event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="facetcut-1"><a class="header" href="#facetcut-1">FacetCut</a></h3>
<pre><code class="language-solidity">struct FacetCut {
    address facetAddress;
    FacetCutAction action;
    bytes4[] functionSelectors;
}
</code></pre>
<h2 id="enums-1"><a class="header" href="#enums-1">Enums</a></h2>
<h3 id="facetcutaction-1"><a class="header" href="#facetcutaction-1">FacetCutAction</a></h3>
<pre><code class="language-solidity">enum FacetCutAction {
    Add,
    Replace,
    Remove
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondloupe"><a class="header" href="#idiamondloupe">IDiamondLoupe</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IDiamondLoupe.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/interfaces/IDiamondLoupe.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="facets-1"><a class="header" href="#facets-1">facets</a></h3>
<p>Gets all facet addresses and their four byte function selectors.</p>
<pre><code class="language-solidity">function facets() external view returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors-1"><a class="header" href="#facetfunctionselectors-1">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors supported by a specific facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet) external view returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses-1"><a class="header" href="#facetaddresses-1">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress-1"><a class="header" href="#facetaddress-1">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="facet"><a class="header" href="#facet">Facet</a></h3>
<p>These functions are expected to be called frequently
by tools.</p>
<pre><code class="language-solidity">struct Facet {
    address facetAddress;
    bytes4[] functionSelectors;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc1155receiver"><a class="header" href="#ierc1155receiver">IERC1155Receiver</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IERC1155Receiver.sol">Git Source</a></p>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="onerc1155received-1"><a class="header" href="#onerc1155received-1">onERC1155Received</a></h3>
<p><em>Handles the receipt of a single ERC1155 token type. This function is
called at the end of a <code>safeTransferFrom</code> after the balance has been updated.
NOTE: To accept the transfer, this must return
<code>bytes4(keccak256(&quot;onERC1155Received(address,address,uint256,uint256,bytes)&quot;))</code>
(i.e. 0xf23a6e61, or its own function selector).</em></p>
<pre><code class="language-solidity">function onERC1155Received(address operator, address from, uint256 id, uint256 value, bytes calldata data)
    external
    returns (bytes4);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operator</code></td><td><code>address</code></td><td>The address which initiated the transfer (i.e. msg.sender)</td></tr>
<tr><td><code>from</code></td><td><code>address</code></td><td>The address which previously owned the token</td></tr>
<tr><td><code>id</code></td><td><code>uint256</code></td><td>The ID of the token being transferred</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The amount of tokens being transferred</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional data with no specified format</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes4</code></td><td><code>bytes4(keccak256(&quot;onERC1155Received(address,address,uint256,uint256,bytes)&quot;))</code> if transfer is allowed</td></tr>
</tbody></table>
</div>
<h3 id="onerc1155batchreceived-1"><a class="header" href="#onerc1155batchreceived-1">onERC1155BatchReceived</a></h3>
<p><em>Handles the receipt of a multiple ERC1155 token types. This function
is called at the end of a <code>safeBatchTransferFrom</code> after the balances have
been updated.
NOTE: To accept the transfer(s), this must return
<code>bytes4(keccak256(&quot;onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)&quot;))</code>
(i.e. 0xbc197c81, or its own function selector).</em></p>
<pre><code class="language-solidity">function onERC1155BatchReceived(
    address operator,
    address from,
    uint256[] calldata ids,
    uint256[] calldata values,
    bytes calldata data
) external returns (bytes4);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operator</code></td><td><code>address</code></td><td>The address which initiated the batch transfer (i.e. msg.sender)</td></tr>
<tr><td><code>from</code></td><td><code>address</code></td><td>The address which previously owned the token</td></tr>
<tr><td><code>ids</code></td><td><code>uint256[]</code></td><td>An array containing ids of each token being transferred (order and length must match values array)</td></tr>
<tr><td><code>values</code></td><td><code>uint256[]</code></td><td>An array containing amounts of each token being transferred (order and length must match ids array)</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional data with no specified format</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes4</code></td><td><code>bytes4(keccak256(&quot;onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)&quot;))</code> if transfer is allowed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ierc165"><a class="header" href="#ierc165">IERC165</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IERC165.sol">Git Source</a></p>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="supportsinterface-1"><a class="header" href="#supportsinterface-1">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ierc173"><a class="header" href="#ierc173">IERC173</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IERC173.sol">Git Source</a></p>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="owner-1"><a class="header" href="#owner-1">owner</a></h3>
<p>Get the address of the owner</p>
<pre><code class="language-solidity">function owner() external view returns (address owner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The address of the owner.</td></tr>
</tbody></table>
</div>
<h3 id="transferownership-1"><a class="header" href="#transferownership-1">transferOwnership</a></h3>
<p>Set the address of the new owner of the contract</p>
<p><em>Set _newOwner to address(0) to renounce any ownership.</em></p>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>The address of the new owner of the contract</td></tr>
</tbody></table>
</div>
<h2 id="events-10"><a class="header" href="#events-10">Events</a></h2>
<h3 id="ownershiptransferred"><a class="header" href="#ownershiptransferred">OwnershipTransferred</a></h3>
<p><em>This emits when ownership of a contract changes.</em></p>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc721receiver"><a class="header" href="#ierc721receiver">IERC721Receiver</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IERC721Receiver.sol">Git Source</a></p>
<p><em>Interface for any contract that wants to support safeTransfers
from ERC721 asset contracts.</em></p>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="onerc721received-1"><a class="header" href="#onerc721received-1">onERC721Received</a></h3>
<p><em>Whenever an {IERC721} <code>tokenId</code> token is transferred to this contract via {IERC721-safeTransferFrom}
by <code>operator</code> from <code>from</code>, this function is called.
It must return its Solidity selector to confirm the token transfer.
If any other value is returned or the interface is not implemented by the recipient, the transfer will be reverted.
The selector can be obtained in Solidity with <code>IERC721Receiver.onERC721Received.selector</code>.</em></p>
<pre><code class="language-solidity">function onERC721Received(address operator, address from, uint256 tokenId, bytes calldata data)
    external
    returns (bytes4);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icarboncontractregistry"><a class="header" href="#icarboncontractregistry">ICarbonContractRegistry</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IInternationalCarbonRegistry.sol">Git Source</a></p>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="gettokenvaultbeaconaddress"><a class="header" href="#gettokenvaultbeaconaddress">getTokenVaultBeaconAddress</a></h3>
<pre><code class="language-solidity">function getTokenVaultBeaconAddress() external view returns (address);
</code></pre>
<h3 id="getverifiedvaultaddress"><a class="header" href="#getverifiedvaultaddress">getVerifiedVaultAddress</a></h3>
<pre><code class="language-solidity">function getVerifiedVaultAddress(uint256 id) external view returns (address);
</code></pre>
<h3 id="getserializationaddress"><a class="header" href="#getserializationaddress">getSerializationAddress</a></h3>
<pre><code class="language-solidity">function getSerializationAddress(string calldata serialization) external view returns (address);
</code></pre>
<h3 id="getprojectaddressfromid"><a class="header" href="#getprojectaddressfromid">getProjectAddressFromId</a></h3>
<pre><code class="language-solidity">function getProjectAddressFromId(uint256 projectId) external view returns (address);
</code></pre>
<h3 id="getprojectidfromaddress"><a class="header" href="#getprojectidfromaddress">getProjectIdFromAddress</a></h3>
<pre><code class="language-solidity">function getProjectIdFromAddress(address projectAddress) external view returns (uint256);
</code></pre>
<h3 id="getbeaconaddress"><a class="header" href="#getbeaconaddress">getBeaconAddress</a></h3>
<pre><code class="language-solidity">function getBeaconAddress() external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iproject"><a class="header" href="#iproject">IProject</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IInternationalCarbonRegistry.sol">Git Source</a></p>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="retire"><a class="header" href="#retire">retire</a></h3>
<pre><code class="language-solidity">function retire(
    uint256 tokenId,
    uint256 amount,
    address beneficiary,
    string memory retireeName,
    string memory customUri,
    string memory comment,
    bytes memory data
) external returns (uint256 nftTokenId);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istaking"><a class="header" href="#istaking">IStaking</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlima.sol">Git Source</a></p>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="unstake"><a class="header" href="#unstake">unstake</a></h3>
<pre><code class="language-solidity">function unstake(uint256 _amount, bool _trigger) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istakinghelper"><a class="header" href="#istakinghelper">IStakingHelper</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlima.sol">Git Source</a></p>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="stake"><a class="header" href="#stake">stake</a></h3>
<pre><code class="language-solidity">function stake(uint256 _amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwsklima"><a class="header" href="#iwsklima">IwsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlima.sol">Git Source</a></p>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="wrap"><a class="header" href="#wrap">wrap</a></h3>
<pre><code class="language-solidity">function wrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="unwrap"><a class="header" href="#unwrap">unwrap</a></h3>
<pre><code class="language-solidity">function unwrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="wklimatosklima"><a class="header" href="#wklimatosklima">wKLIMATosKLIMA</a></h3>
<pre><code class="language-solidity">function wKLIMATosKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<h3 id="sklimatowklima"><a class="header" href="#sklimatowklima">sKLIMATowKLIMA</a></h3>
<pre><code class="language-solidity">function sKLIMATowKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimaretirementbond"><a class="header" href="#iklimaretirementbond">IKlimaRetirementBond</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlima.sol">Git Source</a></p>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="swaptoexact"><a class="header" href="#swaptoexact">swapToExact</a></h3>
<pre><code class="language-solidity">function swapToExact(address poolToken, uint256 amount) external;
</code></pre>
<h3 id="getklimaamount"><a class="header" href="#getklimaamount">getKlimaAmount</a></h3>
<pre><code class="language-solidity">function getKlimaAmount(uint256 poolAmount, address poolToken) external view returns (uint256 klimaNeeded);
</code></pre>
<h3 id="owner-2"><a class="header" href="#owner-2">owner</a></h3>
<pre><code class="language-solidity">function owner() external returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimacarbonretirements"><a class="header" href="#iklimacarbonretirements">IKlimaCarbonRetirements</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlimaCarbonRetirements.sol">Git Source</a></p>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="carbonretired-6"><a class="header" href="#carbonretired-6">carbonRetired</a></h3>
<pre><code class="language-solidity">function carbonRetired(
    address _retiree,
    address _pool,
    uint256 _amount,
    string calldata _beneficiaryString,
    string calldata _retirementMessage
) external;
</code></pre>
<h3 id="getunclaimedtotal"><a class="header" href="#getunclaimedtotal">getUnclaimedTotal</a></h3>
<pre><code class="language-solidity">function getUnclaimedTotal(address _minter) external view returns (uint256);
</code></pre>
<h3 id="offsetclaimed"><a class="header" href="#offsetclaimed">offsetClaimed</a></h3>
<pre><code class="language-solidity">function offsetClaimed(address _minter, uint256 _amount) external returns (bool);
</code></pre>
<h3 id="getretirementindexinfo"><a class="header" href="#getretirementindexinfo">getRetirementIndexInfo</a></h3>
<pre><code class="language-solidity">function getRetirementIndexInfo(address _retiree, uint256 _index)
    external
    view
    returns (address, uint256, string memory, string memory);
</code></pre>
<h3 id="getretirementpoolinfo"><a class="header" href="#getretirementpoolinfo">getRetirementPoolInfo</a></h3>
<pre><code class="language-solidity">function getRetirementPoolInfo(address _retiree, address _pool) external view returns (uint256);
</code></pre>
<h3 id="getretirementtotals"><a class="header" href="#getretirementtotals">getRetirementTotals</a></h3>
<pre><code class="language-solidity">function getRetirementTotals(address _retiree) external view returns (uint256, uint256, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimainfinity"><a class="header" href="#iklimainfinity">IKlimaInfinity</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IKlimaInfinity.sol">Git Source</a></p>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="toucan_retireexactcarbonpooldefault"><a class="header" href="#toucan_retireexactcarbonpooldefault">toucan_retireExactCarbonPoolDefault</a></h3>
<pre><code class="language-solidity">function toucan_retireExactCarbonPoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactcarbonpoolwithentitydefault"><a class="header" href="#toucan_retireexactcarbonpoolwithentitydefault">toucan_retireExactCarbonPoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function toucan_retireExactCarbonPoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactsourcepooldefault"><a class="header" href="#toucan_retireexactsourcepooldefault">toucan_retireExactSourcePoolDefault</a></h3>
<pre><code class="language-solidity">function toucan_retireExactSourcePoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactsourcepoolwithentitydefault"><a class="header" href="#toucan_retireexactsourcepoolwithentitydefault">toucan_retireExactSourcePoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function toucan_retireExactSourcePoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactcarbonpoolspecific"><a class="header" href="#toucan_retireexactcarbonpoolspecific">toucan_retireExactCarbonPoolSpecific</a></h3>
<pre><code class="language-solidity">function toucan_retireExactCarbonPoolSpecific(
    address sourceToken,
    address carbonToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactcarbonpoolwithentityspecific"><a class="header" href="#toucan_retireexactcarbonpoolwithentityspecific">toucan_retireExactCarbonPoolWithEntitySpecific</a></h3>
<pre><code class="language-solidity">function toucan_retireExactCarbonPoolWithEntitySpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactsourcepoolwithentityspecific"><a class="header" href="#toucan_retireexactsourcepoolwithentityspecific">toucan_retireExactSourcePoolWithEntitySpecific</a></h3>
<pre><code class="language-solidity">function toucan_retireExactSourcePoolWithEntitySpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 sourceAmount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="toucan_retireexactsourcepoolspecific"><a class="header" href="#toucan_retireexactsourcepoolspecific">toucan_retireExactSourcePoolSpecific</a></h3>
<pre><code class="language-solidity">function toucan_retireExactSourcePoolSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 sourceAmount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="moss_retireexactcarbonpooldefault"><a class="header" href="#moss_retireexactcarbonpooldefault">moss_retireExactCarbonPoolDefault</a></h3>
<pre><code class="language-solidity">function moss_retireExactCarbonPoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="moss_retireexactcarbonpoolwithentitydefault"><a class="header" href="#moss_retireexactcarbonpoolwithentitydefault">moss_retireExactCarbonPoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function moss_retireExactCarbonPoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="moss_retireexactsourcepooldefault"><a class="header" href="#moss_retireexactsourcepooldefault">moss_retireExactSourcePoolDefault</a></h3>
<pre><code class="language-solidity">function moss_retireExactSourcePoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 sourceAmount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="moss_retireexactsourcepoolwithentitydefault"><a class="header" href="#moss_retireexactsourcepoolwithentitydefault">moss_retireExactSourcePoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function moss_retireExactSourcePoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 sourceAmount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactcarbonpooldefault"><a class="header" href="#c3_retireexactcarbonpooldefault">c3_retireExactCarbonPoolDefault</a></h3>
<pre><code class="language-solidity">function c3_retireExactCarbonPoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactcarbonpoolwithentitydefault"><a class="header" href="#c3_retireexactcarbonpoolwithentitydefault">c3_retireExactCarbonPoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function c3_retireExactCarbonPoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactsourcepooldefault"><a class="header" href="#c3_retireexactsourcepooldefault">c3_retireExactSourcePoolDefault</a></h3>
<pre><code class="language-solidity">function c3_retireExactSourcePoolDefault(
    address sourceToken,
    address carbonToken,
    uint256 sourceAmount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactsourcepoolwithentitydefault"><a class="header" href="#c3_retireexactsourcepoolwithentitydefault">c3_retireExactSourcePoolWithEntityDefault</a></h3>
<pre><code class="language-solidity">function c3_retireExactSourcePoolWithEntityDefault(
    address sourceToken,
    address carbonToken,
    uint256 sourceAmount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactcarbonpoolspecific"><a class="header" href="#c3_retireexactcarbonpoolspecific">c3_retireExactCarbonPoolSpecific</a></h3>
<pre><code class="language-solidity">function c3_retireExactCarbonPoolSpecific(
    address sourceToken,
    address carbonToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactcarbonpoolwithentityspecific"><a class="header" href="#c3_retireexactcarbonpoolwithentityspecific">c3_retireExactCarbonPoolWithEntitySpecific</a></h3>
<pre><code class="language-solidity">function c3_retireExactCarbonPoolWithEntitySpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactsourcepoolwithentityspecific"><a class="header" href="#c3_retireexactsourcepoolwithentityspecific">c3_retireExactSourcePoolWithEntitySpecific</a></h3>
<pre><code class="language-solidity">function c3_retireExactSourcePoolWithEntitySpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 sourceAmount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<h3 id="c3_retireexactsourcepoolspecific"><a class="header" href="#c3_retireexactsourcepoolspecific">c3_retireExactSourcePoolSpecific</a></h3>
<pre><code class="language-solidity">function c3_retireExactSourcePoolSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 sourceAmount,
    address retiringAddress,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external returns (uint256 retirementIndex);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucanpool"><a class="header" href="#itoucanpool">IToucanPool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IToucan.sol">Git Source</a></p>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="redeemauto2"><a class="header" href="#redeemauto2">redeemAuto2</a></h3>
<pre><code class="language-solidity">function redeemAuto2(uint256 amount) external returns (address[] memory tco2s, uint256[] memory amounts);
</code></pre>
<h3 id="redeemmany"><a class="header" href="#redeemmany">redeemMany</a></h3>
<pre><code class="language-solidity">function redeemMany(address[] calldata erc20s, uint256[] calldata amounts) external;
</code></pre>
<h3 id="feeredeempercentageinbase"><a class="header" href="#feeredeempercentageinbase">feeRedeemPercentageInBase</a></h3>
<pre><code class="language-solidity">function feeRedeemPercentageInBase() external pure returns (uint256);
</code></pre>
<h3 id="feeredeemdivider"><a class="header" href="#feeredeemdivider">feeRedeemDivider</a></h3>
<pre><code class="language-solidity">function feeRedeemDivider() external pure returns (uint256);
</code></pre>
<h3 id="redeemfeeexemptedaddresses"><a class="header" href="#redeemfeeexemptedaddresses">redeemFeeExemptedAddresses</a></h3>
<pre><code class="language-solidity">function redeemFeeExemptedAddresses(address) external view returns (bool);
</code></pre>
<h3 id="getscoredtco2s"><a class="header" href="#getscoredtco2s">getScoredTCO2s</a></h3>
<pre><code class="language-solidity">function getScoredTCO2s() external view returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucancarbonoffsets"><a class="header" href="#itoucancarbonoffsets">IToucanCarbonOffsets</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IToucan.sol">Git Source</a></p>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="retire-1"><a class="header" href="#retire-1">retire</a></h3>
<pre><code class="language-solidity">function retire(uint256 amount) external;
</code></pre>
<h3 id="retireandmintcertificate"><a class="header" href="#retireandmintcertificate">retireAndMintCertificate</a></h3>
<pre><code class="language-solidity">function retireAndMintCertificate(
    string calldata retiringEntityString,
    address beneficiary,
    string calldata beneficiaryString,
    string calldata retirementMessage,
    uint256 amount
) external;
</code></pre>
<h3 id="mintcertificatelegacy"><a class="header" href="#mintcertificatelegacy">mintCertificateLegacy</a></h3>
<pre><code class="language-solidity">function mintCertificateLegacy(
    string calldata retiringEntityString,
    address beneficiary,
    string calldata beneficiaryString,
    string calldata retirementMessage,
    uint256 amount
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucancontractregistry"><a class="header" href="#itoucancontractregistry">IToucanContractRegistry</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IToucan.sol">Git Source</a></p>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="isvaliderc20"><a class="header" href="#isvaliderc20">isValidERC20</a></h3>
<pre><code class="language-solidity">function isValidERC20(address erc20) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibentoboxminimal"><a class="header" href="#ibentoboxminimal">IBentoBoxMinimal</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/ITrident.sol">Git Source</a></p>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="setmastercontractapproval"><a class="header" href="#setmastercontractapproval">setMasterContractApproval</a></h3>
<p><em>Approves users' BentoBox assets to a &quot;master&quot; contract.</em></p>
<pre><code class="language-solidity">function setMasterContractApproval(address user, address masterContract, bool approved, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="toamount"><a class="header" href="#toamount">toAmount</a></h3>
<pre><code class="language-solidity">function toAmount(IERC20 token, uint256 share, bool roundUp) external view returns (uint256 amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itridentrouter"><a class="header" href="#itridentrouter">ITridentRouter</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/ITrident.sol">Git Source</a></p>
<p>Trident pool router interface.</p>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="exactinputsinglewithnativetoken"><a class="header" href="#exactinputsinglewithnativetoken">exactInputSingleWithNativeToken</a></h3>
<pre><code class="language-solidity">function exactInputSingleWithNativeToken(ExactInputSingleParams calldata params)
    external
    payable
    returns (uint256 amountOut);
</code></pre>
<h2 id="structs-6"><a class="header" href="#structs-6">Structs</a></h2>
<h3 id="exactinputsingleparams"><a class="header" href="#exactinputsingleparams">ExactInputSingleParams</a></h3>
<pre><code class="language-solidity">struct ExactInputSingleParams {
    uint256 amountIn;
    uint256 amountOutMinimum;
    address pool;
    address tokenIn;
    bytes data;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itridentpool"><a class="header" href="#itridentpool">ITridentPool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/ITrident.sol">Git Source</a></p>
<p>Trident pool interface.</p>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="getamountout"><a class="header" href="#getamountout">getAmountOut</a></h3>
<p>Simulates a trade and returns the expected output.</p>
<p><em>The pool does not need to include a trade simulator directly in itself - it can use a library.</em></p>
<pre><code class="language-solidity">function getAmountOut(bytes calldata data) external view returns (uint256 finalAmountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>ABI-encoded params that the pool requires.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>finalAmountOut</code></td><td><code>uint256</code></td><td>The amount of output tokens that will be sent to the user if the trade is executed.</td></tr>
</tbody></table>
</div>
<h3 id="getamountin"><a class="header" href="#getamountin">getAmountIn</a></h3>
<p>Simulates a trade and returns the expected output.</p>
<p><em>The pool does not need to include a trade simulator directly in itself - it can use a library.</em></p>
<pre><code class="language-solidity">function getAmountIn(bytes calldata data) external view returns (uint256 finalAmountIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>ABI-encoded params that the pool requires.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>finalAmountIn</code></td><td><code>uint256</code></td><td>The amount of input tokens that are required from the user if the trade is executed.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2pair"><a class="header" href="#iuniswapv2pair">IUniswapV2Pair</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IUniswapV2Pair.sol">Git Source</a></p>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<pre><code class="language-solidity">function name() external pure returns (string memory);
</code></pre>
<h3 id="symbol"><a class="header" href="#symbol">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external pure returns (string memory);
</code></pre>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external pure returns (uint8);
</code></pre>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) external returns (bool);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="domain_separator"><a class="header" href="#domain_separator">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() external view returns (bytes32);
</code></pre>
<h3 id="permit_typehash"><a class="header" href="#permit_typehash">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">function PERMIT_TYPEHASH() external pure returns (bytes32);
</code></pre>
<h3 id="nonces"><a class="header" href="#nonces">nonces</a></h3>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<h3 id="permit"><a class="header" href="#permit">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="minimum_liquidity"><a class="header" href="#minimum_liquidity">MINIMUM_LIQUIDITY</a></h3>
<pre><code class="language-solidity">function MINIMUM_LIQUIDITY() external pure returns (uint256);
</code></pre>
<h3 id="factory"><a class="header" href="#factory">factory</a></h3>
<pre><code class="language-solidity">function factory() external view returns (address);
</code></pre>
<h3 id="token0"><a class="header" href="#token0">token0</a></h3>
<pre><code class="language-solidity">function token0() external view returns (address);
</code></pre>
<h3 id="token1"><a class="header" href="#token1">token1</a></h3>
<pre><code class="language-solidity">function token1() external view returns (address);
</code></pre>
<h3 id="getreserves"><a class="header" href="#getreserves">getReserves</a></h3>
<pre><code class="language-solidity">function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);
</code></pre>
<h3 id="price0cumulativelast"><a class="header" href="#price0cumulativelast">price0CumulativeLast</a></h3>
<pre><code class="language-solidity">function price0CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="price1cumulativelast"><a class="header" href="#price1cumulativelast">price1CumulativeLast</a></h3>
<pre><code class="language-solidity">function price1CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="klast"><a class="header" href="#klast">kLast</a></h3>
<pre><code class="language-solidity">function kLast() external view returns (uint256);
</code></pre>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<pre><code class="language-solidity">function mint(address to) external returns (uint256 liquidity);
</code></pre>
<h3 id="burn"><a class="header" href="#burn">burn</a></h3>
<pre><code class="language-solidity">function burn(address to) external returns (uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="swap"><a class="header" href="#swap">swap</a></h3>
<pre><code class="language-solidity">function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;
</code></pre>
<h3 id="skim"><a class="header" href="#skim">skim</a></h3>
<pre><code class="language-solidity">function skim(address to) external;
</code></pre>
<h3 id="sync"><a class="header" href="#sync">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address, address) external;
</code></pre>
<h2 id="events-11"><a class="header" href="#events-11">Events</a></h2>
<h3 id="approval"><a class="header" href="#approval">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<h3 id="transfer-1"><a class="header" href="#transfer-1">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="mint-1"><a class="header" href="#mint-1">Mint</a></h3>
<pre><code class="language-solidity">event Mint(address indexed sender, uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="burn-1"><a class="header" href="#burn-1">Burn</a></h3>
<pre><code class="language-solidity">event Burn(address indexed sender, uint256 amount0, uint256 amount1, address indexed to);
</code></pre>
<h3 id="swap-1"><a class="header" href="#swap-1">Swap</a></h3>
<pre><code class="language-solidity">event Swap(
    address indexed sender,
    uint256 amount0In,
    uint256 amount1In,
    uint256 amount0Out,
    uint256 amount1Out,
    address indexed to
);
</code></pre>
<h3 id="sync-1"><a class="header" href="#sync-1">Sync</a></h3>
<pre><code class="language-solidity">event Sync(uint112 reserve0, uint112 reserve1);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router01"><a class="header" href="#iuniswapv2router01">IUniswapV2Router01</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IUniswapV2Router01.sol">Git Source</a></p>
<h2 id="functions-47"><a class="header" href="#functions-47">Functions</a></h2>
<h3 id="factory-1"><a class="header" href="#factory-1">factory</a></h3>
<pre><code class="language-solidity">function factory() external pure returns (address);
</code></pre>
<h3 id="weth"><a class="header" href="#weth">WETH</a></h3>
<pre><code class="language-solidity">function WETH() external pure returns (address);
</code></pre>
<h3 id="addliquidity"><a class="header" href="#addliquidity">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB, uint256 liquidity);
</code></pre>
<h3 id="addliquidityeth"><a class="header" href="#addliquidityeth">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(
    address token,
    uint256 amountTokenDesired,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external payable returns (uint256 amountToken, uint256 amountETH, uint256 liquidity);
</code></pre>
<h3 id="removeliquidity"><a class="header" href="#removeliquidity">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityeth"><a class="header" href="#removeliquidityeth">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit"><a class="header" href="#removeliquiditywithpermit">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit"><a class="header" href="#removeliquidityethwithpermit">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokens"><a class="header" href="#swapexacttokensfortokens">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens"><a class="header" href="#swaptokensforexacttokens">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens"><a class="header" href="#swapexactethfortokens">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint256 amountOutMin, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth"><a class="header" href="#swaptokensforexacteth">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth"><a class="header" href="#swapexacttokensforeth">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens"><a class="header" href="#swapethforexacttokens">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint256 amountOut, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="quote"><a class="header" href="#quote">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB) external pure returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-1"><a class="header" href="#getamountout-1">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-1"><a class="header" href="#getamountin-1">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout"><a class="header" href="#getamountsout">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint256 amountIn, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin"><a class="header" href="#getamountsin">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint256 amountOut, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router02"><a class="header" href="#iuniswapv2router02">IUniswapV2Router02</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IUniswapV2Router02.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/interfaces/IUniswapV2Router02.sol//src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></p>
<h2 id="functions-48"><a class="header" href="#functions-48">Functions</a></h2>
<h3 id="removeliquidityethsupportingfeeontransfertokens"><a class="header" href="#removeliquidityethsupportingfeeontransfertokens">removeLiquidityETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethwithpermitsupportingfeeontransfertokens"><a class="header" href="#removeliquidityethwithpermitsupportingfeeontransfertokens">removeLiquidityETHWithPermitSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokenssupportingfeeontransfertokens"><a class="header" href="#swapexacttokensfortokenssupportingfeeontransfertokens">swapExactTokensForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokensSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<h3 id="swapexactethfortokenssupportingfeeontransfertokens"><a class="header" href="#swapexactethfortokenssupportingfeeontransfertokens">swapExactETHForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokensSupportingFeeOnTransferTokens(
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external payable;
</code></pre>
<h3 id="swapexacttokensforethsupportingfeeontransfertokens"><a class="header" href="#swapexacttokensforethsupportingfeeontransfertokens">swapExactTokensForETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETHSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwmatic"><a class="header" href="#iwmatic">IWMATIC</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/interfaces/IWMATIC.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/infinity/interfaces/IWMATIC.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-49"><a class="header" href="#functions-49">Functions</a></h2>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/infinity/libraries//src/infinity/libraries/Bridges">Bridges</a></li>
<li><a href="src/infinity/libraries//src/infinity/libraries/Token">Token</a></li>
<li><a href="src/infinity/libraries//src/infinity/libraries/TokenSwap">TokenSwap</a></li>
<li><a href="src/infinity/libraries/LibAppStorage.sol/library.LibAppStorage.html">LibAppStorage</a></li>
<li><a href="src/infinity/libraries/LibDiamond.sol/library.LibDiamond.html">LibDiamond</a></li>
<li><a href="src/infinity/libraries/LibKlima.sol/library.LibKlima.html">LibKlima</a></li>
<li><a href="src/infinity/libraries/LibMeta.sol/library.LibMeta.html">LibMeta</a></li>
<li><a href="src/infinity/libraries/LibRetire.sol/library.LibRetire.html">LibRetire</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/infinity/libraries/Bridges/LibC3Carbon.sol/library.LibC3Carbon.html">LibC3Carbon</a></li>
<li><a href="src/infinity/libraries/Bridges/LibICRCarbon.sol/library.LibICRCarbon.html">LibICRCarbon</a></li>
<li><a href="src/infinity/libraries/Bridges/LibMossCarbon.sol/library.LibMossCarbon.html">LibMossCarbon</a></li>
<li><a href="src/infinity/libraries/Bridges/LibToucanCarbon.sol/library.LibToucanCarbon.html">LibToucanCarbon</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libc3carbon"><a class="header" href="#libc3carbon">LibC3Carbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Bridges/LibC3Carbon.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-50"><a class="header" href="#functions-50">Functions</a></h2>
<h3 id="freeredeemandretire"><a class="header" href="#freeredeemandretire">freeRedeemAndRetire</a></h3>
<p>Calls freeRedeem on a C3 pool and retires the underlying C3T</p>
<pre><code class="language-solidity">function freeRedeemAndRetire(
    address poolToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="redeemspecificandretire"><a class="header" href="#redeemspecificandretire">redeemSpecificAndRetire</a></h3>
<p>Calls taxedRedeem on a C3 pool and retires the underlying C3T</p>
<pre><code class="language-solidity">function redeemSpecificAndRetire(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token being redeemed</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="retirec3t"><a class="header" href="#retirec3t">retireC3T</a></h3>
<p>Retire a C3T token</p>
<pre><code class="language-solidity">function retireC3T(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token being redeemed</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="getexactcarbonspecificredeemfee"><a class="header" href="#getexactcarbonspecificredeemfee">getExactCarbonSpecificRedeemFee</a></h3>
<p>Return the additional fee needed to redeem specific number of project tokens.</p>
<pre><code class="language-solidity">function getExactCarbonSpecificRedeemFee(address poolToken, uint256 amount)
    internal
    view
    returns (uint256 poolFeeAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolFeeAmount</code></td><td><code>uint256</code></td><td>Additional C3 pool tokens needed for the redemption</td></tr>
</tbody></table>
</div>
<h3 id="getexactsourcespecificretireamount"><a class="header" href="#getexactsourcespecificretireamount">getExactSourceSpecificRetireAmount</a></h3>
<p>Return the amount that can be specifically redeemed from a C3 given x number of tokens.</p>
<pre><code class="language-solidity">function getExactSourceSpecificRetireAmount(address poolToken, uint256 amount)
    internal
    view
    returns (uint256 retireAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>Amount of C3T that can be specifically redeemed from a given pool amount</td></tr>
</tbody></table>
</div>
<h3 id="redeempoolauto"><a class="header" href="#redeempoolauto">redeemPoolAuto</a></h3>
<p>Receives and redeems a number of pool tokens and sends the C3T to a destination..</p>
<pre><code class="language-solidity">function redeemPoolAuto(address poolToken, uint256 amount, LibTransfer.To toMode)
    internal
    returns (address[] memory allProjectTokens, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to redeem and retire</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>Where to send redeemed tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>allProjectTokens</code></td><td><code>address[]</code></td><td>Default redeem C3T list from the pool</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amount of C3T that was redeemed from the pool</td></tr>
</tbody></table>
</div>
<h3 id="redeempoolspecific"><a class="header" href="#redeempoolspecific">redeemPoolSpecific</a></h3>
<p>Receives and redeems a number of pool tokens and sends the C3T to a destination.</p>
<pre><code class="language-solidity">function redeemPoolSpecific(
    address poolToken,
    address[] memory projectTokens,
    uint256[] memory amounts,
    LibTransfer.To toMode
) internal returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>Project tokens to redeem</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Amounts of the project tokens to redeem</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>Where to send redeemed tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>redeemedAmounts      Amounts of the project tokens redeemed</td></tr>
</tbody></table>
</div>
<h3 id="isvalid"><a class="header" href="#isvalid">isValid</a></h3>
<pre><code class="language-solidity">function isValid(address token) internal returns (bool);
</code></pre>
<h2 id="events-12"><a class="header" href="#events-12">Events</a></h2>
<h3 id="carbonretired-7"><a class="header" href="#carbonretired-7">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libicrcarbon"><a class="header" href="#libicrcarbon">LibICRCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Bridges/LibICRCarbon.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-51"><a class="header" href="#functions-51">Functions</a></h2>
<h3 id="retireicc"><a class="header" href="#retireicc">retireICC</a></h3>
<pre><code class="language-solidity">function retireICC(
    address poolToken,
    address projectToken,
    uint256 tokenId,
    uint256 amount,
    LibRetire.RetireDetails memory details
) internal returns (uint256 retiredAmount);
</code></pre>
<h3 id="isvalid-1"><a class="header" href="#isvalid-1">isValid</a></h3>
<pre><code class="language-solidity">function isValid(address token) internal view returns (bool);
</code></pre>
<h2 id="events-13"><a class="header" href="#events-13">Events</a></h2>
<h3 id="carbonretired-8"><a class="header" href="#carbonretired-8">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 tokenId,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libmosscarbon"><a class="header" href="#libmosscarbon">LibMossCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Bridges/LibMossCarbon.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-52"><a class="header" href="#functions-52">Functions</a></h2>
<h3 id="offsetcarbon-1"><a class="header" href="#offsetcarbon-1">offsetCarbon</a></h3>
<p>Retires Moss MCO2 tokens on Polygon</p>
<pre><code class="language-solidity">function offsetCarbon(
    address poolToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amounts of the project tokens to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h2 id="events-14"><a class="header" href="#events-14">Events</a></h2>
<h3 id="carbonretired-9"><a class="header" href="#carbonretired-9">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libtoucancarbon"><a class="header" href="#libtoucancarbon">LibToucanCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Bridges/LibToucanCarbon.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-53"><a class="header" href="#functions-53">Functions</a></h2>
<h3 id="redeemautoandretire"><a class="header" href="#redeemautoandretire">redeemAutoAndRetire</a></h3>
<p>Redeems Toucan pool tokens using default redemtion and retires the TCO2</p>
<pre><code class="language-solidity">function redeemAutoAndRetire(
    address poolToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of the project token to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="redeemspecificandretire-1"><a class="header" href="#redeemspecificandretire-1">redeemSpecificAndRetire</a></h3>
<p>Redeems Toucan pool tokens using specific redemtion and retires the TCO2</p>
<pre><code class="language-solidity">function redeemSpecificAndRetire(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal returns (uint256 retiredAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of the project token to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retiredAmount</code></td><td><code>uint256</code></td><td>The amount of TCO2 retired</td></tr>
</tbody></table>
</div>
<h3 id="retiretco2"><a class="header" href="#retiretco2">retireTCO2</a></h3>
<p>Redeems Toucan TCO2s</p>
<pre><code class="language-solidity">function retireTCO2(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to use for this retirement</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token to use for this retirement</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of the project token to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td>Address initiating this retirement</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="sendretirecert"><a class="header" href="#sendretirecert">sendRetireCert</a></h3>
<p>Send the ERC-721 retirement certificate received to a beneficiary</p>
<pre><code class="language-solidity">function sendRetireCert(address _beneficiary) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_beneficiary</code></td><td><code>address</code></td><td>Beneficiary to send the certificate to</td></tr>
</tbody></table>
</div>
<h3 id="getspecificredeemfee"><a class="header" href="#getspecificredeemfee">getSpecificRedeemFee</a></h3>
<p>Calculates the additional pool tokens needed to specifically redeem x TCO2s</p>
<pre><code class="language-solidity">function getSpecificRedeemFee(address poolToken, uint256 amount) internal view returns (uint256 poolFeeAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of TCO2 needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolFeeAmount</code></td><td><code>uint256</code></td><td>Number of additional pool tokens needed</td></tr>
</tbody></table>
</div>
<h3 id="getspecificretireamount"><a class="header" href="#getspecificretireamount">getSpecificRetireAmount</a></h3>
<p>Returns the number of TCO2s retired when selectively redeeming x pool tokens</p>
<pre><code class="language-solidity">function getSpecificRetireAmount(address poolToken, uint256 amount) internal view returns (uint256 retireAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of pool tokens redeemed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>Number TCO2s that can be retired.</td></tr>
</tbody></table>
</div>
<h3 id="redeempoolauto-1"><a class="header" href="#redeempoolauto-1">redeemPoolAuto</a></h3>
<p>Simple wrapper to use redeem Toucan pools using the default list</p>
<pre><code class="language-solidity">function redeemPoolAuto(address poolToken, uint256 amount, LibTransfer.To toMode)
    internal
    returns (address[] memory projectTokens, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens being redeemed</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>Where to send TCO2 tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>TCO2 token addresses redeemed</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>TCO2 token amounts redeemed</td></tr>
</tbody></table>
</div>
<h3 id="redeempoolspecific-1"><a class="header" href="#redeempoolspecific-1">redeemPoolSpecific</a></h3>
<p>Simple wrapper to use redeem Toucan pools using the specific list</p>
<pre><code class="language-solidity">function redeemPoolSpecific(
    address poolToken,
    address[] memory projectTokens,
    uint256[] memory amounts,
    LibTransfer.To toMode
) internal returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token to redeem</td></tr>
<tr><td><code>projectTokens</code></td><td><code>address[]</code></td><td>Project tokens to redeem</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Token amounts to redeem</td></tr>
<tr><td><code>toMode</code></td><td><code>LibTransfer.To</code></td><td>Where to send TCO2 tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>redeemedAmounts      TCO2 token amounts redeemed</td></tr>
</tbody></table>
</div>
<h3 id="isvalid-2"><a class="header" href="#isvalid-2">isValid</a></h3>
<pre><code class="language-solidity">function isValid(address token) internal returns (bool);
</code></pre>
<h2 id="events-15"><a class="header" href="#events-15">Events</a></h2>
<h3 id="carbonretired-10"><a class="header" href="#carbonretired-10">CarbonRetired</a></h3>
<pre><code class="language-solidity">event CarbonRetired(
    LibRetire.CarbonBridge carbonBridge,
    address indexed retiringAddress,
    string retiringEntityString,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/infinity/libraries/Token/LibApprove.sol/library.LibApprove.html">LibApprove</a></li>
<li><a href="src/infinity/libraries/Token/LibBalance.sol/library.LibBalance.html">LibBalance</a></li>
<li><a href="src/infinity/libraries/Token/LibMatic.sol/library.LibMatic.html">LibMatic</a></li>
<li><a href="src/infinity/libraries/Token/LibTransfer.sol/library.LibTransfer.html">LibTransfer</a></li>
<li><a href="src/infinity/libraries/Token/LibWmatic.sol/library.LibWmatic.html">LibWmatic</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libapprove"><a class="header" href="#libapprove">LibApprove</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Token/LibApprove.sol">Git Source</a></p>
<p><strong>Author:</strong>
publius</p>
<h2 id="functions-54"><a class="header" href="#functions-54">Functions</a></h2>
<h3 id="approvetoken"><a class="header" href="#approvetoken">approveToken</a></h3>
<pre><code class="language-solidity">function approveToken(IERC20 token, address spender, uint256 amount) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libbalance"><a class="header" href="#libbalance">LibBalance</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Token/LibBalance.sol">Git Source</a></p>
<p><strong>Author:</strong>
LeoFib, Publius</p>
<h2 id="functions-55"><a class="header" href="#functions-55">Functions</a></h2>
<h3 id="getbalance-1"><a class="header" href="#getbalance-1">getBalance</a></h3>
<pre><code class="language-solidity">function getBalance(address account, IERC20 token) internal view returns (uint256 combined_balance);
</code></pre>
<h3 id="increaseinternalbalance"><a class="header" href="#increaseinternalbalance">increaseInternalBalance</a></h3>
<p><em>Increases <code>account</code>'s Internal Balance for <code>token</code> by <code>amount</code>.</em></p>
<pre><code class="language-solidity">function increaseInternalBalance(address account, IERC20 token, uint256 amount) internal;
</code></pre>
<h3 id="decreaseinternalbalance"><a class="header" href="#decreaseinternalbalance">decreaseInternalBalance</a></h3>
<p><em>Decreases <code>account</code>'s Internal Balance for <code>token</code> by <code>amount</code>. If <code>allowPartial</code> is true, this function
doesn't revert if <code>account</code> doesn't have enough balance, and sets it to zero and returns the deducted amount
instead.</em></p>
<pre><code class="language-solidity">function decreaseInternalBalance(address account, IERC20 token, uint256 amount, bool allowPartial)
    internal
    returns (uint256 deducted);
</code></pre>
<h3 id="setinternalbalance"><a class="header" href="#setinternalbalance">setInternalBalance</a></h3>
<p><em>Sets <code>account</code>'s Internal Balance for <code>token</code> to <code>newBalance</code>.
Emits an <code>InternalBalanceChanged</code> event. This event includes <code>delta</code>, which is the amount the balance increased
(if positive) or decreased (if negative). To avoid reading the current balance in order to compute the delta,
this function relies on the caller providing it directly.</em></p>
<pre><code class="language-solidity">function setInternalBalance(address account, IERC20 token, uint256 newBalance, int256 delta) private;
</code></pre>
<h3 id="getinternalbalance-1"><a class="header" href="#getinternalbalance-1">getInternalBalance</a></h3>
<p><em>Returns <code>account</code>'s Internal Balance for <code>token</code>.</em></p>
<pre><code class="language-solidity">function getInternalBalance(address account, IERC20 token) internal view returns (uint256);
</code></pre>
<h2 id="events-16"><a class="header" href="#events-16">Events</a></h2>
<h3 id="internalbalancechanged-1"><a class="header" href="#internalbalancechanged-1">InternalBalanceChanged</a></h3>
<p><em>Emitted when a account's Internal Balance changes, through interacting using Internal Balance.</em></p>
<pre><code class="language-solidity">event InternalBalanceChanged(address indexed account, IERC20 indexed token, int256 delta);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libmatic"><a class="header" href="#libmatic">LibMatic</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Token/LibMatic.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-56"><a class="header" href="#functions-56">Functions</a></h2>
<h3 id="refundmatic"><a class="header" href="#refundmatic">refundMatic</a></h3>
<pre><code class="language-solidity">function refundMatic() internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libtransfer"><a class="header" href="#libtransfer">LibTransfer</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Token/LibTransfer.sol">Git Source</a></p>
<p><strong>Author:</strong>
publius</p>
<h2 id="functions-57"><a class="header" href="#functions-57">Functions</a></h2>
<h3 id="transfertoken-1"><a class="header" href="#transfertoken-1">transferToken</a></h3>
<pre><code class="language-solidity">function transferToken(IERC20 token, address recipient, uint256 amount, From fromMode, To toMode)
    internal
    returns (uint256 transferredAmount);
</code></pre>
<h3 id="receivetoken"><a class="header" href="#receivetoken">receiveToken</a></h3>
<pre><code class="language-solidity">function receiveToken(IERC20 token, uint256 amount, address sender, From mode)
    internal
    returns (uint256 receivedAmount);
</code></pre>
<h3 id="receive1155token"><a class="header" href="#receive1155token">receive1155Token</a></h3>
<pre><code class="language-solidity">function receive1155Token(IERC1155 token, uint256 tokenId, uint256 amount, address sender, From mode)
    internal
    returns (uint256 receivedAmount);
</code></pre>
<h3 id="sendtoken"><a class="header" href="#sendtoken">sendToken</a></h3>
<pre><code class="language-solidity">function sendToken(IERC20 token, uint256 amount, address recipient, To mode) internal;
</code></pre>
<h2 id="enums-2"><a class="header" href="#enums-2">Enums</a></h2>
<h3 id="from"><a class="header" href="#from">From</a></h3>
<pre><code class="language-solidity">enum From {
    EXTERNAL,
    INTERNAL,
    EXTERNAL_INTERNAL,
    INTERNAL_TOLERANT
}
</code></pre>
<h3 id="to"><a class="header" href="#to">To</a></h3>
<pre><code class="language-solidity">enum To {
    EXTERNAL,
    INTERNAL
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libwmatic"><a class="header" href="#libwmatic">LibWmatic</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/Token/LibWmatic.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="wmatic"><a class="header" href="#wmatic">WMATIC</a></h3>
<pre><code class="language-solidity">address constant WMATIC = 0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270;
</code></pre>
<h2 id="functions-58"><a class="header" href="#functions-58">Functions</a></h2>
<h3 id="wrap-1"><a class="header" href="#wrap-1">wrap</a></h3>
<pre><code class="language-solidity">function wrap(uint256 amount, LibTransfer.To mode) internal;
</code></pre>
<h3 id="unwrap-1"><a class="header" href="#unwrap-1">unwrap</a></h3>
<pre><code class="language-solidity">function unwrap(uint256 amount, LibTransfer.From mode) internal;
</code></pre>
<h3 id="deposit-1"><a class="header" href="#deposit-1">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint256 amount) private;
</code></pre>
<h3 id="withdraw-1"><a class="header" href="#withdraw-1">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) private;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/infinity/libraries/TokenSwap/LibSwap.sol/library.LibSwap.html">LibSwap</a></li>
<li><a href="src/infinity/libraries/TokenSwap/LibTreasurySwap.sol/library.LibTreasurySwap.html">LibTreasurySwap</a></li>
<li><a href="src/infinity/libraries/TokenSwap/LibTridentSwap.sol/library.LibTridentSwap.html">LibTridentSwap</a></li>
<li><a href="src/infinity/libraries/TokenSwap/LibUniswapV2Swap.sol/library.LibUniswapV2Swap.html">LibUniswapV2Swap</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libswap"><a class="header" href="#libswap">LibSwap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/TokenSwap/LibSwap.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-59"><a class="header" href="#functions-59">Functions</a></h2>
<h3 id="swaptoexactcarbondefault"><a class="header" href="#swaptoexactcarbondefault">swapToExactCarbonDefault</a></h3>
<p>Swaps to an exact number of carbon tokens</p>
<pre><code class="language-solidity">function swapToExactCarbonDefault(address sourceToken, address carbonToken, uint256 sourceAmount, uint256 carbonAmount)
    internal
    returns (uint256 carbonReceived);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token needed</td></tr>
<tr><td><code>sourceAmount</code></td><td><code>uint256</code></td><td>Max amount of the source token</td></tr>
<tr><td><code>carbonAmount</code></td><td><code>uint256</code></td><td>Needed amount of tokens out</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonReceived</code></td><td><code>uint256</code></td><td>Pool tokens actually received</td></tr>
</tbody></table>
</div>
<h3 id="swapexactsourcetocarbondefault"><a class="header" href="#swapexactsourcetocarbondefault">swapExactSourceToCarbonDefault</a></h3>
<p>Swaps to an exact number of source tokens</p>
<pre><code class="language-solidity">function swapExactSourceToCarbonDefault(address sourceToken, address carbonToken, uint256 amount)
    internal
    returns (uint256 carbonReceived);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token needed</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of the source token to swap</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonReceived</code></td><td><code>uint256</code></td><td>Pool tokens actually received</td></tr>
</tbody></table>
</div>
<h3 id="returntradedust"><a class="header" href="#returntradedust">returnTradeDust</a></h3>
<p>Return any dust/slippaged amounts still held by the contract</p>
<pre><code class="language-solidity">function returnTradeDust(address sourceToken, address poolToken) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used</td></tr>
</tbody></table>
</div>
<h3 id="swaptoklimafromusdc"><a class="header" href="#swaptoklimafromusdc">swapToKlimaFromUsdc</a></h3>
<p>Swaps a given amount of USDC for KLIMA using Sushiswap</p>
<pre><code class="language-solidity">function swapToKlimaFromUsdc(uint256 sourceAmount, uint256 klimaAmount) internal returns (uint256 klimaReceived);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceAmount</code></td><td><code>uint256</code></td><td>Amount of USDC to swap</td></tr>
<tr><td><code>klimaAmount</code></td><td><code>uint256</code></td><td>Amount of KLIMA to swap for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>klimaReceived</code></td><td><code>uint256</code></td><td>Amount of KLIMA received</td></tr>
</tbody></table>
</div>
<h3 id="swaptoklimafromother"><a class="header" href="#swaptoklimafromother">swapToKlimaFromOther</a></h3>
<p>Swaps from arbitrary token routed through USDC for KLIMA</p>
<pre><code class="language-solidity">function swapToKlimaFromOther(address sourceToken, uint256 sourceAmount, uint256 klimaAmount)
    internal
    returns (uint256 klimaReceived);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>sourceAmount</code></td><td><code>uint256</code></td><td>Amount of source token to swap</td></tr>
<tr><td><code>klimaAmount</code></td><td><code>uint256</code></td><td>Amount of KLIMA to swap for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>klimaReceived</code></td><td><code>uint256</code></td><td>Amount of KLIMA received</td></tr>
</tbody></table>
</div>
<h3 id="swapwithretirementbonds"><a class="header" href="#swapwithretirementbonds">swapWithRetirementBonds</a></h3>
<p>Performs a swap with Retirement Bonds for carbon to retire.</p>
<pre><code class="language-solidity">function swapWithRetirementBonds(address sourceToken, address carbonToken, uint256 sourceAmount, uint256 carbonAmount)
    internal
    returns (uint256 carbonRecieved);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Carbon token to receive</td></tr>
<tr><td><code>sourceAmount</code></td><td><code>uint256</code></td><td>Amount of source token to swap</td></tr>
<tr><td><code>carbonAmount</code></td><td><code>uint256</code></td><td>Amount of carbon token needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonRecieved</code></td><td><code>uint256</code></td><td>Amount of carbon token received from the swap</td></tr>
</tbody></table>
</div>
<h3 id="getsourceamount"><a class="header" href="#getsourceamount">getSourceAmount</a></h3>
<p>Get the source amount needed when swapping within a single DEX</p>
<pre><code class="language-solidity">function getSourceAmount(address sourceToken, address carbonToken, uint256 amount)
    internal
    view
    returns (uint256 sourceNeeded);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token used</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of carbon tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceNeeded</code></td><td><code>uint256</code></td><td>Total source tokens needed for output amount</td></tr>
</tbody></table>
</div>
<h3 id="getmultiplesourceamount"><a class="header" href="#getmultiplesourceamount">getMultipleSourceAmount</a></h3>
<p>Get the source amount needed when swapping between multiple DEXs</p>
<pre><code class="language-solidity">function getMultipleSourceAmount(address sourceToken, address carbonToken, uint256 amount)
    internal
    view
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token used</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of carbon tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>sourcesNeeded    Total source tokens needed for output amount</td></tr>
</tbody></table>
</div>
<h3 id="getsourceamountfromretirementbond"><a class="header" href="#getsourceamountfromretirementbond">getSourceAmountFromRetirementBond</a></h3>
<p>Fetches the amount of KLIMA needed for a retirement bond, then calculates the source
amount needed if a DEX swap is required.</p>
<pre><code class="language-solidity">function getSourceAmountFromRetirementBond(address sourceToken, address carbonToken, uint256 amount)
    internal
    view
    returns (uint256 sourceNeeded);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token used</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of carbon tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceNeeded</code></td><td><code>uint256</code></td><td>Total source tokens needed for output amount</td></tr>
</tbody></table>
</div>
<h3 id="getdefaultamountout"><a class="header" href="#getdefaultamountout">getDefaultAmountOut</a></h3>
<p>Get the source amount needed when swapping between multiple DEXs</p>
<pre><code class="language-solidity">function getDefaultAmountOut(address sourceToken, address carbonToken, uint256 amount)
    internal
    view
    returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sourceToken</code></td><td><code>address</code></td><td>Source token provided to swap</td></tr>
<tr><td><code>carbonToken</code></td><td><code>address</code></td><td>Pool token used</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of carbon tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Amount of carbonTokens recieved for the input amount</td></tr>
</tbody></table>
</div>
<h3 id="_performtoexactswap"><a class="header" href="#_performtoexactswap">_performToExactSwap</a></h3>
<p>Perform a toExact swap depending on the dex provided</p>
<pre><code class="language-solidity">function _performToExactSwap(uint8 dex, address router, address[] memory path, uint256 maxAmountIn, uint256 amount)
    private
    returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dex</code></td><td><code>uint8</code></td><td>Identifier for which DEX to use</td></tr>
<tr><td><code>router</code></td><td><code>address</code></td><td>Router for the swap</td></tr>
<tr><td><code>path</code></td><td><code>address[]</code></td><td>Trade path to use</td></tr>
<tr><td><code>maxAmountIn</code></td><td><code>uint256</code></td><td>Max amount of source tokens to swap</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Total pool tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Total pool tokens swapped</td></tr>
</tbody></table>
</div>
<h3 id="_performexactsourceswap"><a class="header" href="#_performexactsourceswap">_performExactSourceSwap</a></h3>
<p>Perform a swap using all source tokens</p>
<pre><code class="language-solidity">function _performExactSourceSwap(uint8 dex, address router, address[] memory path, uint256 amount)
    private
    returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dex</code></td><td><code>uint8</code></td><td>Identifier for which DEX to use</td></tr>
<tr><td><code>router</code></td><td><code>address</code></td><td>Router for the swap</td></tr>
<tr><td><code>path</code></td><td><code>address[]</code></td><td>Trade path to use</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of tokens to swap</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Total pool tokens swapped</td></tr>
</tbody></table>
</div>
<h3 id="_getamountin"><a class="header" href="#_getamountin">_getAmountIn</a></h3>
<p>Return the amountIn needed for an exact swap</p>
<pre><code class="language-solidity">function _getAmountIn(uint8 dex, address router, address[] memory path, uint256 amount)
    private
    view
    returns (uint256 amountIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dex</code></td><td><code>uint8</code></td><td>Identifier for which DEX to use</td></tr>
<tr><td><code>router</code></td><td><code>address</code></td><td>Router for the swap</td></tr>
<tr><td><code>path</code></td><td><code>address[]</code></td><td>Trade path to use</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Total pool tokens needed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountIn</code></td><td><code>uint256</code></td><td>Total pool tokens swapped</td></tr>
</tbody></table>
</div>
<h3 id="_getamountout"><a class="header" href="#_getamountout">_getAmountOut</a></h3>
<p>Return the amountIn needed for an exact swap</p>
<pre><code class="language-solidity">function _getAmountOut(uint8 dex, address router, address[] memory path, uint256 amount)
    private
    view
    returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dex</code></td><td><code>uint8</code></td><td>Identifier for which DEX to use</td></tr>
<tr><td><code>router</code></td><td><code>address</code></td><td>Router for the swap</td></tr>
<tr><td><code>path</code></td><td><code>address[]</code></td><td>Trade path to use</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Total source tokens spent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Total pool tokens swapped</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="libtreasuryswap"><a class="header" href="#libtreasuryswap">LibTreasurySwap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/TokenSwap/LibTreasurySwap.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-60"><a class="header" href="#functions-60">Functions</a></h2>
<h3 id="getamountin-2"><a class="header" href="#getamountin-2">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(address tokenIn, uint256 amountOut) internal view returns (uint256 amountIn);
</code></pre>
<h3 id="swaptoexact-1"><a class="header" href="#swaptoexact-1">swapToExact</a></h3>
<pre><code class="language-solidity">function swapToExact(address carbonToken, uint256 amountIn, uint256 amountOut) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libtridentswap"><a class="header" href="#libtridentswap">LibTridentSwap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/TokenSwap/LibTridentSwap.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-61"><a class="header" href="#functions-61">Functions</a></h2>
<h3 id="swapexacttokensfortokens-1"><a class="header" href="#swapexacttokensfortokens-1">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(address router, address pool, address tokenIn, uint256 amountIn, uint256 minAmountOut)
    internal
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-3"><a class="header" href="#getamountin-3">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(address pool, address tokenIn, address tokenOut, uint256 amountOut)
    internal
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountout-2"><a class="header" href="#getamountout-2">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(address pool, address tokenIn, address tokenOut, uint256 amountIn)
    internal
    view
    returns (uint256 amountOut);
</code></pre>
<h3 id="gettridentpool"><a class="header" href="#gettridentpool">getTridentPool</a></h3>
<pre><code class="language-solidity">function getTridentPool(address tokenOne, address tokenTwo) internal view returns (address tridentPool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libuniswapv2swap"><a class="header" href="#libuniswapv2swap">LibUniswapV2Swap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/TokenSwap/LibUniswapV2Swap.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-62"><a class="header" href="#functions-62">Functions</a></h2>
<h3 id="swaptokensforexacttokens-1"><a class="header" href="#swaptokensforexacttokens-1">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(address router, address[] memory path, uint256 amountIn, uint256 amountOut)
    internal
    returns (uint256);
</code></pre>
<h3 id="swapexacttokensfortokens-2"><a class="header" href="#swapexacttokensfortokens-2">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(address router, address[] memory path, uint256 amount) internal returns (uint256);
</code></pre>
<h3 id="getamountin-4"><a class="header" href="#getamountin-4">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(address router, address[] memory path, uint256 amount) internal view returns (uint256);
</code></pre>
<h3 id="getamountout-3"><a class="header" href="#getamountout-3">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(address router, address[] memory path, uint256 amount) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libappstorage"><a class="header" href="#libappstorage">LibAppStorage</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/LibAppStorage.sol">Git Source</a></p>
<p><strong>Author:</strong>
Publius</p>
<h2 id="functions-63"><a class="header" href="#functions-63">Functions</a></h2>
<h3 id="diamondstorage"><a class="header" href="#diamondstorage">diamondStorage</a></h3>
<pre><code class="language-solidity">function diamondStorage() internal pure returns (AppStorage storage ds);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libdiamond"><a class="header" href="#libdiamond">LibDiamond</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/LibDiamond.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/libraries/LibDiamond.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
/*****************************************************************************</p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="diamond_storage_position"><a class="header" href="#diamond_storage_position">DIAMOND_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(&quot;diamond.standard.diamond.storage&quot;);
</code></pre>
<h2 id="functions-64"><a class="header" href="#functions-64">Functions</a></h2>
<h3 id="diamondstorage-1"><a class="header" href="#diamondstorage-1">diamondStorage</a></h3>
<pre><code class="language-solidity">function diamondStorage() internal pure returns (DiamondStorage storage ds);
</code></pre>
<h3 id="setcontractowner"><a class="header" href="#setcontractowner">setContractOwner</a></h3>
<pre><code class="language-solidity">function setContractOwner(address _newOwner) internal;
</code></pre>
<h3 id="contractowner"><a class="header" href="#contractowner">contractOwner</a></h3>
<pre><code class="language-solidity">function contractOwner() internal view returns (address contractOwner_);
</code></pre>
<h3 id="enforceiscontractowner"><a class="header" href="#enforceiscontractowner">enforceIsContractOwner</a></h3>
<pre><code class="language-solidity">function enforceIsContractOwner() internal view;
</code></pre>
<h3 id="diamondcut-4"><a class="header" href="#diamondcut-4">diamondCut</a></h3>
<pre><code class="language-solidity">function diamondCut(IDiamondCut.FacetCut[] memory _diamondCut, address _init, bytes memory _calldata) internal;
</code></pre>
<h3 id="addfunctions"><a class="header" href="#addfunctions">addFunctions</a></h3>
<pre><code class="language-solidity">function addFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal;
</code></pre>
<h3 id="replacefunctions"><a class="header" href="#replacefunctions">replaceFunctions</a></h3>
<pre><code class="language-solidity">function replaceFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal;
</code></pre>
<h3 id="removefunctions"><a class="header" href="#removefunctions">removeFunctions</a></h3>
<pre><code class="language-solidity">function removeFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal;
</code></pre>
<h3 id="addfacet"><a class="header" href="#addfacet">addFacet</a></h3>
<pre><code class="language-solidity">function addFacet(DiamondStorage storage ds, address _facetAddress) internal;
</code></pre>
<h3 id="addfunction"><a class="header" href="#addfunction">addFunction</a></h3>
<pre><code class="language-solidity">function addFunction(DiamondStorage storage ds, bytes4 _selector, uint96 _selectorPosition, address _facetAddress)
    internal;
</code></pre>
<h3 id="removefunction"><a class="header" href="#removefunction">removeFunction</a></h3>
<pre><code class="language-solidity">function removeFunction(DiamondStorage storage ds, address _facetAddress, bytes4 _selector) internal;
</code></pre>
<h3 id="initializediamondcut"><a class="header" href="#initializediamondcut">initializeDiamondCut</a></h3>
<pre><code class="language-solidity">function initializeDiamondCut(address _init, bytes memory _calldata) internal;
</code></pre>
<h3 id="enforcehascontractcode"><a class="header" href="#enforcehascontractcode">enforceHasContractCode</a></h3>
<pre><code class="language-solidity">function enforceHasContractCode(address _contract, string memory _errorMessage) internal view;
</code></pre>
<h2 id="events-17"><a class="header" href="#events-17">Events</a></h2>
<h3 id="ownershiptransferred-1"><a class="header" href="#ownershiptransferred-1">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="diamondcut-5"><a class="header" href="#diamondcut-5">DiamondCut</a></h3>
<pre><code class="language-solidity">event DiamondCut(IDiamondCut.FacetCut[] _diamondCut, address _init, bytes _calldata);
</code></pre>
<h2 id="structs-7"><a class="header" href="#structs-7">Structs</a></h2>
<h3 id="facetaddressandposition"><a class="header" href="#facetaddressandposition">FacetAddressAndPosition</a></h3>
<pre><code class="language-solidity">struct FacetAddressAndPosition {
    address facetAddress;
    uint96 functionSelectorPosition;
}
</code></pre>
<h3 id="facetfunctionselectors-2"><a class="header" href="#facetfunctionselectors-2">FacetFunctionSelectors</a></h3>
<pre><code class="language-solidity">struct FacetFunctionSelectors {
    bytes4[] functionSelectors;
    uint256 facetAddressPosition;
}
</code></pre>
<h3 id="diamondstorage-2"><a class="header" href="#diamondstorage-2">DiamondStorage</a></h3>
<pre><code class="language-solidity">struct DiamondStorage {
    mapping(bytes4 =&gt; FacetAddressAndPosition) selectorToFacetAndPosition;
    mapping(address =&gt; FacetFunctionSelectors) facetFunctionSelectors;
    address[] facetAddresses;
    mapping(bytes4 =&gt; bool) supportedInterfaces;
    address contractOwner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libklima"><a class="header" href="#libklima">LibKlima</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/LibKlima.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-65"><a class="header" href="#functions-65">Functions</a></h2>
<h3 id="towrappedamount"><a class="header" href="#towrappedamount">toWrappedAmount</a></h3>
<p>Returns wsKLIMA amount for provided sKLIMA amount</p>
<pre><code class="language-solidity">function toWrappedAmount(uint256 amount) internal view returns (uint256 wrappedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>sKLIMA provided</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>wrappedAmount</code></td><td><code>uint256</code></td><td>wsKLIMA amount</td></tr>
</tbody></table>
</div>
<h3 id="tounwrappedamount"><a class="header" href="#tounwrappedamount">toUnwrappedAmount</a></h3>
<p>Returns sKLIMA amount for provided wsKLIMA amount</p>
<pre><code class="language-solidity">function toUnwrappedAmount(uint256 amount) internal view returns (uint256 unwrappedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>wsKLIMA provided</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>unwrappedAmount</code></td><td><code>uint256</code></td><td>sKLIMA amount</td></tr>
</tbody></table>
</div>
<h3 id="unwrapklima"><a class="header" href="#unwrapklima">unwrapKlima</a></h3>
<p>Unwraps and unstakes provided wsKLIMA amount</p>
<pre><code class="language-solidity">function unwrapKlima(uint256 amount) internal returns (uint256 unwrappedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>wsKLIMA provided</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>unwrappedAmount</code></td><td><code>uint256</code></td><td>Final KLIMA amount</td></tr>
</tbody></table>
</div>
<h3 id="unstakeklima"><a class="header" href="#unstakeklima">unstakeKlima</a></h3>
<p>Unstakes provided sKLIMA amount</p>
<pre><code class="language-solidity">function unstakeKlima(uint256 amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>sKLIMA provided</td></tr>
</tbody></table>
</div>
<h3 id="wrapklima"><a class="header" href="#wrapklima">wrapKlima</a></h3>
<p>Stakes and wraps provided KLIMA amount</p>
<pre><code class="language-solidity">function wrapKlima(uint256 amount) internal returns (uint256 wrappedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>KLIMA provided</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>wrappedAmount</code></td><td><code>uint256</code></td><td>Final wsKLIMA amount</td></tr>
</tbody></table>
</div>
<h3 id="stakeklima"><a class="header" href="#stakeklima">stakeKlima</a></h3>
<p>Stakes provided KLIMA amount</p>
<pre><code class="language-solidity">function stakeKlima(uint256 amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>KLIMA provided</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="libmeta"><a class="header" href="#libmeta">LibMeta</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/LibMeta.sol">Git Source</a></p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="eip712_domain_typehash"><a class="header" href="#eip712_domain_typehash">EIP712_DOMAIN_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 internal constant EIP712_DOMAIN_TYPEHASH =
    keccak256(bytes(&quot;EIP712Domain(string name,string version,uint256 salt,address verifyingContract)&quot;));
</code></pre>
<h2 id="functions-66"><a class="header" href="#functions-66">Functions</a></h2>
<h3 id="domainseparator"><a class="header" href="#domainseparator">domainSeparator</a></h3>
<pre><code class="language-solidity">function domainSeparator(string memory name, string memory version) internal view returns (bytes32 domainSeparator_);
</code></pre>
<h3 id="getchainid"><a class="header" href="#getchainid">getChainID</a></h3>
<pre><code class="language-solidity">function getChainID() internal view returns (uint256 id);
</code></pre>
<h3 id="msgsender"><a class="header" href="#msgsender">msgSender</a></h3>
<pre><code class="language-solidity">function msgSender() internal view returns (address sender_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libretire"><a class="header" href="#libretire">LibRetire</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/libraries/LibRetire.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-67"><a class="header" href="#functions-67">Functions</a></h2>
<h3 id="retirereceivedcarbon"><a class="header" href="#retirereceivedcarbon">retireReceivedCarbon</a></h3>
<p>Retire received carbon based on the bridge of the provided pool tokens using default redemption</p>
<pre><code class="language-solidity">function retireReceivedCarbon(
    address poolToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="retirereceivedexactcarbonspecific"><a class="header" href="#retirereceivedexactcarbonspecific">retireReceivedExactCarbonSpecific</a></h3>
<p>Retire received carbon based on the bridge of the provided pool tokens using specific redemption</p>
<pre><code class="language-solidity">function retireReceivedExactCarbonSpecific(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal returns (uint256 redeemedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token being retired</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="retirereceivedcredittoken"><a class="header" href="#retirereceivedcredittoken">retireReceivedCreditToken</a></h3>
<p>Retire received carbon based on the bridge of the provided pool tokens using default redemption</p>
<pre><code class="language-solidity">function retireReceivedCreditToken(
    address creditToken,
    uint256 tokenId,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creditToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="retirereceivedcarbonspecificfromsource"><a class="header" href="#retirereceivedcarbonspecificfromsource">retireReceivedCarbonSpecificFromSource</a></h3>
<p>Additional function to handle the differences in wanting to fully retire x pool tokens specifically</p>
<pre><code class="language-solidity">function retireReceivedCarbonSpecificFromSource(
    address poolToken,
    address projectToken,
    uint256 amount,
    address retiringAddress,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal returns (uint256 redeemedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Project token being retired</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire</td></tr>
<tr><td><code>retiringAddress</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>String description of the retiring entity</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemedAmount</code></td><td><code>uint256</code></td><td>Number of pool tokens redeemed</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcarbon"><a class="header" href="#gettotalcarbon">getTotalCarbon</a></h3>
<p>Returns the total carbon needed fee included</p>
<pre><code class="language-solidity">function getTotalCarbon(uint256 retireAmount) internal view returns (uint256 totalCarbon);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>Pool token used to retire</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalCarbon</code></td><td><code>uint256</code></td><td>Total pool token needed</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcarbonspecific"><a class="header" href="#gettotalcarbonspecific">getTotalCarbonSpecific</a></h3>
<p>Returns the total carbon needed fee included</p>
<pre><code class="language-solidity">function getTotalCarbonSpecific(address poolToken, uint256 retireAmount) internal view returns (uint256 totalCarbon);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>Amount of carbon wanting to retire</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalCarbon</code></td><td><code>uint256</code></td><td>Total pool token needed</td></tr>
</tbody></table>
</div>
<h3 id="getfee"><a class="header" href="#getfee">getFee</a></h3>
<p>Returns the total fee needed to retire x number of tokens</p>
<pre><code class="language-solidity">function getFee(uint256 carbonAmount) internal view returns (uint256 fee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>carbonAmount</code></td><td><code>uint256</code></td><td>Amount being retired</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>Total fee charged</td></tr>
</tbody></table>
</div>
<h3 id="saveretirementdetails"><a class="header" href="#saveretirementdetails">saveRetirementDetails</a></h3>
<p>Saves the details of the retirement over to KlimaCarbonRetirements and project details within AppStorage</p>
<pre><code class="language-solidity">function saveRetirementDetails(
    address poolToken,
    address projectToken,
    uint256 amount,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>Pool token used to retire</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount of carbon wanting to retire</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>0x address for the beneficiary</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>String description of the beneficiary</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>String message for this specific retirement</td></tr>
</tbody></table>
</div>
<h3 id="gettotalretirements-1"><a class="header" href="#gettotalretirements-1">getTotalRetirements</a></h3>
<pre><code class="language-solidity">function getTotalRetirements(address account) internal view returns (uint256 totalRetirements);
</code></pre>
<h3 id="gettotalcarbonretired-1"><a class="header" href="#gettotalcarbonretired-1">getTotalCarbonRetired</a></h3>
<pre><code class="language-solidity">function getTotalCarbonRetired(address account) internal view returns (uint256 totalCarbonRetired);
</code></pre>
<h3 id="gettotalpoolretired-1"><a class="header" href="#gettotalpoolretired-1">getTotalPoolRetired</a></h3>
<pre><code class="language-solidity">function getTotalPoolRetired(address account, address poolToken) internal view returns (uint256 totalPoolRetired);
</code></pre>
<h3 id="gettotalprojectretired-1"><a class="header" href="#gettotalprojectretired-1">getTotalProjectRetired</a></h3>
<pre><code class="language-solidity">function getTotalProjectRetired(address account, address projectToken) internal view returns (uint256);
</code></pre>
<h3 id="gettotalrewardsclaimed-1"><a class="header" href="#gettotalrewardsclaimed-1">getTotalRewardsClaimed</a></h3>
<pre><code class="language-solidity">function getTotalRewardsClaimed(address account) internal view returns (uint256 totalClaimed);
</code></pre>
<h3 id="getretirementdetails-1"><a class="header" href="#getretirementdetails-1">getRetirementDetails</a></h3>
<pre><code class="language-solidity">function getRetirementDetails(address account, uint256 retirementIndex)
    internal
    view
    returns (
        address poolTokenAddress,
        address projectTokenAddress,
        address beneficiaryAddress,
        string memory beneficiary,
        string memory retirementMessage,
        uint256 amount
    );
</code></pre>
<h2 id="structs-8"><a class="header" href="#structs-8">Structs</a></h2>
<h3 id="retiredetails"><a class="header" href="#retiredetails">RetireDetails</a></h3>
<pre><code class="language-solidity">struct RetireDetails {
    address retiringAddress;
    string retiringEntityString;
    address beneficiaryAddress;
    string beneficiaryString;
    string retirementMessage;
}
</code></pre>
<h2 id="enums-3"><a class="header" href="#enums-3">Enums</a></h2>
<h3 id="carbonbridge"><a class="header" href="#carbonbridge">CarbonBridge</a></h3>
<pre><code class="language-solidity">enum CarbonBridge {
    TOUCAN,
    MOSS,
    C3,
    ICR
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/infinity/mocks/ConstantsGetter.sol/contract.ConstantsGetter.html">ConstantsGetter</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constantsgetter"><a class="header" href="#constantsgetter">ConstantsGetter</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/mocks/ConstantsGetter.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="functions-68"><a class="header" href="#functions-68">Functions</a></h2>
<h3 id="toucancert"><a class="header" href="#toucancert">toucanCert</a></h3>
<pre><code class="language-solidity">function toucanCert() external pure returns (address);
</code></pre>
<h3 id="mosscarbonchain"><a class="header" href="#mosscarbonchain">mossCarbonChain</a></h3>
<pre><code class="language-solidity">function mossCarbonChain() external pure returns (address);
</code></pre>
<h3 id="staking"><a class="header" href="#staking">staking</a></h3>
<pre><code class="language-solidity">function staking() external pure returns (address);
</code></pre>
<h3 id="stakinghelper"><a class="header" href="#stakinghelper">stakingHelper</a></h3>
<pre><code class="language-solidity">function stakingHelper() external pure returns (address);
</code></pre>
<h3 id="treasury"><a class="header" href="#treasury">treasury</a></h3>
<pre><code class="language-solidity">function treasury() external pure returns (address);
</code></pre>
<h3 id="klima"><a class="header" href="#klima">klima</a></h3>
<pre><code class="language-solidity">function klima() external pure returns (address);
</code></pre>
<h3 id="sklima"><a class="header" href="#sklima">sKlima</a></h3>
<pre><code class="language-solidity">function sKlima() external pure returns (address);
</code></pre>
<h3 id="wsklima"><a class="header" href="#wsklima">wsKlima</a></h3>
<pre><code class="language-solidity">function wsKlima() external pure returns (address);
</code></pre>
<h3 id="usdc"><a class="header" href="#usdc">usdc</a></h3>
<pre><code class="language-solidity">function usdc() external pure returns (address);
</code></pre>
<h3 id="bct"><a class="header" href="#bct">bct</a></h3>
<pre><code class="language-solidity">function bct() external pure returns (address);
</code></pre>
<h3 id="nct"><a class="header" href="#nct">nct</a></h3>
<pre><code class="language-solidity">function nct() external pure returns (address);
</code></pre>
<h3 id="mco2"><a class="header" href="#mco2">mco2</a></h3>
<pre><code class="language-solidity">function mco2() external pure returns (address);
</code></pre>
<h3 id="ubo"><a class="header" href="#ubo">ubo</a></h3>
<pre><code class="language-solidity">function ubo() external pure returns (address);
</code></pre>
<h3 id="nbo"><a class="header" href="#nbo">nbo</a></h3>
<pre><code class="language-solidity">function nbo() external pure returns (address);
</code></pre>
<h3 id="sushirouter"><a class="header" href="#sushirouter">sushiRouter</a></h3>
<pre><code class="language-solidity">function sushiRouter() external pure returns (address);
</code></pre>
<h3 id="quickswaprouter"><a class="header" href="#quickswaprouter">quickswapRouter</a></h3>
<pre><code class="language-solidity">function quickswapRouter() external pure returns (address);
</code></pre>
<h3 id="sushitridentrouter"><a class="header" href="#sushitridentrouter">sushiTridentRouter</a></h3>
<pre><code class="language-solidity">function sushiTridentRouter() external pure returns (address);
</code></pre>
<h3 id="sushibento"><a class="header" href="#sushibento">sushiBento</a></h3>
<pre><code class="language-solidity">function sushiBento() external pure returns (address);
</code></pre>
<h3 id="klimacarbonretirements"><a class="header" href="#klimacarbonretirements">klimaCarbonRetirements</a></h3>
<pre><code class="language-solidity">function klimaCarbonRetirements() external pure returns (address);
</code></pre>
<h3 id="klimaretirementbond"><a class="header" href="#klimaretirementbond">klimaRetirementBond</a></h3>
<pre><code class="language-solidity">function klimaRetirementBond() external pure returns (address);
</code></pre>
<h3 id="carbonmark"><a class="header" href="#carbonmark">carbonmark</a></h3>
<pre><code class="language-solidity">function carbonmark() external pure returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="account"><a class="header" href="#account">Account</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/AppStorage.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="structs-9"><a class="header" href="#structs-9">Structs</a></h2>
<h3 id="retirement"><a class="header" href="#retirement">Retirement</a></h3>
<pre><code class="language-solidity">struct Retirement {
    address poolTokenAddress;
    address projectTokenAddress;
    address beneficiaryAddress;
    string beneficiary;
    string retirementMessage;
    uint256 amount;
    uint256 pledgeID;
}
</code></pre>
<h3 id="state"><a class="header" href="#state">State</a></h3>
<pre><code class="language-solidity">struct State {
    mapping(uint256 =&gt; Retirement) retirements;
    mapping(address =&gt; uint256) totalPoolRetired;
    mapping(address =&gt; uint256) totalProjectRetired;
    uint256 totalRetirements;
    uint256 totalCarbonRetired;
    uint256 totalRewardsClaimed;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="storage"><a class="header" href="#storage">Storage</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/AppStorage.sol">Git Source</a></p>
<h2 id="structs-10"><a class="header" href="#structs-10">Structs</a></h2>
<h3 id="carbonbridge-1"><a class="header" href="#carbonbridge-1">CarbonBridge</a></h3>
<pre><code class="language-solidity">struct CarbonBridge {
    string name;
    address defaultRouter;
    uint8 routerType;
}
</code></pre>
<h3 id="defaultswap"><a class="header" href="#defaultswap">DefaultSwap</a></h3>
<pre><code class="language-solidity">struct DefaultSwap {
    uint8[] swapDexes;
    address[] ammRouters;
    mapping(uint8 =&gt; address[]) swapPaths;
}
</code></pre>
<h3 id="token1155settings"><a class="header" href="#token1155settings">Token1155Settings</a></h3>
<p>Stores the transient details of 1155 tokens received.</p>
<pre><code class="language-solidity">struct Token1155Settings {
    uint256 tokenId;
    uint256 value;
    uint256[] ids;
    uint256[] values;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="appstorage"><a class="header" href="#appstorage">AppStorage</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/AppStorage.sol">Git Source</a></p>
<pre><code class="language-solidity">struct AppStorage {
    mapping(uint256 =&gt; Storage.CarbonBridge) bridges;
    mapping(address =&gt; bool) isPoolToken;
    mapping(address =&gt; LibRetire.CarbonBridge) poolBridge;
    mapping(address =&gt; mapping(address =&gt; Storage.DefaultSwap)) swap;
    mapping(address =&gt; Account.State) a;
    uint256 lastERC721Received;
    uint256 fee;
    uint256 reentrantStatus;
    mapping(address =&gt; mapping(IERC20 =&gt; uint256)) internalTokenBalance;
    mapping(address =&gt; uint256) metaNonces;
    bytes32 domainSeparator;
    mapping(address =&gt; mapping(address =&gt; address)) tridentPool;
    Storage.Token1155Settings lastERC1155Received;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c"><a class="header" href="#c">C</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/C.sol">Git Source</a></p>
<p><strong>Author:</strong>
Cujo</p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="chain_id"><a class="header" href="#chain_id">CHAIN_ID</a></h3>
<pre><code class="language-solidity">uint256 private constant CHAIN_ID = 137;
</code></pre>
<h3 id="klima-1"><a class="header" href="#klima-1">KLIMA</a></h3>
<pre><code class="language-solidity">address private constant KLIMA = 0x4e78011Ce80ee02d2c3e649Fb657E45898257815;
</code></pre>
<h3 id="sklima-1"><a class="header" href="#sklima-1">SKLIMA</a></h3>
<pre><code class="language-solidity">address private constant SKLIMA = 0xb0C22d8D350C67420f06F48936654f567C73E8C8;
</code></pre>
<h3 id="wsklima-1"><a class="header" href="#wsklima-1">WSKLIMA</a></h3>
<pre><code class="language-solidity">address private constant WSKLIMA = 0x6f370dba99E32A3cAD959b341120DB3C9E280bA6;
</code></pre>
<h3 id="staking-1"><a class="header" href="#staking-1">STAKING</a></h3>
<pre><code class="language-solidity">address private constant STAKING = 0x25d28a24Ceb6F81015bB0b2007D795ACAc411b4d;
</code></pre>
<h3 id="staking_helper"><a class="header" href="#staking_helper">STAKING_HELPER</a></h3>
<pre><code class="language-solidity">address private constant STAKING_HELPER = 0x4D70a031Fc76DA6a9bC0C922101A05FA95c3A227;
</code></pre>
<h3 id="treasury-1"><a class="header" href="#treasury-1">TREASURY</a></h3>
<pre><code class="language-solidity">address private constant TREASURY = 0x7Dd4f0B986F032A44F913BF92c9e8b7c17D77aD7;
</code></pre>
<h3 id="usdc-1"><a class="header" href="#usdc-1">USDC</a></h3>
<pre><code class="language-solidity">address private constant USDC = 0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174;
</code></pre>
<h3 id="sushi_polygon"><a class="header" href="#sushi_polygon">SUSHI_POLYGON</a></h3>
<pre><code class="language-solidity">address private constant SUSHI_POLYGON = 0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506;
</code></pre>
<h3 id="quickswap_polygon"><a class="header" href="#quickswap_polygon">QUICKSWAP_POLYGON</a></h3>
<pre><code class="language-solidity">address private constant QUICKSWAP_POLYGON = 0xa5E0829CaCEd8fFDD4De3c43696c57F7D7A678ff;
</code></pre>
<h3 id="sushi_bento"><a class="header" href="#sushi_bento">SUSHI_BENTO</a></h3>
<pre><code class="language-solidity">address private constant SUSHI_BENTO = 0x0319000133d3AdA02600f0875d2cf03D442C3367;
</code></pre>
<h3 id="sushi_trident_polygon"><a class="header" href="#sushi_trident_polygon">SUSHI_TRIDENT_POLYGON</a></h3>
<pre><code class="language-solidity">address private constant SUSHI_TRIDENT_POLYGON = 0xc5017BE80b4446988e8686168396289a9A62668E;
</code></pre>
<h3 id="carbonmark-1"><a class="header" href="#carbonmark-1">CARBONMARK</a></h3>
<pre><code class="language-solidity">address private constant CARBONMARK = 0x7B51dBc2A8fD98Fe0924416E628D5755f57eB821;
</code></pre>
<h3 id="bct-1"><a class="header" href="#bct-1">BCT</a></h3>
<pre><code class="language-solidity">address private constant BCT = 0x2F800Db0fdb5223b3C3f354886d907A671414A7F;
</code></pre>
<h3 id="nct-1"><a class="header" href="#nct-1">NCT</a></h3>
<pre><code class="language-solidity">address private constant NCT = 0xD838290e877E0188a4A44700463419ED96c16107;
</code></pre>
<h3 id="mco2-1"><a class="header" href="#mco2-1">MCO2</a></h3>
<pre><code class="language-solidity">address private constant MCO2 = 0xAa7DbD1598251f856C12f63557A4C4397c253Cea;
</code></pre>
<h3 id="ubo-1"><a class="header" href="#ubo-1">UBO</a></h3>
<pre><code class="language-solidity">address private constant UBO = 0x2B3eCb0991AF0498ECE9135bcD04013d7993110c;
</code></pre>
<h3 id="nbo-1"><a class="header" href="#nbo-1">NBO</a></h3>
<pre><code class="language-solidity">address private constant NBO = 0x6BCa3B77C1909Ce1a4Ba1A20d1103bDe8d222E48;
</code></pre>
<h3 id="toucan_retire_cert"><a class="header" href="#toucan_retire_cert">TOUCAN_RETIRE_CERT</a></h3>
<pre><code class="language-solidity">address private constant TOUCAN_RETIRE_CERT = 0x5e377f16E4ec6001652befD737341a28889Af002;
</code></pre>
<h3 id="moss_carbon_chain"><a class="header" href="#moss_carbon_chain">MOSS_CARBON_CHAIN</a></h3>
<pre><code class="language-solidity">address private constant MOSS_CARBON_CHAIN = 0xeDAEFCf60e12Bd331c092341D5b3d8901C1c05A8;
</code></pre>
<h3 id="klima_carbon_retirements"><a class="header" href="#klima_carbon_retirements">KLIMA_CARBON_RETIREMENTS</a></h3>
<pre><code class="language-solidity">address private constant KLIMA_CARBON_RETIREMENTS = 0xac298CD34559B9AcfaedeA8344a977eceff1C0Fd;
</code></pre>
<h3 id="klima_retirement_bond"><a class="header" href="#klima_retirement_bond">KLIMA_RETIREMENT_BOND</a></h3>
<pre><code class="language-solidity">address private constant KLIMA_RETIREMENT_BOND = 0xa595f0d598DaF144e5a7ca91E6D9A5bAA09dDeD0;
</code></pre>
<h3 id="toucan_registry"><a class="header" href="#toucan_registry">TOUCAN_REGISTRY</a></h3>
<pre><code class="language-solidity">address constant TOUCAN_REGISTRY = 0x263fA1c180889b3a3f46330F32a4a23287E99FC9;
</code></pre>
<h3 id="c3_project_factory"><a class="header" href="#c3_project_factory">C3_PROJECT_FACTORY</a></h3>
<pre><code class="language-solidity">address constant C3_PROJECT_FACTORY = 0xa4c951B30952f5E2feFC8a92F4d3c7551925A63B;
</code></pre>
<h3 id="icr_project_registry"><a class="header" href="#icr_project_registry">ICR_PROJECT_REGISTRY</a></h3>
<pre><code class="language-solidity">address constant ICR_PROJECT_REGISTRY = 0x9f87988FF45E9b58ae30fA1685088460125a7d8A;
</code></pre>
<h2 id="functions-69"><a class="header" href="#functions-69">Functions</a></h2>
<h3 id="toucancert-1"><a class="header" href="#toucancert-1">toucanCert</a></h3>
<pre><code class="language-solidity">function toucanCert() internal pure returns (address);
</code></pre>
<h3 id="mosscarbonchain-1"><a class="header" href="#mosscarbonchain-1">mossCarbonChain</a></h3>
<pre><code class="language-solidity">function mossCarbonChain() internal pure returns (address);
</code></pre>
<h3 id="staking-2"><a class="header" href="#staking-2">staking</a></h3>
<pre><code class="language-solidity">function staking() internal pure returns (address);
</code></pre>
<h3 id="stakinghelper-1"><a class="header" href="#stakinghelper-1">stakingHelper</a></h3>
<pre><code class="language-solidity">function stakingHelper() internal pure returns (address);
</code></pre>
<h3 id="treasury-2"><a class="header" href="#treasury-2">treasury</a></h3>
<pre><code class="language-solidity">function treasury() internal pure returns (address);
</code></pre>
<h3 id="klima-2"><a class="header" href="#klima-2">klima</a></h3>
<pre><code class="language-solidity">function klima() internal pure returns (address);
</code></pre>
<h3 id="sklima-2"><a class="header" href="#sklima-2">sKlima</a></h3>
<pre><code class="language-solidity">function sKlima() internal pure returns (address);
</code></pre>
<h3 id="wsklima-2"><a class="header" href="#wsklima-2">wsKlima</a></h3>
<pre><code class="language-solidity">function wsKlima() internal pure returns (address);
</code></pre>
<h3 id="usdc-2"><a class="header" href="#usdc-2">usdc</a></h3>
<pre><code class="language-solidity">function usdc() internal pure returns (address);
</code></pre>
<h3 id="bct-2"><a class="header" href="#bct-2">bct</a></h3>
<pre><code class="language-solidity">function bct() internal pure returns (address);
</code></pre>
<h3 id="nct-2"><a class="header" href="#nct-2">nct</a></h3>
<pre><code class="language-solidity">function nct() internal pure returns (address);
</code></pre>
<h3 id="mco2-2"><a class="header" href="#mco2-2">mco2</a></h3>
<pre><code class="language-solidity">function mco2() internal pure returns (address);
</code></pre>
<h3 id="ubo-2"><a class="header" href="#ubo-2">ubo</a></h3>
<pre><code class="language-solidity">function ubo() internal pure returns (address);
</code></pre>
<h3 id="nbo-2"><a class="header" href="#nbo-2">nbo</a></h3>
<pre><code class="language-solidity">function nbo() internal pure returns (address);
</code></pre>
<h3 id="sushirouter-1"><a class="header" href="#sushirouter-1">sushiRouter</a></h3>
<pre><code class="language-solidity">function sushiRouter() internal pure returns (address);
</code></pre>
<h3 id="quickswaprouter-1"><a class="header" href="#quickswaprouter-1">quickswapRouter</a></h3>
<pre><code class="language-solidity">function quickswapRouter() internal pure returns (address);
</code></pre>
<h3 id="sushitridentrouter-1"><a class="header" href="#sushitridentrouter-1">sushiTridentRouter</a></h3>
<pre><code class="language-solidity">function sushiTridentRouter() internal pure returns (address);
</code></pre>
<h3 id="sushibento-1"><a class="header" href="#sushibento-1">sushiBento</a></h3>
<pre><code class="language-solidity">function sushiBento() internal pure returns (address);
</code></pre>
<h3 id="klimacarbonretirements-1"><a class="header" href="#klimacarbonretirements-1">klimaCarbonRetirements</a></h3>
<pre><code class="language-solidity">function klimaCarbonRetirements() internal pure returns (address);
</code></pre>
<h3 id="klimaretirementbond-1"><a class="header" href="#klimaretirementbond-1">klimaRetirementBond</a></h3>
<pre><code class="language-solidity">function klimaRetirementBond() internal pure returns (address);
</code></pre>
<h3 id="toucanregistry"><a class="header" href="#toucanregistry">toucanRegistry</a></h3>
<pre><code class="language-solidity">function toucanRegistry() internal pure returns (address);
</code></pre>
<h3 id="c3projectfactory"><a class="header" href="#c3projectfactory">c3ProjectFactory</a></h3>
<pre><code class="language-solidity">function c3ProjectFactory() internal pure returns (address);
</code></pre>
<h3 id="carbonmark-2"><a class="header" href="#carbonmark-2">carbonmark</a></h3>
<pre><code class="language-solidity">function carbonmark() internal pure returns (address);
</code></pre>
<h3 id="icrprojectregistry"><a class="header" href="#icrprojectregistry">icrProjectRegistry</a></h3>
<pre><code class="language-solidity">function icrProjectRegistry() internal pure returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamond"><a class="header" href="#diamond">Diamond</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/Diamond.sol">Git Source</a></p>
<p><br />
Author: Nick Mudge <a href="mailto:src/infinity/Diamond.sol/nick@perfectabstractions.com">nick@perfectabstractions.com</a> (https://twitter.com/mudgen)
EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535
Implementation of a diamond.
/*****************************************************************************</p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="s-3"><a class="header" href="#s-3">s</a></h3>
<pre><code class="language-solidity">AppStorage internal s;
</code></pre>
<h2 id="functions-70"><a class="header" href="#functions-70">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _contractOwner, address _diamondCutFacet) payable;
</code></pre>
<h3 id="fallback"><a class="header" href="#fallback">fallback</a></h3>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reentrancyguard"><a class="header" href="#reentrancyguard">ReentrancyGuard</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/infinity/ReentrancyGuard.sol">Git Source</a></p>
<p><strong>Author:</strong>
Beanstalk Farms</p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="_not_entered"><a class="header" href="#_not_entered">_NOT_ENTERED</a></h3>
<pre><code class="language-solidity">uint256 private constant _NOT_ENTERED = 1;
</code></pre>
<h3 id="_entered"><a class="header" href="#_entered">_ENTERED</a></h3>
<pre><code class="language-solidity">uint256 private constant _ENTERED = 2;
</code></pre>
<h3 id="s-4"><a class="header" href="#s-4">s</a></h3>
<pre><code class="language-solidity">AppStorage internal s;
</code></pre>
<h2 id="functions-71"><a class="header" href="#functions-71">Functions</a></h2>
<h3 id="nonreentrant"><a class="header" href="#nonreentrant">nonReentrant</a></h3>
<pre><code class="language-solidity">modifier nonReentrant();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/integrations//src/integrations/sushixklima">sushixklima</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-15"><a class="header" href="#contents-15">Contents</a></h1>
<ul>
<li><a href="src/integrations/sushixklima//src/integrations/sushixklima/interfaces">interfaces</a></li>
<li><a href="src/integrations/sushixklima//src/integrations/sushixklima/keepers">keepers</a></li>
<li><a href="src/integrations/sushixklima/Ownable.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/integrations/sushixklima/Ownable.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.SafeMathUniswap.html">SafeMathUniswap</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.UniswapV2Library.html">UniswapV2Library</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/library.TransferHelper.html">TransferHelper</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IUniswapV2Factory.html">IUniswapV2Factory</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IERC20Uniswap.html">IERC20Uniswap</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/interface.IWETH.html">IWETH</a></li>
<li><a href="src/integrations/sushixklima/SushiRouterV02.sol/contract.UniswapV2Router02.html">UniswapV2Router02</a></li>
<li><a href="src/integrations/sushixklima/SushiswapGreenWrapper.sol/contract.SushiswapGreenSwapWrapper.html">SushiswapGreenSwapWrapper</a></li>
<li><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/interface.IKlimaRetirementAggregator.html">IKlimaRetirementAggregator</a></li>
<li><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/interface.IWrappedAsset.html">IWrappedAsset</a></li>
<li><a href="src/integrations/sushixklima/SwapRetirementHolder.sol/contract.SwapRetirementHolder.html">SwapRetirementHolder</a></li>
<li><a href="src/integrations/sushixklima/TestETHSender.sol/contract.testETHSender.html">testETHSender</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-16"><a class="header" href="#contents-16">Contents</a></h1>
<ul>
<li><a href="src/integrations/sushixklima/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li>
<li><a href="src/integrations/sushixklima/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router01-1"><a class="header" href="#iuniswapv2router01-1">IUniswapV2Router01</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/interfaces/IUniswapV2Router01.sol">Git Source</a></p>
<h2 id="functions-72"><a class="header" href="#functions-72">Functions</a></h2>
<h3 id="factory-2"><a class="header" href="#factory-2">factory</a></h3>
<pre><code class="language-solidity">function factory() external pure returns (address);
</code></pre>
<h3 id="weth-1"><a class="header" href="#weth-1">WETH</a></h3>
<pre><code class="language-solidity">function WETH() external pure returns (address);
</code></pre>
<h3 id="addliquidity-1"><a class="header" href="#addliquidity-1">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB, uint256 liquidity);
</code></pre>
<h3 id="addliquidityeth-1"><a class="header" href="#addliquidityeth-1">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(
    address token,
    uint256 amountTokenDesired,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external payable returns (uint256 amountToken, uint256 amountETH, uint256 liquidity);
</code></pre>
<h3 id="removeliquidity-1"><a class="header" href="#removeliquidity-1">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityeth-1"><a class="header" href="#removeliquidityeth-1">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit-1"><a class="header" href="#removeliquiditywithpermit-1">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit-1"><a class="header" href="#removeliquidityethwithpermit-1">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokens-3"><a class="header" href="#swapexacttokensfortokens-3">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens-2"><a class="header" href="#swaptokensforexacttokens-2">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens-1"><a class="header" href="#swapexactethfortokens-1">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint256 amountOutMin, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth-1"><a class="header" href="#swaptokensforexacteth-1">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth-1"><a class="header" href="#swapexacttokensforeth-1">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens-1"><a class="header" href="#swapethforexacttokens-1">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint256 amountOut, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="quote-1"><a class="header" href="#quote-1">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB) external pure returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-4"><a class="header" href="#getamountout-4">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-5"><a class="header" href="#getamountin-5">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout-1"><a class="header" href="#getamountsout-1">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint256 amountIn, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin-1"><a class="header" href="#getamountsin-1">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint256 amountOut, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router02-1"><a class="header" href="#iuniswapv2router02-1">IUniswapV2Router02</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/interfaces/IUniswapV2Router02.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/interfaces/IUniswapV2Router02.sol//src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></p>
<h2 id="functions-73"><a class="header" href="#functions-73">Functions</a></h2>
<h3 id="removeliquidityethsupportingfeeontransfertokens-1"><a class="header" href="#removeliquidityethsupportingfeeontransfertokens-1">removeLiquidityETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethwithpermitsupportingfeeontransfertokens-1"><a class="header" href="#removeliquidityethwithpermitsupportingfeeontransfertokens-1">removeLiquidityETHWithPermitSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokenssupportingfeeontransfertokens-1"><a class="header" href="#swapexacttokensfortokenssupportingfeeontransfertokens-1">swapExactTokensForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokensSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<h3 id="swapexactethfortokenssupportingfeeontransfertokens-1"><a class="header" href="#swapexactethfortokenssupportingfeeontransfertokens-1">swapExactETHForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokensSupportingFeeOnTransferTokens(
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external payable;
</code></pre>
<h3 id="swapexacttokensforethsupportingfeeontransfertokens-1"><a class="header" href="#swapexacttokensforethsupportingfeeontransfertokens-1">swapExactTokensForETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETHSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-17"><a class="header" href="#contents-17">Contents</a></h1>
<ul>
<li><a href="src/integrations/sushixklima/keepers/KeeperBase.sol/contract.KeeperBase.html">KeeperBase</a></li>
<li><a href="src/integrations/sushixklima/keepers/KeeperCompatible.sol/abstract.KeeperCompatible.html">KeeperCompatible</a></li>
<li><a href="src/integrations/sushixklima/keepers/KeeperCompatibleInterface.sol/interface.KeeperCompatibleInterface.html">KeeperCompatibleInterface</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keeperbase"><a class="header" href="#keeperbase">KeeperBase</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/keepers/KeeperBase.sol">Git Source</a></p>
<h2 id="functions-74"><a class="header" href="#functions-74">Functions</a></h2>
<h3 id="preventexecution"><a class="header" href="#preventexecution">preventExecution</a></h3>
<p>method that allows it to be simulated via eth_call by checking that
the sender is the zero address.</p>
<pre><code class="language-solidity">function preventExecution() internal view;
</code></pre>
<h3 id="cannotexecute"><a class="header" href="#cannotexecute">cannotExecute</a></h3>
<p>modifier that allows it to be simulated via eth_call by checking
that the sender is the zero address.</p>
<pre><code class="language-solidity">modifier cannotExecute();
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="onlysimulatedbackend"><a class="header" href="#onlysimulatedbackend">OnlySimulatedBackend</a></h3>
<pre><code class="language-solidity">error OnlySimulatedBackend();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keepercompatible"><a class="header" href="#keepercompatible">KeeperCompatible</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/keepers/KeeperCompatible.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/keepers/KeeperCompatible.sol//src/integrations/sushixklima/keepers/KeeperBase.sol/contract.KeeperBase.html">KeeperBase</a>, <a href="src/integrations/sushixklima/keepers/KeeperCompatible.sol//src/integrations/sushixklima/keepers/KeeperCompatibleInterface.sol/interface.KeeperCompatibleInterface.html">KeeperCompatibleInterface</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keepercompatibleinterface"><a class="header" href="#keepercompatibleinterface">KeeperCompatibleInterface</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/keepers/KeeperCompatibleInterface.sol">Git Source</a></p>
<h2 id="functions-75"><a class="header" href="#functions-75">Functions</a></h2>
<h3 id="checkupkeep"><a class="header" href="#checkupkeep">checkUpkeep</a></h3>
<p>method that is simulated by the keepers to see if any work actually
needs to be performed. This method does does not actually need to be
executable, and since it is only ever simulated it can consume lots of gas.</p>
<p><em>To ensure that it is never called, you may want to add the
cannotExecute modifier from KeeperBase to your implementation of this
method.</em></p>
<pre><code class="language-solidity">function checkUpkeep(bytes calldata checkData) external returns (bool upkeepNeeded, bytes memory performData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>checkData</code></td><td><code>bytes</code></td><td>specified in the upkeep registration so it is always the same for a registered upkeep. This can easily be broken down into specific arguments using <code>abi.decode</code>, so multiple upkeeps can be registered on the same contract and easily differentiated by the contract.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>upkeepNeeded</code></td><td><code>bool</code></td><td>boolean to indicate whether the keeper should call performUpkeep or not.</td></tr>
<tr><td><code>performData</code></td><td><code>bytes</code></td><td>bytes that the keeper should call performUpkeep with, if upkeep is needed. If you would like to encode data to decode later, try <code>abi.encode</code>.</td></tr>
</tbody></table>
</div>
<h3 id="performupkeep"><a class="header" href="#performupkeep">performUpkeep</a></h3>
<p>method that is actually executed by the keepers, via the registry.
The data returned by the checkUpkeep simulation will be passed into
this method to actually be executed.</p>
<p><em>The input to this method should not be trusted, and the caller of the
method should not even be restricted to any single registry. Anyone should
be able call it, and the input should be validated, there is no guarantee
that the data passed in is the performData returned from checkUpkeep. This
could happen due to malicious keepers, racing keepers, or simply a state
change while the performUpkeep transaction is waiting for confirmation.
Always validate the data passed in.</em></p>
<pre><code class="language-solidity">function performUpkeep(bytes calldata performData) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>performData</code></td><td><code>bytes</code></td><td>is the data which was passed back from the checkData simulation. If it is encoded, it can easily be decoded into other types by calling <code>abi.decode</code>. This data should not be trusted, and should be validated against the contract's current state.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iownable"><a class="header" href="#iownable">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/Ownable.sol">Git Source</a></p>
<h2 id="functions-76"><a class="header" href="#functions-76">Functions</a></h2>
<h3 id="manager"><a class="header" href="#manager">manager</a></h3>
<pre><code class="language-solidity">function manager() external view returns (address);
</code></pre>
<h3 id="renouncemanagement"><a class="header" href="#renouncemanagement">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() external;
</code></pre>
<h3 id="pushmanagement"><a class="header" href="#pushmanagement">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) external;
</code></pre>
<h3 id="pullmanagement"><a class="header" href="#pullmanagement">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable"><a class="header" href="#ownable">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/Ownable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/Ownable.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="_owner"><a class="header" href="#_owner">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h3 id="_newowner"><a class="header" href="#_newowner">_newOwner</a></h3>
<pre><code class="language-solidity">address internal _newOwner;
</code></pre>
<h2 id="functions-77"><a class="header" href="#functions-77">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="manager-1"><a class="header" href="#manager-1">manager</a></h3>
<pre><code class="language-solidity">function manager() public view override returns (address);
</code></pre>
<h3 id="onlymanager"><a class="header" href="#onlymanager">onlyManager</a></h3>
<pre><code class="language-solidity">modifier onlyManager();
</code></pre>
<h3 id="renouncemanagement-1"><a class="header" href="#renouncemanagement-1">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() public virtual override onlyManager;
</code></pre>
<h3 id="pushmanagement-1"><a class="header" href="#pushmanagement-1">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) public virtual override onlyManager;
</code></pre>
<h3 id="pullmanagement-1"><a class="header" href="#pullmanagement-1">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() public virtual override;
</code></pre>
<h2 id="events-18"><a class="header" href="#events-18">Events</a></h2>
<h3 id="ownershippushed"><a class="header" href="#ownershippushed">OwnershipPushed</a></h3>
<pre><code class="language-solidity">event OwnershipPushed(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="ownershippulled"><a class="header" href="#ownershippulled">OwnershipPulled</a></h3>
<pre><code class="language-solidity">event OwnershipPulled(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2pair-1"><a class="header" href="#iuniswapv2pair-1">IUniswapV2Pair</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<p>Submitted for verification at polygonscan.com on 2021-06-09</p>
<h2 id="functions-78"><a class="header" href="#functions-78">Functions</a></h2>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<pre><code class="language-solidity">function name() external pure returns (string memory);
</code></pre>
<h3 id="symbol-1"><a class="header" href="#symbol-1">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external pure returns (string memory);
</code></pre>
<h3 id="decimals-1"><a class="header" href="#decimals-1">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external pure returns (uint8);
</code></pre>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<h3 id="allowance-1"><a class="header" href="#allowance-1">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) external returns (bool);
</code></pre>
<h3 id="transfer-2"><a class="header" href="#transfer-2">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="domain_separator-1"><a class="header" href="#domain_separator-1">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() external view returns (bytes32);
</code></pre>
<h3 id="permit_typehash-1"><a class="header" href="#permit_typehash-1">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">function PERMIT_TYPEHASH() external pure returns (bytes32);
</code></pre>
<h3 id="nonces-1"><a class="header" href="#nonces-1">nonces</a></h3>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<h3 id="permit-1"><a class="header" href="#permit-1">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="minimum_liquidity-1"><a class="header" href="#minimum_liquidity-1">MINIMUM_LIQUIDITY</a></h3>
<pre><code class="language-solidity">function MINIMUM_LIQUIDITY() external pure returns (uint256);
</code></pre>
<h3 id="factory-3"><a class="header" href="#factory-3">factory</a></h3>
<pre><code class="language-solidity">function factory() external view returns (address);
</code></pre>
<h3 id="token0-1"><a class="header" href="#token0-1">token0</a></h3>
<pre><code class="language-solidity">function token0() external view returns (address);
</code></pre>
<h3 id="token1-1"><a class="header" href="#token1-1">token1</a></h3>
<pre><code class="language-solidity">function token1() external view returns (address);
</code></pre>
<h3 id="getreserves-1"><a class="header" href="#getreserves-1">getReserves</a></h3>
<pre><code class="language-solidity">function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);
</code></pre>
<h3 id="price0cumulativelast-1"><a class="header" href="#price0cumulativelast-1">price0CumulativeLast</a></h3>
<pre><code class="language-solidity">function price0CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="price1cumulativelast-1"><a class="header" href="#price1cumulativelast-1">price1CumulativeLast</a></h3>
<pre><code class="language-solidity">function price1CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="klast-1"><a class="header" href="#klast-1">kLast</a></h3>
<pre><code class="language-solidity">function kLast() external view returns (uint256);
</code></pre>
<h3 id="mint-2"><a class="header" href="#mint-2">mint</a></h3>
<pre><code class="language-solidity">function mint(address to) external returns (uint256 liquidity);
</code></pre>
<h3 id="burn-2"><a class="header" href="#burn-2">burn</a></h3>
<pre><code class="language-solidity">function burn(address to) external returns (uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="swap-2"><a class="header" href="#swap-2">swap</a></h3>
<pre><code class="language-solidity">function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;
</code></pre>
<h3 id="skim-1"><a class="header" href="#skim-1">skim</a></h3>
<pre><code class="language-solidity">function skim(address to) external;
</code></pre>
<h3 id="sync-2"><a class="header" href="#sync-2">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address, address) external;
</code></pre>
<h2 id="events-19"><a class="header" href="#events-19">Events</a></h2>
<h3 id="approval-1"><a class="header" href="#approval-1">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<h3 id="transfer-3"><a class="header" href="#transfer-3">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="mint-3"><a class="header" href="#mint-3">Mint</a></h3>
<pre><code class="language-solidity">event Mint(address indexed sender, uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="burn-3"><a class="header" href="#burn-3">Burn</a></h3>
<pre><code class="language-solidity">event Burn(address indexed sender, uint256 amount0, uint256 amount1, address indexed to);
</code></pre>
<h3 id="swap-3"><a class="header" href="#swap-3">Swap</a></h3>
<pre><code class="language-solidity">event Swap(
    address indexed sender,
    uint256 amount0In,
    uint256 amount1In,
    uint256 amount0Out,
    uint256 amount1Out,
    address indexed to
);
</code></pre>
<h3 id="sync-3"><a class="header" href="#sync-3">Sync</a></h3>
<pre><code class="language-solidity">event Sync(uint112 reserve0, uint112 reserve1);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemathuniswap"><a class="header" href="#safemathuniswap">SafeMathUniswap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-79"><a class="header" href="#functions-79">Functions</a></h2>
<h3 id="add"><a class="header" href="#add">add</a></h3>
<pre><code class="language-solidity">function add(uint256 x, uint256 y) internal pure returns (uint256 z);
</code></pre>
<h3 id="sub"><a class="header" href="#sub">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 x, uint256 y) internal pure returns (uint256 z);
</code></pre>
<h3 id="mul"><a class="header" href="#mul">mul</a></h3>
<pre><code class="language-solidity">function mul(uint256 x, uint256 y) internal pure returns (uint256 z);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapv2library"><a class="header" href="#uniswapv2library">UniswapV2Library</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-80"><a class="header" href="#functions-80">Functions</a></h2>
<h3 id="sorttokens"><a class="header" href="#sorttokens">sortTokens</a></h3>
<pre><code class="language-solidity">function sortTokens(address tokenA, address tokenB) internal pure returns (address token0, address token1);
</code></pre>
<h3 id="pairfor"><a class="header" href="#pairfor">pairFor</a></h3>
<pre><code class="language-solidity">function pairFor(address factory, address tokenA, address tokenB) internal pure returns (address pair);
</code></pre>
<h3 id="getreserves-2"><a class="header" href="#getreserves-2">getReserves</a></h3>
<pre><code class="language-solidity">function getReserves(address factory, address tokenA, address tokenB)
    internal
    view
    returns (uint256 reserveA, uint256 reserveB);
</code></pre>
<h3 id="quote-2"><a class="header" href="#quote-2">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB) internal pure returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-5"><a class="header" href="#getamountout-5">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    internal
    pure
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-6"><a class="header" href="#getamountin-6">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    internal
    pure
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout-2"><a class="header" href="#getamountsout-2">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(address factory, uint256 amountIn, address[] memory path)
    internal
    view
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin-2"><a class="header" href="#getamountsin-2">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(address factory, uint256 amountOut, address[] memory path)
    internal
    view
    returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transferhelper"><a class="header" href="#transferhelper">TransferHelper</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-81"><a class="header" href="#functions-81">Functions</a></h2>
<h3 id="safeapprove"><a class="header" href="#safeapprove">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(address token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransfer"><a class="header" href="#safetransfer">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(address token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom"><a class="header" href="#safetransferfrom">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(address token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransfereth"><a class="header" href="#safetransfereth">safeTransferETH</a></h3>
<pre><code class="language-solidity">function safeTransferETH(address to, uint256 value) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router01-2"><a class="header" href="#iuniswapv2router01-2">IUniswapV2Router01</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-82"><a class="header" href="#functions-82">Functions</a></h2>
<h3 id="factory-4"><a class="header" href="#factory-4">factory</a></h3>
<pre><code class="language-solidity">function factory() external pure returns (address);
</code></pre>
<h3 id="weth-2"><a class="header" href="#weth-2">WETH</a></h3>
<pre><code class="language-solidity">function WETH() external pure returns (address);
</code></pre>
<h3 id="addliquidity-2"><a class="header" href="#addliquidity-2">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB, uint256 liquidity);
</code></pre>
<h3 id="addliquidityeth-2"><a class="header" href="#addliquidityeth-2">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(
    address token,
    uint256 amountTokenDesired,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external payable returns (uint256 amountToken, uint256 amountETH, uint256 liquidity);
</code></pre>
<h3 id="removeliquidity-2"><a class="header" href="#removeliquidity-2">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityeth-2"><a class="header" href="#removeliquidityeth-2">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit-2"><a class="header" href="#removeliquiditywithpermit-2">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit-2"><a class="header" href="#removeliquidityethwithpermit-2">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokens-4"><a class="header" href="#swapexacttokensfortokens-4">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens-3"><a class="header" href="#swaptokensforexacttokens-3">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens-2"><a class="header" href="#swapexactethfortokens-2">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint256 amountOutMin, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth-2"><a class="header" href="#swaptokensforexacteth-2">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth-2"><a class="header" href="#swapexacttokensforeth-2">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens-2"><a class="header" href="#swapethforexacttokens-2">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint256 amountOut, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="quote-3"><a class="header" href="#quote-3">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB) external pure returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-6"><a class="header" href="#getamountout-6">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-7"><a class="header" href="#getamountin-7">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout-3"><a class="header" href="#getamountsout-3">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint256 amountIn, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin-3"><a class="header" href="#getamountsin-3">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint256 amountOut, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router02-2"><a class="header" href="#iuniswapv2router02-2">IUniswapV2Router02</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/SushiRouterV02.sol//src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></p>
<h2 id="functions-83"><a class="header" href="#functions-83">Functions</a></h2>
<h3 id="removeliquidityethsupportingfeeontransfertokens-2"><a class="header" href="#removeliquidityethsupportingfeeontransfertokens-2">removeLiquidityETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethwithpermitsupportingfeeontransfertokens-2"><a class="header" href="#removeliquidityethwithpermitsupportingfeeontransfertokens-2">removeLiquidityETHWithPermitSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokenssupportingfeeontransfertokens-2"><a class="header" href="#swapexacttokensfortokenssupportingfeeontransfertokens-2">swapExactTokensForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokensSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<h3 id="swapexactethfortokenssupportingfeeontransfertokens-2"><a class="header" href="#swapexactethfortokenssupportingfeeontransfertokens-2">swapExactETHForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokensSupportingFeeOnTransferTokens(
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external payable;
</code></pre>
<h3 id="swapexacttokensforethsupportingfeeontransfertokens-2"><a class="header" href="#swapexacttokensforethsupportingfeeontransfertokens-2">swapExactTokensForETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETHSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2factory"><a class="header" href="#iuniswapv2factory">IUniswapV2Factory</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-84"><a class="header" href="#functions-84">Functions</a></h2>
<h3 id="feeto"><a class="header" href="#feeto">feeTo</a></h3>
<pre><code class="language-solidity">function feeTo() external view returns (address);
</code></pre>
<h3 id="feetosetter"><a class="header" href="#feetosetter">feeToSetter</a></h3>
<pre><code class="language-solidity">function feeToSetter() external view returns (address);
</code></pre>
<h3 id="migrator"><a class="header" href="#migrator">migrator</a></h3>
<pre><code class="language-solidity">function migrator() external view returns (address);
</code></pre>
<h3 id="getpair"><a class="header" href="#getpair">getPair</a></h3>
<pre><code class="language-solidity">function getPair(address tokenA, address tokenB) external view returns (address pair);
</code></pre>
<h3 id="allpairs"><a class="header" href="#allpairs">allPairs</a></h3>
<pre><code class="language-solidity">function allPairs(uint256) external view returns (address pair);
</code></pre>
<h3 id="allpairslength"><a class="header" href="#allpairslength">allPairsLength</a></h3>
<pre><code class="language-solidity">function allPairsLength() external view returns (uint256);
</code></pre>
<h3 id="createpair"><a class="header" href="#createpair">createPair</a></h3>
<pre><code class="language-solidity">function createPair(address tokenA, address tokenB) external returns (address pair);
</code></pre>
<h3 id="setfeeto"><a class="header" href="#setfeeto">setFeeTo</a></h3>
<pre><code class="language-solidity">function setFeeTo(address) external;
</code></pre>
<h3 id="setfeetosetter"><a class="header" href="#setfeetosetter">setFeeToSetter</a></h3>
<pre><code class="language-solidity">function setFeeToSetter(address) external;
</code></pre>
<h3 id="setmigrator"><a class="header" href="#setmigrator">setMigrator</a></h3>
<pre><code class="language-solidity">function setMigrator(address) external;
</code></pre>
<h2 id="events-20"><a class="header" href="#events-20">Events</a></h2>
<h3 id="paircreated"><a class="header" href="#paircreated">PairCreated</a></h3>
<pre><code class="language-solidity">event PairCreated(address indexed token0, address indexed token1, address pair, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20uniswap"><a class="header" href="#ierc20uniswap">IERC20Uniswap</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-85"><a class="header" href="#functions-85">Functions</a></h2>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<h3 id="symbol-2"><a class="header" href="#symbol-2">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<h3 id="decimals-2"><a class="header" href="#decimals-2">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply-2"><a class="header" href="#totalsupply-2">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-2"><a class="header" href="#balanceof-2">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<h3 id="allowance-2"><a class="header" href="#allowance-2">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-2"><a class="header" href="#approve-2">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) external returns (bool);
</code></pre>
<h3 id="transfer-4"><a class="header" href="#transfer-4">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="transferfrom-2"><a class="header" href="#transferfrom-2">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) external returns (bool);
</code></pre>
<h2 id="events-21"><a class="header" href="#events-21">Events</a></h2>
<h3 id="approval-2"><a class="header" href="#approval-2">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<h3 id="transfer-5"><a class="header" href="#transfer-5">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iweth"><a class="header" href="#iweth">IWETH</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<h2 id="functions-86"><a class="header" href="#functions-86">Functions</a></h2>
<h3 id="deposit-2"><a class="header" href="#deposit-2">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="transfer-6"><a class="header" href="#transfer-6">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="withdraw-2"><a class="header" href="#withdraw-2">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uniswapv2router02"><a class="header" href="#uniswapv2router02">UniswapV2Router02</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiRouterV02.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/SushiRouterV02.sol//src/retirement_v1/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="factory-5"><a class="header" href="#factory-5">factory</a></h3>
<pre><code class="language-solidity">address public immutable override factory;
</code></pre>
<h3 id="weth-3"><a class="header" href="#weth-3">WETH</a></h3>
<pre><code class="language-solidity">address public immutable override WETH;
</code></pre>
<h2 id="functions-87"><a class="header" href="#functions-87">Functions</a></h2>
<h3 id="ensure"><a class="header" href="#ensure">ensure</a></h3>
<pre><code class="language-solidity">modifier ensure(uint256 deadline);
</code></pre>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _factory, address _WETH) public;
</code></pre>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="_addliquidity"><a class="header" href="#_addliquidity">_addLiquidity</a></h3>
<pre><code class="language-solidity">function _addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin
) internal virtual returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="addliquidity-3"><a class="header" href="#addliquidity-3">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external virtual override ensure(deadline) returns (uint256 amountA, uint256 amountB, uint256 liquidity);
</code></pre>
<h3 id="addliquidityeth-3"><a class="header" href="#addliquidityeth-3">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(
    address token,
    uint256 amountTokenDesired,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
)
    external
    payable
    virtual
    override
    ensure(deadline)
    returns (uint256 amountToken, uint256 amountETH, uint256 liquidity);
</code></pre>
<h3 id="removeliquidity-3"><a class="header" href="#removeliquidity-3">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) public virtual override ensure(deadline) returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityeth-3"><a class="header" href="#removeliquidityeth-3">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) public virtual override ensure(deadline) returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit-3"><a class="header" href="#removeliquiditywithpermit-3">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external virtual override returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit-3"><a class="header" href="#removeliquidityethwithpermit-3">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external virtual override returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethsupportingfeeontransfertokens-3"><a class="header" href="#removeliquidityethsupportingfeeontransfertokens-3">removeLiquidityETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) public virtual override ensure(deadline) returns (uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethwithpermitsupportingfeeontransfertokens-3"><a class="header" href="#removeliquidityethwithpermitsupportingfeeontransfertokens-3">removeLiquidityETHWithPermitSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external virtual override returns (uint256 amountETH);
</code></pre>
<h3 id="_swap"><a class="header" href="#_swap">_swap</a></h3>
<pre><code class="language-solidity">function _swap(uint256[] memory amounts, address[] memory path, address _to) internal virtual;
</code></pre>
<h3 id="swapexacttokensfortokens-5"><a class="header" href="#swapexacttokensfortokens-5">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline) returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens-4"><a class="header" href="#swaptokensforexacttokens-4">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline) returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens-3"><a class="header" href="#swapexactethfortokens-3">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint256 amountOutMin, address[] calldata path, address to, uint256 deadline)
    external
    payable
    virtual
    override
    ensure(deadline)
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth-3"><a class="header" href="#swaptokensforexacteth-3">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline) returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth-3"><a class="header" href="#swapexacttokensforeth-3">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline) returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens-3"><a class="header" href="#swapethforexacttokens-3">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint256 amountOut, address[] calldata path, address to, uint256 deadline)
    external
    payable
    virtual
    override
    ensure(deadline)
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="_swapsupportingfeeontransfertokens"><a class="header" href="#_swapsupportingfeeontransfertokens">_swapSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function _swapSupportingFeeOnTransferTokens(address[] memory path, address _to) internal virtual;
</code></pre>
<h3 id="swapexacttokensfortokenssupportingfeeontransfertokens-3"><a class="header" href="#swapexacttokensfortokenssupportingfeeontransfertokens-3">swapExactTokensForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokensSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline);
</code></pre>
<h3 id="swapexactethfortokenssupportingfeeontransfertokens-3"><a class="header" href="#swapexactethfortokenssupportingfeeontransfertokens-3">swapExactETHForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokensSupportingFeeOnTransferTokens(
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external payable virtual override ensure(deadline);
</code></pre>
<h3 id="swapexacttokensforethsupportingfeeontransfertokens-3"><a class="header" href="#swapexacttokensforethsupportingfeeontransfertokens-3">swapExactTokensForETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETHSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external virtual override ensure(deadline);
</code></pre>
<h3 id="quote-4"><a class="header" href="#quote-4">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB)
    public
    pure
    virtual
    override
    returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-7"><a class="header" href="#getamountout-7">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    public
    pure
    virtual
    override
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-8"><a class="header" href="#getamountin-8">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    public
    pure
    virtual
    override
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout-4"><a class="header" href="#getamountsout-4">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint256 amountIn, address[] memory path)
    public
    view
    virtual
    override
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin-4"><a class="header" href="#getamountsin-4">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint256 amountOut, address[] memory path)
    public
    view
    virtual
    override
    returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sushiswapgreenswapwrapper"><a class="header" href="#sushiswapgreenswapwrapper">SushiswapGreenSwapWrapper</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SushiswapGreenWrapper.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, OwnableUpgradeable</p>
<p><strong>Author:</strong>
KlimaDAO</p>
<p>This contracts allows for a sushiswap swap to be offset in a 2nd txn triggered</p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="retirementholdingaddress"><a class="header" href="#retirementholdingaddress">retirementHoldingAddress</a></h3>
<pre><code class="language-solidity">address payable public retirementHoldingAddress;
</code></pre>
<h3 id="sushiroutermain"><a class="header" href="#sushiroutermain">sushiRouterMain</a></h3>
<pre><code class="language-solidity">address public sushiRouterMain;
</code></pre>
<h3 id="sushiamountoffset"><a class="header" href="#sushiamountoffset">sushiAmountOffset</a></h3>
<pre><code class="language-solidity">uint256 public sushiAmountOffset;
</code></pre>
<h2 id="functions-88"><a class="header" href="#functions-88">Functions</a></h2>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="greenswaptokensfortokens"><a class="header" href="#greenswaptokensfortokens">GreenSwapTokensForTokens</a></h3>
<p>This function will do a retirement as well as a swap, while it is <br />
configurable, it can be pre-populated with default values from the Sushi UI</p>
<pre><code class="language-solidity">function GreenSwapTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) public payable;
</code></pre>
<h3 id="setretirementholdingaddress"><a class="header" href="#setretirementholdingaddress">setRetirementHoldingAddress</a></h3>
<pre><code class="language-solidity">function setRetirementHoldingAddress(address _newHoldingAddress) public onlyOwner;
</code></pre>
<h3 id="setsushiroutermain"><a class="header" href="#setsushiroutermain">setSushiRouterMain</a></h3>
<pre><code class="language-solidity">function setSushiRouterMain(address _newSushiRouter) public onlyOwner;
</code></pre>
<h3 id="setsushiamountoffset"><a class="header" href="#setsushiamountoffset">setSushiAmountOffset</a></h3>
<pre><code class="language-solidity">function setSushiAmountOffset(uint256 _newSushiAmountOffset) public onlyOwner;
</code></pre>
<h2 id="events-22"><a class="header" href="#events-22">Events</a></h2>
<h3 id="newretirementholder"><a class="header" href="#newretirementholder">newRetirementHolder</a></h3>
<pre><code class="language-solidity">event newRetirementHolder(address newHolder);
</code></pre>
<h3 id="newsushirouter"><a class="header" href="#newsushirouter">newSushiRouter</a></h3>
<pre><code class="language-solidity">event newSushiRouter(address newRouter);
</code></pre>
<h3 id="newsushiamountoffset"><a class="header" href="#newsushiamountoffset">newSushiAmountOffset</a></h3>
<pre><code class="language-solidity">event newSushiAmountOffset(uint256 newAmount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimaretirementaggregator"><a class="header" href="#iklimaretirementaggregator">IKlimaRetirementAggregator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SwapRetirementHolder.sol">Git Source</a></p>
<h2 id="functions-89"><a class="header" href="#functions-89">Functions</a></h2>
<h3 id="retirecarbon"><a class="header" href="#retirecarbon">retireCarbon</a></h3>
<pre><code class="language-solidity">function retireCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwrappedasset"><a class="header" href="#iwrappedasset">IWrappedAsset</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SwapRetirementHolder.sol">Git Source</a></p>
<h2 id="functions-90"><a class="header" href="#functions-90">Functions</a></h2>
<h3 id="deposit-3"><a class="header" href="#deposit-3">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="balanceof-3"><a class="header" href="#balanceof-3">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address user) external;
</code></pre>
<h3 id="approve-3"><a class="header" href="#approve-3">approve</a></h3>
<pre><code class="language-solidity">function approve(address guy, uint256 wad) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swapretirementholder"><a class="header" href="#swapretirementholder">SwapRetirementHolder</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/SwapRetirementHolder.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/integrations/sushixklima/SwapRetirementHolder.sol//src/integrations/sushixklima/keepers/KeeperCompatibleInterface.sol/interface.KeeperCompatibleInterface.html">KeeperCompatibleInterface</a>, <a href="src/integrations/sushixklima/SwapRetirementHolder.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="interval"><a class="header" href="#interval">interval</a></h3>
<p>Use an interval in seconds and a timestamp to slow execution of Upkeep</p>
<pre><code class="language-solidity">uint256 public interval;
</code></pre>
<h3 id="lasttimestamp"><a class="header" href="#lasttimestamp">lastTimeStamp</a></h3>
<pre><code class="language-solidity">uint256 public lastTimeStamp;
</code></pre>
<h3 id="numpendingretirementaddresses"><a class="header" href="#numpendingretirementaddresses">numPendingRetirementAddresses</a></h3>
<pre><code class="language-solidity">uint256 public numPendingRetirementAddresses;
</code></pre>
<h3 id="continueupkeeping"><a class="header" href="#continueupkeeping">continueUpKeeping</a></h3>
<pre><code class="language-solidity">bool private continueUpKeeping;
</code></pre>
<h3 id="wrappednativeassetaddress"><a class="header" href="#wrappednativeassetaddress">WrappedNativeAssetAddress</a></h3>
<pre><code class="language-solidity">address public WrappedNativeAssetAddress;
</code></pre>
<h3 id="sourcecarbontoken"><a class="header" href="#sourcecarbontoken">sourceCarbonToken</a></h3>
<pre><code class="language-solidity">address public sourceCarbonToken;
</code></pre>
<h3 id="klimaaggregator"><a class="header" href="#klimaaggregator">KlimaAggregator</a></h3>
<pre><code class="language-solidity">IKlimaRetirementAggregator public KlimaAggregator;
</code></pre>
<h3 id="pendingretirementamounts"><a class="header" href="#pendingretirementamounts">pendingRetirementAmounts</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public pendingRetirementAmounts;
</code></pre>
<h3 id="pendingretirees"><a class="header" href="#pendingretirees">pendingRetirees</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; address) public pendingRetirees;
</code></pre>
<h3 id="pendingaddressqueueposition"><a class="header" href="#pendingaddressqueueposition">pendingAddressQueuePosition</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public pendingAddressQueuePosition;
</code></pre>
<h2 id="functions-91"><a class="header" href="#functions-91">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _KlimaAggregator, uint256 _interval, address _wrappedNativeAsset, address _carbonToken);
</code></pre>
<h3 id="setklimaaggregator"><a class="header" href="#setklimaaggregator">setKlimaAggregator</a></h3>
<pre><code class="language-solidity">function setKlimaAggregator(address newAggregator) public onlyManager;
</code></pre>
<h3 id="setretirementinterval"><a class="header" href="#setretirementinterval">setRetirementInterval</a></h3>
<pre><code class="language-solidity">function setRetirementInterval(uint256 newInterval) public onlyManager;
</code></pre>
<h3 id="setsourcecarbontoken"><a class="header" href="#setsourcecarbontoken">setSourceCarbonToken</a></h3>
<pre><code class="language-solidity">function setSourceCarbonToken(address newCarbonToken) public onlyManager;
</code></pre>
<h3 id="checkupkeep-1"><a class="header" href="#checkupkeep-1">checkUpkeep</a></h3>
<pre><code class="language-solidity">function checkUpkeep(bytes calldata) external view override returns (bool upkeepNeeded, bytes memory);
</code></pre>
<h3 id="performupkeep-1"><a class="header" href="#performupkeep-1">performUpkeep</a></h3>
<pre><code class="language-solidity">function performUpkeep(bytes calldata) external override;
</code></pre>
<h3 id="storependingretirement"><a class="header" href="#storependingretirement">storePendingRetirement</a></h3>
<pre><code class="language-solidity">function storePendingRetirement(uint256 amountToStore, address addressToStore) public onlyManager;
</code></pre>
<h3 id="replaceaddressinpendingretirement"><a class="header" href="#replaceaddressinpendingretirement">replaceAddressInPendingRetirement</a></h3>
<pre><code class="language-solidity">function replaceAddressInPendingRetirement(address oldAddress, address replacementAddress) public onlyManager;
</code></pre>
<h3 id="receive-2"><a class="header" href="#receive-2">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="fallback-1"><a class="header" href="#fallback-1">fallback</a></h3>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h2 id="events-23"><a class="header" href="#events-23">Events</a></h2>
<h3 id="intervalupdated"><a class="header" href="#intervalupdated">intervalUpdated</a></h3>
<pre><code class="language-solidity">event intervalUpdated(uint256 newInterval);
</code></pre>
<h3 id="aggregatoraddressupdated"><a class="header" href="#aggregatoraddressupdated">aggregatorAddressUpdated</a></h3>
<pre><code class="language-solidity">event aggregatorAddressUpdated(address newAddress);
</code></pre>
<h3 id="newpendingretirement"><a class="header" href="#newpendingretirement">newPendingRetirement</a></h3>
<pre><code class="language-solidity">event newPendingRetirement(address retiree, uint256 amount);
</code></pre>
<h3 id="newcarbontokenupdated"><a class="header" href="#newcarbontokenupdated">newCarbonTokenUpdated</a></h3>
<pre><code class="language-solidity">event newCarbonTokenUpdated(address newCarbonTokenUpdate);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testethsender"><a class="header" href="#testethsender">testETHSender</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/integrations/sushixklima/TestETHSender.sol">Git Source</a></p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="retirementholderaddress"><a class="header" href="#retirementholderaddress">retirementHolderAddress</a></h3>
<pre><code class="language-solidity">address payable public retirementHolderAddress;
</code></pre>
<h3 id="sushiamountoffset-1"><a class="header" href="#sushiamountoffset-1">sushiAmountOffset</a></h3>
<pre><code class="language-solidity">uint256 public sushiAmountOffset;
</code></pre>
<h2 id="functions-92"><a class="header" href="#functions-92">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<pre><code class="language-solidity">constructor(address retirementHolder, uint256 sushiAmount);
</code></pre>
<h3 id="sendethtoholder"><a class="header" href="#sendethtoholder">sendETHToHolder</a></h3>
<pre><code class="language-solidity">function sendETHToHolder(address payable _to) public payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-18"><a class="header" href="#contents-18">Contents</a></h1>
<ul>
<li><a href="src/protocol//src/protocol/allocators">allocators</a></li>
<li><a href="src/protocol//src/protocol/bonds">bonds</a></li>
<li><a href="src/protocol//src/protocol/interfaces">interfaces</a></li>
<li><a href="src/protocol//src/protocol/pKLIMA">pKLIMA</a></li>
<li><a href="src/protocol//src/protocol/staking">staking</a></li>
<li><a href="src/protocol//src/protocol/tokens">tokens</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-19"><a class="header" href="#contents-19">Contents</a></h1>
<ul>
<li><a href="src/protocol/allocators/RetirementBondAllocator.sol/contract.RetirementBondAllocator.html">RetirementBondAllocator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retirementbondallocator"><a class="header" href="#retirementbondallocator">RetirementBondAllocator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/allocators/RetirementBondAllocator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable2Step</p>
<p><strong>Author:</strong>
Cujo</p>
<p>A contract for allocating retirement bonds using excess reserves from the Klima Treasury.</p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="treasury-3"><a class="header" href="#treasury-3">TREASURY</a></h3>
<p>Address of the Treasury contract.</p>
<pre><code class="language-solidity">address public constant TREASURY = 0x7Dd4f0B986F032A44F913BF92c9e8b7c17D77aD7;
</code></pre>
<h3 id="dao"><a class="header" href="#dao">DAO</a></h3>
<p>Address of the DAO multi-sig.</p>
<pre><code class="language-solidity">address public constant DAO = 0x65A5076C0BA74e5f3e069995dc3DAB9D197d995c;
</code></pre>
<h3 id="maxreservepercent"><a class="header" href="#maxreservepercent">maxReservePercent</a></h3>
<p>Maximum value of reserves or Treasury balance to allocate. Set by the DAO. 500 = 5%</p>
<pre><code class="language-solidity">uint256 public maxReservePercent;
</code></pre>
<h3 id="percent_divisor"><a class="header" href="#percent_divisor">PERCENT_DIVISOR</a></h3>
<p>Divisor used when calculating percentages.</p>
<pre><code class="language-solidity">uint256 public constant PERCENT_DIVISOR = 10_000;
</code></pre>
<h3 id="bondcontract"><a class="header" href="#bondcontract">bondContract</a></h3>
<p>Retirement bond contract being used.</p>
<pre><code class="language-solidity">address public bondContract;
</code></pre>
<h2 id="functions-93"><a class="header" href="#functions-93">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _bondContract);
</code></pre>
<h3 id="onlydao"><a class="header" href="#onlydao">onlyDAO</a></h3>
<p>Modifier to ensure that the caller is the DAO multi-sig.</p>
<pre><code class="language-solidity">modifier onlyDAO();
</code></pre>
<h3 id="fundbonds"><a class="header" href="#fundbonds">fundBonds</a></h3>
<p>Funds retirement bonds with a specified amount of tokens.</p>
<pre><code class="language-solidity">function fundBonds(address token, uint256 amount) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The address of the token to fund the retirement bonds with.</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to fund the retirement bonds with.</td></tr>
</tbody></table>
</div>
<h3 id="closebonds"><a class="header" href="#closebonds">closeBonds</a></h3>
<p><em>Closes the retirement bonds market for a specified token, transferring any remaining tokens to the treasury.</em></p>
<pre><code class="language-solidity">function closeBonds(address token) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The address of the token for which to close the retirement bonds market.</td></tr>
</tbody></table>
</div>
<h3 id="updatebondcontract"><a class="header" href="#updatebondcontract">updateBondContract</a></h3>
<p>Updates the retirement bond contract being used.</p>
<pre><code class="language-solidity">function updateBondContract(address _bondContract) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_bondContract</code></td><td><code>address</code></td><td>The address of the new retirement bond contract.</td></tr>
</tbody></table>
</div>
<h3 id="updatemaxreservepercent"><a class="header" href="#updatemaxreservepercent">updateMaxReservePercent</a></h3>
<p><em>Updates the maximum reserve percentage allowed.</em></p>
<pre><code class="language-solidity">function updateMaxReservePercent(uint256 _maxReservePercent) external onlyDAO;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_maxReservePercent</code></td><td><code>uint256</code></td><td>The new maximum reserve percentage allowed. 500 = 5%.</td></tr>
</tbody></table>
</div>
<h2 id="events-24"><a class="header" href="#events-24">Events</a></h2>
<h3 id="maxpercentupdated"><a class="header" href="#maxpercentupdated">MaxPercentUpdated</a></h3>
<pre><code class="language-solidity">event MaxPercentUpdated(uint256 oldMax, uint256 newMax);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-20"><a class="header" href="#contents-20">Contents</a></h1>
<ul>
<li><a href="src/protocol/bonds/CarbonRetirementBondDepository.sol/contract.CarbonRetirementBondDepository.html">CarbonRetirementBondDepository</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="carbonretirementbonddepository"><a class="header" href="#carbonretirementbonddepository">CarbonRetirementBondDepository</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/bonds/CarbonRetirementBondDepository.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable2Step</p>
<p><strong>Author:</strong>
Cujo</p>
<p>A smart contract that handles the distribution of carbon in exchange for KLIMA tokens.
Bond depositors can only use this to retire carbon by providing KLIMA tokens.</p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="klima-3"><a class="header" href="#klima-3">KLIMA</a></h3>
<p>Address of the KLIMA token contract.</p>
<pre><code class="language-solidity">address public constant KLIMA = 0x4e78011Ce80ee02d2c3e649Fb657E45898257815;
</code></pre>
<h3 id="dao-1"><a class="header" href="#dao-1">DAO</a></h3>
<p>Address of the DAO multi-sig.</p>
<pre><code class="language-solidity">address public constant DAO = 0x65A5076C0BA74e5f3e069995dc3DAB9D197d995c;
</code></pre>
<h3 id="treasury-4"><a class="header" href="#treasury-4">TREASURY</a></h3>
<p>Address of the Treasury contract.</p>
<pre><code class="language-solidity">address public constant TREASURY = 0x7Dd4f0B986F032A44F913BF92c9e8b7c17D77aD7;
</code></pre>
<h3 id="infinity"><a class="header" href="#infinity">INFINITY</a></h3>
<p>address of the Klima Infinity contract.</p>
<pre><code class="language-solidity">address public constant INFINITY = 0x8cE54d9625371fb2a068986d32C85De8E6e995f8;
</code></pre>
<h3 id="fee_divisor"><a class="header" href="#fee_divisor">FEE_DIVISOR</a></h3>
<p>Divisor used for calculating percentages.</p>
<pre><code class="language-solidity">uint256 public constant FEE_DIVISOR = 10_000;
</code></pre>
<h3 id="allocatorcontract"><a class="header" href="#allocatorcontract">allocatorContract</a></h3>
<p>Allocator contract used by policy to fund and close markets.</p>
<pre><code class="language-solidity">address public allocatorContract;
</code></pre>
<h3 id="poolreference"><a class="header" href="#poolreference">poolReference</a></h3>
<p>Mapping that stores the KLIMA/X LP used for quoting price references.</p>
<pre><code class="language-solidity">mapping(address =&gt; address) public poolReference;
</code></pre>
<h3 id="referenceklimaposition"><a class="header" href="#referenceklimaposition">referenceKlimaPosition</a></h3>
<p>Mapping that stores whether the KLIMA is token 0 or token 1 in the LP contract.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint8) public referenceKlimaPosition;
</code></pre>
<h3 id="daofee"><a class="header" href="#daofee">daoFee</a></h3>
<p>Mapping that stores the DAO fee charged for a specific pool token.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public daoFee;
</code></pre>
<h3 id="maxslippage"><a class="header" href="#maxslippage">maxSlippage</a></h3>
<p>Mapping that stores the maximum slippage tolerated for a specific pool token.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public maxSlippage;
</code></pre>
<h2 id="functions-94"><a class="header" href="#functions-94">Functions</a></h2>
<h3 id="onlyallocator"><a class="header" href="#onlyallocator">onlyAllocator</a></h3>
<p>Modifier to ensure that the calling function is being called by the allocator contract.</p>
<pre><code class="language-solidity">modifier onlyAllocator();
</code></pre>
<h3 id="swaptoexact-2"><a class="header" href="#swaptoexact-2">swapToExact</a></h3>
<p>Swaps the specified amount of pool tokens for KLIMA tokens.</p>
<p><em>Only callable by the Infinity contract.</em></p>
<pre><code class="language-solidity">function swapToExact(address poolToken, uint256 poolAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The pool token address.</td></tr>
<tr><td><code>poolAmount</code></td><td><code>uint256</code></td><td>The amount of pool tokens to swap.</td></tr>
</tbody></table>
</div>
<h3 id="retirecarbondefault"><a class="header" href="#retirecarbondefault">retireCarbonDefault</a></h3>
<p>Retires the specified amount of carbon for the given pool token using KI.</p>
<p><em>Requires KLIMA spend approval for the amount returned by getKlimaAmount()</em></p>
<pre><code class="language-solidity">function retireCarbonDefault(
    address poolToken,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) external returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The pool token address.</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire.</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>The string representing the retiring entity.</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>The address of the beneficiary.</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>The string representing the beneficiary.</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>The message for the retirement.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The index of the retirement transaction.</td></tr>
</tbody></table>
</div>
<h3 id="retirecarbonspecific"><a class="header" href="#retirecarbonspecific">retireCarbonSpecific</a></h3>
<p>Retires the specified amount of carbon for the given pool token using KI.
Uses the provided project token for the underlying credit to retire.</p>
<p><em>Requires KLIMA spend approval for the amount returned by getKlimaAmount()</em></p>
<pre><code class="language-solidity">function retireCarbonSpecific(
    address poolToken,
    address projectToken,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage
) external returns (uint256 retirementIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The pool token address.</td></tr>
<tr><td><code>projectToken</code></td><td><code>address</code></td><td>The project token to retire.</td></tr>
<tr><td><code>retireAmount</code></td><td><code>uint256</code></td><td>The amount of carbon to retire.</td></tr>
<tr><td><code>retiringEntityString</code></td><td><code>string</code></td><td>The string representing the retiring entity.</td></tr>
<tr><td><code>beneficiaryAddress</code></td><td><code>address</code></td><td>The address of the beneficiary.</td></tr>
<tr><td><code>beneficiaryString</code></td><td><code>string</code></td><td>The string representing the beneficiary.</td></tr>
<tr><td><code>retirementMessage</code></td><td><code>string</code></td><td>The message for the retirement.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>retirementIndex</code></td><td><code>uint256</code></td><td>The index of the retirement transaction.</td></tr>
</tbody></table>
</div>
<h3 id="openmarket"><a class="header" href="#openmarket">openMarket</a></h3>
<p>Emits event on market allocation.</p>
<p><em>Only the allocator contract can call this function.</em></p>
<pre><code class="language-solidity">function openMarket(address poolToken) external onlyAllocator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to open the market for.</td></tr>
</tbody></table>
</div>
<h3 id="closemarket"><a class="header" href="#closemarket">closeMarket</a></h3>
<p>Closes the market for a specified pool token by transferring all remaining pool tokens to the treasury address.</p>
<p><em>Only the allocator contract can call this function.</em></p>
<pre><code class="language-solidity">function closeMarket(address poolToken) external onlyAllocator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to close the market for.</td></tr>
</tbody></table>
</div>
<h3 id="updatemaxslippage"><a class="header" href="#updatemaxslippage">updateMaxSlippage</a></h3>
<p>Updates the maximum slippage percentage for a specified pool token.</p>
<pre><code class="language-solidity">function updateMaxSlippage(address poolToken, uint256 _maxSlippage) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to update the maximum slippage percentage for.</td></tr>
<tr><td><code>_maxSlippage</code></td><td><code>uint256</code></td><td>The new maximum slippage percentage.</td></tr>
</tbody></table>
</div>
<h3 id="updatedaofee"><a class="header" href="#updatedaofee">updateDaoFee</a></h3>
<p>Updates the DAO fee for a specified pool token.</p>
<pre><code class="language-solidity">function updateDaoFee(address poolToken, uint256 _daoFee) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to update the DAO fee for.</td></tr>
<tr><td><code>_daoFee</code></td><td><code>uint256</code></td><td>The new DAO fee.</td></tr>
</tbody></table>
</div>
<h3 id="setpoolreference"><a class="header" href="#setpoolreference">setPoolReference</a></h3>
<p>Sets the reference token for a given pool token. The reference token is used to determine the current price
of the pool token in terms of KLIMA. The position of KLIMA in the Uniswap pair for the reference token is also determined.</p>
<pre><code class="language-solidity">function setPoolReference(address poolToken, address referenceToken) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The pool token for which to set the reference token.</td></tr>
<tr><td><code>referenceToken</code></td><td><code>address</code></td><td>The reference token for the given pool token.</td></tr>
</tbody></table>
</div>
<h3 id="setallocator"><a class="header" href="#setallocator">setAllocator</a></h3>
<p>Sets the address of the allocator contract. Only the contract owner can call this function.</p>
<pre><code class="language-solidity">function setAllocator(address allocator) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>allocator</code></td><td><code>address</code></td><td>The address of the allocator contract to set.</td></tr>
</tbody></table>
</div>
<h3 id="getklimaamount-1"><a class="header" href="#getklimaamount-1">getKlimaAmount</a></h3>
<p>Calculates the amount of KLIMA tokens needed to retire a specified amount of pool tokens for a pool.
The required amount of KLIMA tokens is calculated based on the current market price of the pool token and the amount of pool tokens to be retired.
If the raw amount needed from the dex exceeds slippage, than the limited amount is returned.</p>
<pre><code class="language-solidity">function getKlimaAmount(uint256 poolAmount, address poolToken) public view returns (uint256 klimaNeeded);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolAmount</code></td><td><code>uint256</code></td><td>The amount of pool tokens to retire.</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to retire.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>klimaNeeded</code></td><td><code>uint256</code></td><td>The amount of KLIMA tokens needed to retire the specified amount of pool tokens.</td></tr>
</tbody></table>
</div>
<h3 id="_transferandburnklima"><a class="header" href="#_transferandburnklima">_transferAndBurnKlima</a></h3>
<p>Transfers and burns a specified amount of KLIMA tokens.
A fee is also transferred to the DAO address based on the fee divisor and the configured fee for the pool token.</p>
<p><em>On extremely small quote amounts this can result in zero</em></p>
<pre><code class="language-solidity">function _transferAndBurnKlima(uint256 totalKlima, address poolToken) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalKlima</code></td><td><code>uint256</code></td><td>The total amount of KLIMA tokens to transfer and burn.</td></tr>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to burn KLIMA tokens for.</td></tr>
</tbody></table>
</div>
<h3 id="getmarketquote"><a class="header" href="#getmarketquote">getMarketQuote</a></h3>
<p>Returns the current market price of the pool token in terms of KLIMA tokens.</p>
<p><em>Currently all KLIMA LP contracts safely interact with the IUniswapV2Pair abi.</em></p>
<pre><code class="language-solidity">function getMarketQuote(address poolToken, uint256 amountOut) internal view returns (uint256 currentPrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolToken</code></td><td><code>address</code></td><td>The address of the pool token to get the market quote for.</td></tr>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of pool tokens to get the market quote for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>currentPrice</code></td><td><code>uint256</code></td><td>The current market price of the pool token in terms of KLIMA tokens.</td></tr>
</tbody></table>
</div>
<h2 id="events-25"><a class="header" href="#events-25">Events</a></h2>
<h3 id="allocatorchanged"><a class="header" href="#allocatorchanged">AllocatorChanged</a></h3>
<pre><code class="language-solidity">event AllocatorChanged(address oldAllocator, address newAllocator);
</code></pre>
<h3 id="poolreferencechanged"><a class="header" href="#poolreferencechanged">PoolReferenceChanged</a></h3>
<pre><code class="language-solidity">event PoolReferenceChanged(address pool, address oldLp, address newLp);
</code></pre>
<h3 id="referenceklimapositionchanged"><a class="header" href="#referenceklimapositionchanged">ReferenceKlimaPositionChanged</a></h3>
<pre><code class="language-solidity">event ReferenceKlimaPositionChanged(address lp, uint8 oldPosition, uint8 newPosition);
</code></pre>
<h3 id="daofeechanged"><a class="header" href="#daofeechanged">DaoFeeChanged</a></h3>
<pre><code class="language-solidity">event DaoFeeChanged(address pool, uint256 oldFee, uint256 newFee);
</code></pre>
<h3 id="poolslippagechanged"><a class="header" href="#poolslippagechanged">PoolSlippageChanged</a></h3>
<pre><code class="language-solidity">event PoolSlippageChanged(address pool, uint256 oldSlippage, uint256 newSlippage);
</code></pre>
<h3 id="marketopened"><a class="header" href="#marketopened">MarketOpened</a></h3>
<pre><code class="language-solidity">event MarketOpened(address pool, uint256 amount);
</code></pre>
<h3 id="marketclosed"><a class="header" href="#marketclosed">MarketClosed</a></h3>
<pre><code class="language-solidity">event MarketClosed(address pool, uint256 amount);
</code></pre>
<h3 id="carbonbonded"><a class="header" href="#carbonbonded">CarbonBonded</a></h3>
<pre><code class="language-solidity">event CarbonBonded(address pool, uint256 poolAmount);
</code></pre>
<h3 id="klimabonded"><a class="header" href="#klimabonded">KlimaBonded</a></h3>
<pre><code class="language-solidity">event KlimaBonded(uint256 daoFee, uint256 klimaBurned);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-21"><a class="header" href="#contents-21">Contents</a></h1>
<ul>
<li><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlima.html">IKlima</a></li>
<li><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlimaTreasury.html">IKlimaTreasury</a></li>
<li><a href="src/protocol/interfaces/IKLIMA.sol/interface.IKlimaRetirementBond.html">IKlimaRetirementBond</a></li>
<li><a href="src/protocol/interfaces/IKLIMA.sol/interface.IRetirementBondAllocator.html">IRetirementBondAllocator</a></li>
<li><a href="src/protocol/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li>
<li><a href="src/protocol/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li>
<li><a href="src/protocol/interfaces/IwsKLIMA.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklima"><a class="header" href="#iklima">IKlima</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IKLIMA.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/interfaces/IKLIMA.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<h2 id="functions-95"><a class="header" href="#functions-95">Functions</a></h2>
<h3 id="mint-4"><a class="header" href="#mint-4">mint</a></h3>
<pre><code class="language-solidity">function mint(address account_, uint256 amount_) external;
</code></pre>
<h3 id="burn-4"><a class="header" href="#burn-4">burn</a></h3>
<pre><code class="language-solidity">function burn(uint256 amount) external;
</code></pre>
<h3 id="burnfrom"><a class="header" href="#burnfrom">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account_, uint256 amount_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimatreasury"><a class="header" href="#iklimatreasury">IKlimaTreasury</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IKLIMA.sol">Git Source</a></p>
<h2 id="functions-96"><a class="header" href="#functions-96">Functions</a></h2>
<h3 id="excessreserves"><a class="header" href="#excessreserves">excessReserves</a></h3>
<pre><code class="language-solidity">function excessReserves() external returns (uint256);
</code></pre>
<h3 id="manage"><a class="header" href="#manage">manage</a></h3>
<pre><code class="language-solidity">function manage(address _token, uint256 _amount) external;
</code></pre>
<h3 id="queue"><a class="header" href="#queue">queue</a></h3>
<pre><code class="language-solidity">function queue(uint8 _managing, address _address) external returns (bool);
</code></pre>
<h3 id="toggle"><a class="header" href="#toggle">toggle</a></h3>
<pre><code class="language-solidity">function toggle(uint8 _managing, address _address, address _calculator) external returns (bool);
</code></pre>
<h3 id="reservemanagerqueue"><a class="header" href="#reservemanagerqueue">ReserveManagerQueue</a></h3>
<pre><code class="language-solidity">function ReserveManagerQueue(address _address) external returns (uint256);
</code></pre>
<h3 id="isreservemanager"><a class="header" href="#isreservemanager">isReserveManager</a></h3>
<pre><code class="language-solidity">function isReserveManager(address _address) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimaretirementbond-1"><a class="header" href="#iklimaretirementbond-1">IKlimaRetirementBond</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IKLIMA.sol">Git Source</a></p>
<h2 id="functions-97"><a class="header" href="#functions-97">Functions</a></h2>
<h3 id="owner-3"><a class="header" href="#owner-3">owner</a></h3>
<pre><code class="language-solidity">function owner() external returns (address);
</code></pre>
<h3 id="allocatorcontract-1"><a class="header" href="#allocatorcontract-1">allocatorContract</a></h3>
<pre><code class="language-solidity">function allocatorContract() external returns (address);
</code></pre>
<h3 id="dao-2"><a class="header" href="#dao-2">DAO</a></h3>
<pre><code class="language-solidity">function DAO() external returns (address);
</code></pre>
<h3 id="treasury-5"><a class="header" href="#treasury-5">TREASURY</a></h3>
<pre><code class="language-solidity">function TREASURY() external returns (address);
</code></pre>
<h3 id="openmarket-1"><a class="header" href="#openmarket-1">openMarket</a></h3>
<pre><code class="language-solidity">function openMarket(address poolToken) external;
</code></pre>
<h3 id="closemarket-1"><a class="header" href="#closemarket-1">closeMarket</a></h3>
<pre><code class="language-solidity">function closeMarket(address poolToken) external;
</code></pre>
<h3 id="updatemaxslippage-1"><a class="header" href="#updatemaxslippage-1">updateMaxSlippage</a></h3>
<pre><code class="language-solidity">function updateMaxSlippage(address poolToken, uint256 _maxSlippage) external;
</code></pre>
<h3 id="updatedaofee-1"><a class="header" href="#updatedaofee-1">updateDaoFee</a></h3>
<pre><code class="language-solidity">function updateDaoFee(address poolToken, uint256 _daoFee) external;
</code></pre>
<h3 id="setpoolreference-1"><a class="header" href="#setpoolreference-1">setPoolReference</a></h3>
<pre><code class="language-solidity">function setPoolReference(address poolToken, address referenceToken) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iretirementbondallocator"><a class="header" href="#iretirementbondallocator">IRetirementBondAllocator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IKLIMA.sol">Git Source</a></p>
<h2 id="functions-98"><a class="header" href="#functions-98">Functions</a></h2>
<h3 id="owner-4"><a class="header" href="#owner-4">owner</a></h3>
<pre><code class="language-solidity">function owner() external returns (address);
</code></pre>
<h3 id="fundbonds-1"><a class="header" href="#fundbonds-1">fundBonds</a></h3>
<pre><code class="language-solidity">function fundBonds(address token, uint256 amount) external;
</code></pre>
<h3 id="closebonds-1"><a class="header" href="#closebonds-1">closeBonds</a></h3>
<pre><code class="language-solidity">function closeBonds(address token) external;
</code></pre>
<h3 id="updatebondcontract-1"><a class="header" href="#updatebondcontract-1">updateBondContract</a></h3>
<pre><code class="language-solidity">function updateBondContract(address _bondContract) external;
</code></pre>
<h3 id="updatemaxreservepercent-1"><a class="header" href="#updatemaxreservepercent-1">updateMaxReservePercent</a></h3>
<pre><code class="language-solidity">function updateMaxReservePercent(uint256 _maxReservePercent) external;
</code></pre>
<h3 id="maxreservepercent-1"><a class="header" href="#maxreservepercent-1">maxReservePercent</a></h3>
<pre><code class="language-solidity">function maxReservePercent() external view returns (uint256);
</code></pre>
<h3 id="percent_divisor-1"><a class="header" href="#percent_divisor-1">PERCENT_DIVISOR</a></h3>
<pre><code class="language-solidity">function PERCENT_DIVISOR() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimainfinity-1"><a class="header" href="#iklimainfinity-1">IKlimaInfinity</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IKlimaInfinity.sol">Git Source</a></p>
<h2 id="functions-99"><a class="header" href="#functions-99">Functions</a></h2>
<h3 id="retireexactcarbondefault-1"><a class="header" href="#retireexactcarbondefault-1">retireExactCarbonDefault</a></h3>
<pre><code class="language-solidity">function retireExactCarbonDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactcarbonspecific-1"><a class="header" href="#retireexactcarbonspecific-1">retireExactCarbonSpecific</a></h3>
<pre><code class="language-solidity">function retireExactCarbonSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactsourcedefault-1"><a class="header" href="#retireexactsourcedefault-1">retireExactSourceDefault</a></h3>
<pre><code class="language-solidity">function retireExactSourceDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactsourcespecific-1"><a class="header" href="#retireexactsourcespecific-1">retireExactSourceSpecific</a></h3>
<pre><code class="language-solidity">function retireExactSourceSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="getsourceamountdefaultretirement-1"><a class="header" href="#getsourceamountdefaultretirement-1">getSourceAmountDefaultRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountDefaultRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    external
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountspecificretirement-1"><a class="header" href="#getsourceamountspecificretirement-1">getSourceAmountSpecificRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountSpecificRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    external
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountswaponly-1"><a class="header" href="#getsourceamountswaponly-1">getSourceAmountSwapOnly</a></h3>
<pre><code class="language-solidity">function getSourceAmountSwapOnly(address sourceToken, address carbonToken, uint256 amountOut)
    external
    view
    returns (uint256 amountIn);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2pair-2"><a class="header" href="#iuniswapv2pair-2">IUniswapV2Pair</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IUniswapV2Pair.sol">Git Source</a></p>
<h2 id="functions-100"><a class="header" href="#functions-100">Functions</a></h2>
<h3 id="name-3"><a class="header" href="#name-3">name</a></h3>
<pre><code class="language-solidity">function name() external pure returns (string memory);
</code></pre>
<h3 id="symbol-3"><a class="header" href="#symbol-3">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external pure returns (string memory);
</code></pre>
<h3 id="decimals-3"><a class="header" href="#decimals-3">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external pure returns (uint8);
</code></pre>
<h3 id="totalsupply-3"><a class="header" href="#totalsupply-3">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-4"><a class="header" href="#balanceof-4">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<h3 id="allowance-3"><a class="header" href="#allowance-3">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-4"><a class="header" href="#approve-4">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) external returns (bool);
</code></pre>
<h3 id="transfer-7"><a class="header" href="#transfer-7">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="transferfrom-3"><a class="header" href="#transferfrom-3">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="domain_separator-2"><a class="header" href="#domain_separator-2">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() external view returns (bytes32);
</code></pre>
<h3 id="permit_typehash-2"><a class="header" href="#permit_typehash-2">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">function PERMIT_TYPEHASH() external pure returns (bytes32);
</code></pre>
<h3 id="nonces-2"><a class="header" href="#nonces-2">nonces</a></h3>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<h3 id="permit-2"><a class="header" href="#permit-2">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="minimum_liquidity-2"><a class="header" href="#minimum_liquidity-2">MINIMUM_LIQUIDITY</a></h3>
<pre><code class="language-solidity">function MINIMUM_LIQUIDITY() external pure returns (uint256);
</code></pre>
<h3 id="factory-6"><a class="header" href="#factory-6">factory</a></h3>
<pre><code class="language-solidity">function factory() external view returns (address);
</code></pre>
<h3 id="token0-2"><a class="header" href="#token0-2">token0</a></h3>
<pre><code class="language-solidity">function token0() external view returns (address);
</code></pre>
<h3 id="token1-2"><a class="header" href="#token1-2">token1</a></h3>
<pre><code class="language-solidity">function token1() external view returns (address);
</code></pre>
<h3 id="getreserves-3"><a class="header" href="#getreserves-3">getReserves</a></h3>
<pre><code class="language-solidity">function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);
</code></pre>
<h3 id="price0cumulativelast-2"><a class="header" href="#price0cumulativelast-2">price0CumulativeLast</a></h3>
<pre><code class="language-solidity">function price0CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="price1cumulativelast-2"><a class="header" href="#price1cumulativelast-2">price1CumulativeLast</a></h3>
<pre><code class="language-solidity">function price1CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="klast-2"><a class="header" href="#klast-2">kLast</a></h3>
<pre><code class="language-solidity">function kLast() external view returns (uint256);
</code></pre>
<h3 id="mint-5"><a class="header" href="#mint-5">mint</a></h3>
<pre><code class="language-solidity">function mint(address to) external returns (uint256 liquidity);
</code></pre>
<h3 id="burn-5"><a class="header" href="#burn-5">burn</a></h3>
<pre><code class="language-solidity">function burn(address to) external returns (uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="swap-4"><a class="header" href="#swap-4">swap</a></h3>
<pre><code class="language-solidity">function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;
</code></pre>
<h3 id="skim-2"><a class="header" href="#skim-2">skim</a></h3>
<pre><code class="language-solidity">function skim(address to) external;
</code></pre>
<h3 id="sync-4"><a class="header" href="#sync-4">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address, address) external;
</code></pre>
<h2 id="events-26"><a class="header" href="#events-26">Events</a></h2>
<h3 id="approval-3"><a class="header" href="#approval-3">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<h3 id="transfer-8"><a class="header" href="#transfer-8">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="mint-6"><a class="header" href="#mint-6">Mint</a></h3>
<pre><code class="language-solidity">event Mint(address indexed sender, uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="burn-6"><a class="header" href="#burn-6">Burn</a></h3>
<pre><code class="language-solidity">event Burn(address indexed sender, uint256 amount0, uint256 amount1, address indexed to);
</code></pre>
<h3 id="swap-5"><a class="header" href="#swap-5">Swap</a></h3>
<pre><code class="language-solidity">event Swap(
    address indexed sender,
    uint256 amount0In,
    uint256 amount1In,
    uint256 amount0Out,
    uint256 amount1Out,
    address indexed to
);
</code></pre>
<h3 id="sync-5"><a class="header" href="#sync-5">Sync</a></h3>
<pre><code class="language-solidity">event Sync(uint112 reserve0, uint112 reserve1);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwsklima-1"><a class="header" href="#iwsklima-1">IwsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/interfaces/IwsKLIMA.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/interfaces/IwsKLIMA.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<h2 id="functions-101"><a class="header" href="#functions-101">Functions</a></h2>
<h3 id="sklima-3"><a class="header" href="#sklima-3">sKLIMA</a></h3>
<pre><code class="language-solidity">function sKLIMA() external returns (address);
</code></pre>
<h3 id="wrap-2"><a class="header" href="#wrap-2">wrap</a></h3>
<pre><code class="language-solidity">function wrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="unwrap-2"><a class="header" href="#unwrap-2">unwrap</a></h3>
<pre><code class="language-solidity">function unwrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="wklimatosklima-1"><a class="header" href="#wklimatosklima-1">wKLIMATosKLIMA</a></h3>
<pre><code class="language-solidity">function wKLIMATosKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<h3 id="sklimatowklima-1"><a class="header" href="#sklimatowklima-1">sKLIMATowKLIMA</a></h3>
<pre><code class="language-solidity">function sKLIMATowKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-22"><a class="header" href="#contents-22">Contents</a></h1>
<ul>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.ITreasury.html">ITreasury</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.IPOLY.html">IPOLY</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/interface.ICirculatingOHM.html">ICirculatingOHM</a></li>
<li><a href="src/protocol/pKLIMA/AltExercisepKLIMA.sol/contract.AltExercisepOLY.html">AltExercisepOLY</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.ITreasury.html">ITreasury</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IPKLIMA.html">IPKLIMA</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.IOldClaimContract.html">IOldClaimContract</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/interface.ICirculatingKLIMA.html">ICirculatingKLIMA</a></li>
<li><a href="src/protocol/pKLIMA/ExercisepKLIMA.sol/contract.ExercisepKLIMA.html">ExercisepKLIMA</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20"><a class="header" href="#safeerc20">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<p><em>Wrappers around ERC20 operations that throw on failure (when the token
contract returns false). Tokens that return no value (and instead revert or
throw on failure) are also supported, non-reverting calls are assumed to be
successful.
To use this library you can add a <code>using SafeERC20 for IERC20;</code> statement to your contract,
which allows you to call the safe operations as <code>token.safeTransfer(...)</code>, etc.</em></p>
<h2 id="functions-102"><a class="header" href="#functions-102">Functions</a></h2>
<h3 id="safetransfer-1"><a class="header" href="#safetransfer-1">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-1"><a class="header" href="#safetransferfrom-1">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-1"><a class="header" href="#safeapprove-1">safeApprove</a></h3>
<p><em>Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.
Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead.</em></p>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance"><a class="header" href="#safeincreaseallowance">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance"><a class="header" href="#safedecreaseallowance">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn"><a class="header" href="#_calloptionalreturn">_callOptionalReturn</a></h3>
<p><em>Imitates a Solidity high-level call (i.e. a regular_old function call to a contract), relaxing the requirement
on the return value: the return value is optional (but if data is returned, it must not be false).</em></p>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The token targeted by the call.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The call data (encoded using abi.encode or one of its variants).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safemath"><a class="header" href="#safemath">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-103"><a class="header" href="#functions-103">Functions</a></h2>
<h3 id="add-1"><a class="header" href="#add-1">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-1"><a class="header" href="#sub-1">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-2"><a class="header" href="#sub-2">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-1"><a class="header" href="#mul-1">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div"><a class="header" href="#div">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-1"><a class="header" href="#div-1">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod"><a class="header" href="#mod">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-1"><a class="header" href="#mod-1">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt"><a class="header" href="#sqrrt">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount"><a class="header" href="#percentageamount">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage"><a class="header" href="#substractpercentage">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal"><a class="header" href="#percentageoftotal">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average"><a class="header" href="#average">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing"><a class="header" href="#quadraticpricing">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve"><a class="header" href="#bondingcurve">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address"><a class="header" href="#address">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<p><em>Collection of functions related to the address type</em></p>
<h2 id="functions-104"><a class="header" href="#functions-104">Functions</a></h2>
<h3 id="iscontract"><a class="header" href="#iscontract">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue"><a class="header" href="#sendvalue">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall"><a class="header" href="#functioncall">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular_old Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-1"><a class="header" href="#functioncall-1">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue"><a class="header" href="#functioncallwithvalue">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-1"><a class="header" href="#functioncallwithvalue-1">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue"><a class="header" href="#_functioncallwithvalue">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall"><a class="header" href="#functionstaticcall">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-1"><a class="header" href="#functionstaticcall-1">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall"><a class="header" href="#functiondelegatecall">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-1"><a class="header" href="#functiondelegatecall-1">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult"><a class="header" href="#_verifycallresult">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring"><a class="header" href="#addresstostring">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20"><a class="header" href="#ierc20">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<p><em>Interface of the ERC20 standard as defined in the EIP.</em></p>
<h2 id="functions-105"><a class="header" href="#functions-105">Functions</a></h2>
<h3 id="totalsupply-4"><a class="header" href="#totalsupply-4">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-5"><a class="header" href="#balanceof-5">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-9"><a class="header" href="#transfer-9">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-4"><a class="header" href="#allowance-4">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-5"><a class="header" href="#approve-5">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-4"><a class="header" href="#transferfrom-4">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-27"><a class="header" href="#events-27">Events</a></h2>
<h3 id="transfer-10"><a class="header" href="#transfer-10">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-4"><a class="header" href="#approval-4">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itreasury"><a class="header" href="#itreasury">ITreasury</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-106"><a class="header" href="#functions-106">Functions</a></h2>
<h3 id="deposit-4"><a class="header" href="#deposit-4">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint256 _amount, address _token, uint256 _profit) external returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipoly"><a class="header" href="#ipoly">IPOLY</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-107"><a class="header" href="#functions-107">Functions</a></h2>
<h3 id="isapprovedseller"><a class="header" href="#isapprovedseller">isApprovedSeller</a></h3>
<pre><code class="language-solidity">function isApprovedSeller(address _address) external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icirculatingohm"><a class="header" href="#icirculatingohm">ICirculatingOHM</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-108"><a class="header" href="#functions-108">Functions</a></h2>
<h3 id="ohmcirculatingsupply"><a class="header" href="#ohmcirculatingsupply">OHMCirculatingSupply</a></h3>
<pre><code class="language-solidity">function OHMCirculatingSupply() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="altexercisepoly"><a class="header" href="#altexercisepoly">AltExercisepOLY</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/AltExercisepKLIMA.sol">Git Source</a></p>
<p>Exercise contract for unapproved sellers prior to migrating pOLY.
It is not possible for a user to use both (no double dipping).</p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="owner-5"><a class="header" href="#owner-5">owner</a></h3>
<pre><code class="language-solidity">address owner;
</code></pre>
<h3 id="newowner"><a class="header" href="#newowner">newOwner</a></h3>
<pre><code class="language-solidity">address newOwner;
</code></pre>
<h3 id="poly"><a class="header" href="#poly">pOLY</a></h3>
<pre><code class="language-solidity">address immutable pOLY;
</code></pre>
<h3 id="ohm"><a class="header" href="#ohm">OHM</a></h3>
<pre><code class="language-solidity">address immutable OHM;
</code></pre>
<h3 id="dai"><a class="header" href="#dai">DAI</a></h3>
<pre><code class="language-solidity">address immutable DAI;
</code></pre>
<h3 id="treasury-6"><a class="header" href="#treasury-6">treasury</a></h3>
<pre><code class="language-solidity">address immutable treasury;
</code></pre>
<h3 id="circulatingohmcontract"><a class="header" href="#circulatingohmcontract">circulatingOHMContract</a></h3>
<pre><code class="language-solidity">address immutable circulatingOHMContract;
</code></pre>
<h3 id="terms"><a class="header" href="#terms">terms</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Term) public terms;
</code></pre>
<h3 id="walletchange"><a class="header" href="#walletchange">walletChange</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public walletChange;
</code></pre>
<h2 id="functions-109"><a class="header" href="#functions-109">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _pOLY, address _ohm, address _dai, address _treasury, address _circulatingOHMContract);
</code></pre>
<h3 id="setterms"><a class="header" href="#setterms">setTerms</a></h3>
<pre><code class="language-solidity">function setTerms(address _vester, uint256 _rate, uint256 _claimed, uint256 _max) external;
</code></pre>
<h3 id="exercise"><a class="header" href="#exercise">exercise</a></h3>
<pre><code class="language-solidity">function exercise(uint256 _amount) external;
</code></pre>
<h3 id="pushwalletchange"><a class="header" href="#pushwalletchange">pushWalletChange</a></h3>
<pre><code class="language-solidity">function pushWalletChange(address _newWallet) external;
</code></pre>
<h3 id="pullwalletchange"><a class="header" href="#pullwalletchange">pullWalletChange</a></h3>
<pre><code class="language-solidity">function pullWalletChange(address _oldWallet) external;
</code></pre>
<h3 id="redeemablefor"><a class="header" href="#redeemablefor">redeemableFor</a></h3>
<pre><code class="language-solidity">function redeemableFor(address _vester) public view returns (uint256);
</code></pre>
<h3 id="redeemable"><a class="header" href="#redeemable">redeemable</a></h3>
<pre><code class="language-solidity">function redeemable(Term memory _info) internal view returns (uint256);
</code></pre>
<h3 id="pushownership"><a class="header" href="#pushownership">pushOwnership</a></h3>
<pre><code class="language-solidity">function pushOwnership(address _newOwner) external returns (bool);
</code></pre>
<h3 id="pullownership"><a class="header" href="#pullownership">pullOwnership</a></h3>
<pre><code class="language-solidity">function pullOwnership() external returns (bool);
</code></pre>
<h2 id="structs-11"><a class="header" href="#structs-11">Structs</a></h2>
<h3 id="term"><a class="header" href="#term">Term</a></h3>
<pre><code class="language-solidity">struct Term {
    uint256 percent;
    uint256 claimed;
    uint256 max;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20-1"><a class="header" href="#safeerc20-1">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-06-03
Submitted for verification at Etherscan.io on 2021-04-14</p>
<p><em>Wrappers around ERC20 operations that throw on failure (when the token
contract returns false). Tokens that return no value (and instead revert or
throw on failure) are also supported, non-reverting calls are assumed to be
successful.
To use this library you can add a <code>using SafeERC20 for IERC20;</code> statement to your contract,
which allows you to call the safe operations as <code>token.safeTransfer(...)</code>, etc.</em></p>
<h2 id="functions-110"><a class="header" href="#functions-110">Functions</a></h2>
<h3 id="safetransfer-2"><a class="header" href="#safetransfer-2">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-2"><a class="header" href="#safetransferfrom-2">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-2"><a class="header" href="#safeapprove-2">safeApprove</a></h3>
<p><em>Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.
Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead.</em></p>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance-1"><a class="header" href="#safeincreaseallowance-1">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance-1"><a class="header" href="#safedecreaseallowance-1">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn-1"><a class="header" href="#_calloptionalreturn-1">_callOptionalReturn</a></h3>
<p><em>Imitates a Solidity high-level call (i.e. a regular_old function call to a contract), relaxing the requirement
on the return value: the return value is optional (but if data is returned, it must not be false).</em></p>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The token targeted by the call.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The call data (encoded using abi.encode or one of its variants).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-1"><a class="header" href="#safemath-1">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-111"><a class="header" href="#functions-111">Functions</a></h2>
<h3 id="add-2"><a class="header" href="#add-2">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-3"><a class="header" href="#sub-3">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-4"><a class="header" href="#sub-4">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-2"><a class="header" href="#mul-2">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-2"><a class="header" href="#div-2">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-3"><a class="header" href="#div-3">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-2"><a class="header" href="#mod-2">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-3"><a class="header" href="#mod-3">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-1"><a class="header" href="#sqrrt-1">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-1"><a class="header" href="#percentageamount-1">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-1"><a class="header" href="#substractpercentage-1">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-1"><a class="header" href="#percentageoftotal-1">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-1"><a class="header" href="#average-1">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-1"><a class="header" href="#quadraticpricing-1">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-1"><a class="header" href="#bondingcurve-1">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-1"><a class="header" href="#address-1">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<p><em>Collection of functions related to the address type</em></p>
<h2 id="functions-112"><a class="header" href="#functions-112">Functions</a></h2>
<h3 id="iscontract-1"><a class="header" href="#iscontract-1">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-1"><a class="header" href="#sendvalue-1">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-2"><a class="header" href="#functioncall-2">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular_old Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-3"><a class="header" href="#functioncall-3">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-2"><a class="header" href="#functioncallwithvalue-2">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-3"><a class="header" href="#functioncallwithvalue-3">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-1"><a class="header" href="#_functioncallwithvalue-1">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-2"><a class="header" href="#functionstaticcall-2">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-3"><a class="header" href="#functionstaticcall-3">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-2"><a class="header" href="#functiondelegatecall-2">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-3"><a class="header" href="#functiondelegatecall-3">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-1"><a class="header" href="#_verifycallresult-1">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-1"><a class="header" href="#addresstostring-1">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-1"><a class="header" href="#ierc20-1">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<p><em>Interface of the ERC20 standard as defined in the EIP.</em></p>
<h2 id="functions-113"><a class="header" href="#functions-113">Functions</a></h2>
<h3 id="totalsupply-5"><a class="header" href="#totalsupply-5">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-6"><a class="header" href="#balanceof-6">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-11"><a class="header" href="#transfer-11">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-5"><a class="header" href="#allowance-5">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-6"><a class="header" href="#approve-6">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-5"><a class="header" href="#transferfrom-5">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-28"><a class="header" href="#events-28">Events</a></h2>
<h3 id="transfer-12"><a class="header" href="#transfer-12">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-5"><a class="header" href="#approval-5">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itreasury-1"><a class="header" href="#itreasury-1">ITreasury</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-114"><a class="header" href="#functions-114">Functions</a></h2>
<h3 id="deposit-5"><a class="header" href="#deposit-5">deposit</a></h3>
<pre><code class="language-solidity">function deposit(uint256 _amount, address _token, uint256 _profit) external returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipklima"><a class="header" href="#ipklima">IPKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-115"><a class="header" href="#functions-115">Functions</a></h2>
<h3 id="burnfrom-1"><a class="header" href="#burnfrom-1">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account_, uint256 amount_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ioldclaimcontract"><a class="header" href="#ioldclaimcontract">IOldClaimContract</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-116"><a class="header" href="#functions-116">Functions</a></h2>
<h3 id="amountclaimed"><a class="header" href="#amountclaimed">amountClaimed</a></h3>
<pre><code class="language-solidity">function amountClaimed(address _vester) external view returns (uint256);
</code></pre>
<h3 id="maxallowedtoclaim"><a class="header" href="#maxallowedtoclaim">maxAllowedToClaim</a></h3>
<pre><code class="language-solidity">function maxAllowedToClaim(address _vester) external view returns (uint256);
</code></pre>
<h3 id="percentcanvest"><a class="header" href="#percentcanvest">percentCanVest</a></h3>
<pre><code class="language-solidity">function percentCanVest(address _vester) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icirculatingklima"><a class="header" href="#icirculatingklima">ICirculatingKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<h2 id="functions-117"><a class="header" href="#functions-117">Functions</a></h2>
<h3 id="klimacirculatingsupply"><a class="header" href="#klimacirculatingsupply">KLIMACirculatingSupply</a></h3>
<pre><code class="language-solidity">function KLIMACirculatingSupply() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercisepklima"><a class="header" href="#exercisepklima">ExercisepKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/pKLIMA/ExercisepKLIMA.sol">Git Source</a></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="owner-6"><a class="header" href="#owner-6">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h3 id="newowner-1"><a class="header" href="#newowner-1">newOwner</a></h3>
<pre><code class="language-solidity">address public newOwner;
</code></pre>
<h3 id="pklima"><a class="header" href="#pklima">pKLIMA</a></h3>
<pre><code class="language-solidity">address public immutable pKLIMA;
</code></pre>
<h3 id="klima-4"><a class="header" href="#klima-4">KLIMA</a></h3>
<pre><code class="language-solidity">address public immutable KLIMA;
</code></pre>
<h3 id="bct-3"><a class="header" href="#bct-3">BCT</a></h3>
<pre><code class="language-solidity">address public immutable BCT;
</code></pre>
<h3 id="treasury-7"><a class="header" href="#treasury-7">treasury</a></h3>
<pre><code class="language-solidity">address public immutable treasury;
</code></pre>
<h3 id="circulatingklimacontract"><a class="header" href="#circulatingklimacontract">circulatingKLIMAContract</a></h3>
<pre><code class="language-solidity">address public immutable circulatingKLIMAContract;
</code></pre>
<h3 id="terms-1"><a class="header" href="#terms-1">terms</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Term) public terms;
</code></pre>
<h3 id="walletchange-1"><a class="header" href="#walletchange-1">walletChange</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public walletChange;
</code></pre>
<h3 id="hasmigrated"><a class="header" href="#hasmigrated">hasMigrated</a></h3>
<pre><code class="language-solidity">bool hasMigrated;
</code></pre>
<h2 id="functions-118"><a class="header" href="#functions-118">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _pKLIMA, address _KLIMA, address _BCT, address _treasury, address _circulatingKLIMAContract);
</code></pre>
<h3 id="setterms-1"><a class="header" href="#setterms-1">setTerms</a></h3>
<pre><code class="language-solidity">function setTerms(address _vester, uint256 _amountCanClaim, uint256 _rate) external returns (bool);
</code></pre>
<h3 id="exercise-1"><a class="header" href="#exercise-1">exercise</a></h3>
<pre><code class="language-solidity">function exercise(uint256 _amount) external returns (bool);
</code></pre>
<h3 id="pushwalletchange-1"><a class="header" href="#pushwalletchange-1">pushWalletChange</a></h3>
<pre><code class="language-solidity">function pushWalletChange(address _newWallet) external returns (bool);
</code></pre>
<h3 id="pullwalletchange-1"><a class="header" href="#pullwalletchange-1">pullWalletChange</a></h3>
<pre><code class="language-solidity">function pullWalletChange(address _oldWallet) external returns (bool);
</code></pre>
<h3 id="redeemablefor-1"><a class="header" href="#redeemablefor-1">redeemableFor</a></h3>
<pre><code class="language-solidity">function redeemableFor(address _vester) public view returns (uint256);
</code></pre>
<h3 id="redeemable-1"><a class="header" href="#redeemable-1">redeemable</a></h3>
<pre><code class="language-solidity">function redeemable(Term memory _info) internal view returns (uint256);
</code></pre>
<h3 id="pushownership-1"><a class="header" href="#pushownership-1">pushOwnership</a></h3>
<pre><code class="language-solidity">function pushOwnership(address _newOwner) external returns (bool);
</code></pre>
<h3 id="pullownership-1"><a class="header" href="#pullownership-1">pullOwnership</a></h3>
<pre><code class="language-solidity">function pullOwnership() external returns (bool);
</code></pre>
<h2 id="structs-12"><a class="header" href="#structs-12">Structs</a></h2>
<h3 id="term-1"><a class="header" href="#term-1">Term</a></h3>
<pre><code class="language-solidity">struct Term {
    uint256 percent;
    uint256 claimed;
    uint256 max;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-23"><a class="header" href="#contents-23">Contents</a></h1>
<ul>
<li><a href="src/protocol/staking//src/protocol/staking/regular">regular</a></li>
<li><a href="src/protocol/staking//src/protocol/staking/utils">utils</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-24"><a class="header" href="#contents-24">Contents</a></h1>
<ul>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IPolicy.html">IPolicy</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/contract.Policy.html">Policy</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.ITreasury.html">ITreasury</a></li>
<li><a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/contract.Distributor.html">Distributor</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IsKLIMA.html">IsKLIMA</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IWarmup.html">IWarmup</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IDistributor.html">IDistributor</a></li>
<li><a href="src/protocol/staking/regular/KlimaStaking_v2.sol/contract.KlimaStaking.html">KlimaStaking</a></li>
<li><a href="src/protocol/staking/regular/StakingHelper.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/regular/StakingHelper.sol/interface.IStaking.html">IStaking</a></li>
<li><a href="src/protocol/staking/regular/StakingHelper.sol/contract.StakingHelper.html">StakingHelper</a></li>
<li><a href="src/protocol/staking/regular/StakingWarmup.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/regular/StakingWarmup.sol/contract.StakingWarmup.html">StakingWarmup</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20-2"><a class="header" href="#safeerc20-2">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-119"><a class="header" href="#functions-119">Functions</a></h2>
<h3 id="safetransfer-3"><a class="header" href="#safetransfer-3">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-3"><a class="header" href="#safetransferfrom-3">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-3"><a class="header" href="#safeapprove-3">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance-2"><a class="header" href="#safeincreaseallowance-2">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance-2"><a class="header" href="#safedecreaseallowance-2">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn-2"><a class="header" href="#_calloptionalreturn-2">_callOptionalReturn</a></h3>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-2"><a class="header" href="#safemath-2">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-120"><a class="header" href="#functions-120">Functions</a></h2>
<h3 id="add-3"><a class="header" href="#add-3">add</a></h3>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-5"><a class="header" href="#sub-5">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-6"><a class="header" href="#sub-6">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-3"><a class="header" href="#mul-3">mul</a></h3>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-4"><a class="header" href="#div-4">div</a></h3>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-5"><a class="header" href="#div-5">div</a></h3>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-4"><a class="header" href="#mod-4">mod</a></h3>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-5"><a class="header" href="#mod-5">mod</a></h3>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-2"><a class="header" href="#sqrrt-2">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-2"><a class="header" href="#percentageamount-2">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-2"><a class="header" href="#substractpercentage-2">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-2"><a class="header" href="#percentageoftotal-2">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-2"><a class="header" href="#average-2">average</a></h3>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-2"><a class="header" href="#quadraticpricing-2">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-2"><a class="header" href="#bondingcurve-2">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-2"><a class="header" href="#ierc20-2">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-121"><a class="header" href="#functions-121">Functions</a></h2>
<h3 id="totalsupply-6"><a class="header" href="#totalsupply-6">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-7"><a class="header" href="#balanceof-7">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-13"><a class="header" href="#transfer-13">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-6"><a class="header" href="#allowance-6">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-7"><a class="header" href="#approve-7">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-6"><a class="header" href="#transferfrom-6">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-29"><a class="header" href="#events-29">Events</a></h2>
<h3 id="transfer-14"><a class="header" href="#transfer-14">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-6"><a class="header" href="#approval-6">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-2"><a class="header" href="#address-2">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-122"><a class="header" href="#functions-122">Functions</a></h2>
<h3 id="iscontract-2"><a class="header" href="#iscontract-2">isContract</a></h3>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-2"><a class="header" href="#sendvalue-2">sendValue</a></h3>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-4"><a class="header" href="#functioncall-4">functionCall</a></h3>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-5"><a class="header" href="#functioncall-5">functionCall</a></h3>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-4"><a class="header" href="#functioncallwithvalue-4">functionCallWithValue</a></h3>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-5"><a class="header" href="#functioncallwithvalue-5">functionCallWithValue</a></h3>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-2"><a class="header" href="#_functioncallwithvalue-2">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-4"><a class="header" href="#functionstaticcall-4">functionStaticCall</a></h3>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-5"><a class="header" href="#functionstaticcall-5">functionStaticCall</a></h3>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-4"><a class="header" href="#functiondelegatecall-4">functionDelegateCall</a></h3>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-5"><a class="header" href="#functiondelegatecall-5">functionDelegateCall</a></h3>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-2"><a class="header" href="#_verifycallresult-2">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-2"><a class="header" href="#addresstostring-2">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipolicy"><a class="header" href="#ipolicy">IPolicy</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-123"><a class="header" href="#functions-123">Functions</a></h2>
<h3 id="policy"><a class="header" href="#policy">policy</a></h3>
<pre><code class="language-solidity">function policy() external view returns (address);
</code></pre>
<h3 id="renouncepolicy"><a class="header" href="#renouncepolicy">renouncePolicy</a></h3>
<pre><code class="language-solidity">function renouncePolicy() external;
</code></pre>
<h3 id="pushpolicy"><a class="header" href="#pushpolicy">pushPolicy</a></h3>
<pre><code class="language-solidity">function pushPolicy(address newPolicy_) external;
</code></pre>
<h3 id="pullpolicy"><a class="header" href="#pullpolicy">pullPolicy</a></h3>
<pre><code class="language-solidity">function pullPolicy() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="policy-1"><a class="header" href="#policy-1">Policy</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IPolicy.html">IPolicy</a></p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="_policy"><a class="header" href="#_policy">_policy</a></h3>
<pre><code class="language-solidity">address internal _policy;
</code></pre>
<h3 id="_newpolicy"><a class="header" href="#_newpolicy">_newPolicy</a></h3>
<pre><code class="language-solidity">address internal _newPolicy;
</code></pre>
<h2 id="functions-124"><a class="header" href="#functions-124">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="policy-2"><a class="header" href="#policy-2">policy</a></h3>
<pre><code class="language-solidity">function policy() public view override returns (address);
</code></pre>
<h3 id="onlypolicy"><a class="header" href="#onlypolicy">onlyPolicy</a></h3>
<pre><code class="language-solidity">modifier onlyPolicy();
</code></pre>
<h3 id="renouncepolicy-1"><a class="header" href="#renouncepolicy-1">renouncePolicy</a></h3>
<pre><code class="language-solidity">function renouncePolicy() public virtual override onlyPolicy;
</code></pre>
<h3 id="pushpolicy-1"><a class="header" href="#pushpolicy-1">pushPolicy</a></h3>
<pre><code class="language-solidity">function pushPolicy(address newPolicy_) public virtual override onlyPolicy;
</code></pre>
<h3 id="pullpolicy-1"><a class="header" href="#pullpolicy-1">pullPolicy</a></h3>
<pre><code class="language-solidity">function pullPolicy() public virtual override;
</code></pre>
<h2 id="events-30"><a class="header" href="#events-30">Events</a></h2>
<h3 id="ownershiptransferred-2"><a class="header" href="#ownershiptransferred-2">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itreasury-2"><a class="header" href="#itreasury-2">ITreasury</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<h2 id="functions-125"><a class="header" href="#functions-125">Functions</a></h2>
<h3 id="mintrewards"><a class="header" href="#mintrewards">mintRewards</a></h3>
<pre><code class="language-solidity">function mintRewards(address _recipient, uint256 _amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="distributor"><a class="header" href="#distributor">Distributor</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStakingDistributor_v4.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/regular/KlimaStakingDistributor_v4.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/contract.Policy.html">Policy</a></p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="klima-5"><a class="header" href="#klima-5">KLIMA</a></h3>
<pre><code class="language-solidity">address public immutable KLIMA;
</code></pre>
<h3 id="treasury-8"><a class="header" href="#treasury-8">treasury</a></h3>
<pre><code class="language-solidity">address public immutable treasury;
</code></pre>
<h3 id="epochlength"><a class="header" href="#epochlength">epochLength</a></h3>
<pre><code class="language-solidity">uint256 public immutable epochLength;
</code></pre>
<h3 id="nextepochblock"><a class="header" href="#nextepochblock">nextEpochBlock</a></h3>
<pre><code class="language-solidity">uint256 public nextEpochBlock;
</code></pre>
<h3 id="adjustments"><a class="header" href="#adjustments">adjustments</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; Adjust) public adjustments;
</code></pre>
<h3 id="info"><a class="header" href="#info">info</a></h3>
<pre><code class="language-solidity">Info[] public info;
</code></pre>
<h2 id="functions-126"><a class="header" href="#functions-126">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _treasury, address _klima, uint256 _epochLength, uint256 _nextEpochBlock);
</code></pre>
<h3 id="distribute"><a class="header" href="#distribute">distribute</a></h3>
<p>send epoch reward to staking contract</p>
<pre><code class="language-solidity">function distribute() external returns (bool);
</code></pre>
<h3 id="adjust"><a class="header" href="#adjust">adjust</a></h3>
<p>increment reward rate for collector</p>
<pre><code class="language-solidity">function adjust(uint256 _index) internal;
</code></pre>
<h3 id="nextrewardat"><a class="header" href="#nextrewardat">nextRewardAt</a></h3>
<p>view function for next reward at given rate</p>
<pre><code class="language-solidity">function nextRewardAt(uint256 _rate) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_rate</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="nextrewardfor"><a class="header" href="#nextrewardfor">nextRewardFor</a></h3>
<p>view function for next reward for specified address</p>
<pre><code class="language-solidity">function nextRewardFor(address _recipient) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="addrecipient"><a class="header" href="#addrecipient">addRecipient</a></h3>
<p>adds recipient for distributions</p>
<pre><code class="language-solidity">function addRecipient(address _recipient, uint256 _rewardRate) external onlyPolicy;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>address</td></tr>
<tr><td><code>_rewardRate</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="removerecipient"><a class="header" href="#removerecipient">removeRecipient</a></h3>
<p>removes recipient for distributions</p>
<pre><code class="language-solidity">function removeRecipient(uint256 _index, address _recipient) external onlyPolicy;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<h3 id="setadjustment"><a class="header" href="#setadjustment">setAdjustment</a></h3>
<p>set adjustment info for a collector's reward rate</p>
<pre><code class="language-solidity">function setAdjustment(uint256 _index, bool _add, uint256 _rate, uint256 _target) external onlyPolicy;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_add</code></td><td><code>bool</code></td><td>bool</td></tr>
<tr><td><code>_rate</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_target</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h2 id="structs-13"><a class="header" href="#structs-13">Structs</a></h2>
<h3 id="info-1"><a class="header" href="#info-1">Info</a></h3>
<pre><code class="language-solidity">struct Info {
    uint256 rate;
    address recipient;
}
</code></pre>
<h3 id="adjust-1"><a class="header" href="#adjust-1">Adjust</a></h3>
<pre><code class="language-solidity">struct Adjust {
    bool add;
    uint256 rate;
    uint256 target;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-3"><a class="header" href="#safemath-3">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-06-12</p>
<h2 id="functions-127"><a class="header" href="#functions-127">Functions</a></h2>
<h3 id="add-4"><a class="header" href="#add-4">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-7"><a class="header" href="#sub-7">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-8"><a class="header" href="#sub-8">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-4"><a class="header" href="#mul-4">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-6"><a class="header" href="#div-6">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-7"><a class="header" href="#div-7">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-3"><a class="header" href="#ierc20-3">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-128"><a class="header" href="#functions-128">Functions</a></h2>
<h3 id="decimals-4"><a class="header" href="#decimals-4">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply-7"><a class="header" href="#totalsupply-7">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-8"><a class="header" href="#balanceof-8">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-15"><a class="header" href="#transfer-15">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-7"><a class="header" href="#allowance-7">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-8"><a class="header" href="#approve-8">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-7"><a class="header" href="#transferfrom-7">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-31"><a class="header" href="#events-31">Events</a></h2>
<h3 id="transfer-16"><a class="header" href="#transfer-16">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-7"><a class="header" href="#approval-7">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-3"><a class="header" href="#address-3">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-129"><a class="header" href="#functions-129">Functions</a></h2>
<h3 id="iscontract-3"><a class="header" href="#iscontract-3">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-3"><a class="header" href="#sendvalue-3">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-6"><a class="header" href="#functioncall-6">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-7"><a class="header" href="#functioncall-7">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-6"><a class="header" href="#functioncallwithvalue-6">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-7"><a class="header" href="#functioncallwithvalue-7">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-3"><a class="header" href="#_functioncallwithvalue-3">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-6"><a class="header" href="#functionstaticcall-6">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-7"><a class="header" href="#functionstaticcall-7">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-6"><a class="header" href="#functiondelegatecall-6">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-7"><a class="header" href="#functiondelegatecall-7">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-3"><a class="header" href="#_verifycallresult-3">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-3"><a class="header" href="#addresstostring-3">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20-3"><a class="header" href="#safeerc20-3">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-130"><a class="header" href="#functions-130">Functions</a></h2>
<h3 id="safetransfer-4"><a class="header" href="#safetransfer-4">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-4"><a class="header" href="#safetransferfrom-4">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-4"><a class="header" href="#safeapprove-4">safeApprove</a></h3>
<p><em>Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.
Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead.</em></p>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance-3"><a class="header" href="#safeincreaseallowance-3">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance-3"><a class="header" href="#safedecreaseallowance-3">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn-3"><a class="header" href="#_calloptionalreturn-3">_callOptionalReturn</a></h3>
<p><em>Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement
on the return value: the return value is optional (but if data is returned, it must not be false).</em></p>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The token targeted by the call.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The call data (encoded using abi.encode or one of its variants).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iownable-1"><a class="header" href="#iownable-1">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-131"><a class="header" href="#functions-131">Functions</a></h2>
<h3 id="manager-2"><a class="header" href="#manager-2">manager</a></h3>
<pre><code class="language-solidity">function manager() external view returns (address);
</code></pre>
<h3 id="renouncemanagement-2"><a class="header" href="#renouncemanagement-2">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() external;
</code></pre>
<h3 id="pushmanagement-2"><a class="header" href="#pushmanagement-2">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) external;
</code></pre>
<h3 id="pullmanagement-2"><a class="header" href="#pullmanagement-2">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable-1"><a class="header" href="#ownable-1">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/regular/KlimaStaking_v2.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="_owner-1"><a class="header" href="#_owner-1">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h3 id="_newowner-1"><a class="header" href="#_newowner-1">_newOwner</a></h3>
<pre><code class="language-solidity">address internal _newOwner;
</code></pre>
<h2 id="functions-132"><a class="header" href="#functions-132">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="manager-3"><a class="header" href="#manager-3">manager</a></h3>
<pre><code class="language-solidity">function manager() public view override returns (address);
</code></pre>
<h3 id="onlymanager-1"><a class="header" href="#onlymanager-1">onlyManager</a></h3>
<pre><code class="language-solidity">modifier onlyManager();
</code></pre>
<h3 id="renouncemanagement-3"><a class="header" href="#renouncemanagement-3">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() public virtual override onlyManager;
</code></pre>
<h3 id="pushmanagement-3"><a class="header" href="#pushmanagement-3">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) public virtual override onlyManager;
</code></pre>
<h3 id="pullmanagement-3"><a class="header" href="#pullmanagement-3">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() public virtual override;
</code></pre>
<h2 id="events-32"><a class="header" href="#events-32">Events</a></h2>
<h3 id="ownershippushed-1"><a class="header" href="#ownershippushed-1">OwnershipPushed</a></h3>
<pre><code class="language-solidity">event OwnershipPushed(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="ownershippulled-1"><a class="header" href="#ownershippulled-1">OwnershipPulled</a></h3>
<pre><code class="language-solidity">event OwnershipPulled(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isklima"><a class="header" href="#isklima">IsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-133"><a class="header" href="#functions-133">Functions</a></h2>
<h3 id="rebase"><a class="header" href="#rebase">rebase</a></h3>
<pre><code class="language-solidity">function rebase(uint256 klimaProfit_, uint256 epoch_) external returns (uint256);
</code></pre>
<h3 id="circulatingsupply"><a class="header" href="#circulatingsupply">circulatingSupply</a></h3>
<pre><code class="language-solidity">function circulatingSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-9"><a class="header" href="#balanceof-9">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address who) external view returns (uint256);
</code></pre>
<h3 id="gonsforbalance"><a class="header" href="#gonsforbalance">gonsForBalance</a></h3>
<pre><code class="language-solidity">function gonsForBalance(uint256 amount) external view returns (uint256);
</code></pre>
<h3 id="balanceforgons"><a class="header" href="#balanceforgons">balanceForGons</a></h3>
<pre><code class="language-solidity">function balanceForGons(uint256 gons) external view returns (uint256);
</code></pre>
<h3 id="index"><a class="header" href="#index">index</a></h3>
<pre><code class="language-solidity">function index() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwarmup"><a class="header" href="#iwarmup">IWarmup</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-134"><a class="header" href="#functions-134">Functions</a></h2>
<h3 id="retrieve"><a class="header" href="#retrieve">retrieve</a></h3>
<pre><code class="language-solidity">function retrieve(address staker_, uint256 amount_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idistributor"><a class="header" href="#idistributor">IDistributor</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<h2 id="functions-135"><a class="header" href="#functions-135">Functions</a></h2>
<h3 id="distribute-1"><a class="header" href="#distribute-1">distribute</a></h3>
<pre><code class="language-solidity">function distribute() external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimastaking"><a class="header" href="#klimastaking">KlimaStaking</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/KlimaStaking_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/regular/KlimaStaking_v2.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="klima-6"><a class="header" href="#klima-6">KLIMA</a></h3>
<pre><code class="language-solidity">address public immutable KLIMA;
</code></pre>
<h3 id="sklima-4"><a class="header" href="#sklima-4">sKLIMA</a></h3>
<pre><code class="language-solidity">address public immutable sKLIMA;
</code></pre>
<h3 id="epoch"><a class="header" href="#epoch">epoch</a></h3>
<pre><code class="language-solidity">Epoch public epoch;
</code></pre>
<h3 id="distributor-1"><a class="header" href="#distributor-1">distributor</a></h3>
<pre><code class="language-solidity">address public distributor;
</code></pre>
<h3 id="locker"><a class="header" href="#locker">locker</a></h3>
<pre><code class="language-solidity">address public locker;
</code></pre>
<h3 id="totalbonus"><a class="header" href="#totalbonus">totalBonus</a></h3>
<pre><code class="language-solidity">uint256 public totalBonus;
</code></pre>
<h3 id="warmupcontract"><a class="header" href="#warmupcontract">warmupContract</a></h3>
<pre><code class="language-solidity">address public warmupContract;
</code></pre>
<h3 id="warmupperiod"><a class="header" href="#warmupperiod">warmupPeriod</a></h3>
<pre><code class="language-solidity">uint256 public warmupPeriod;
</code></pre>
<h3 id="warmupinfo"><a class="header" href="#warmupinfo">warmupInfo</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Claim) public warmupInfo;
</code></pre>
<h2 id="functions-136"><a class="header" href="#functions-136">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _KLIMA, address _sKLIMA, uint256 _epochLength, uint256 _firstEpochNumber, uint256 _firstEpochBlock);
</code></pre>
<h3 id="stake-1"><a class="header" href="#stake-1">stake</a></h3>
<p>stake KLIMA to enter warmup</p>
<pre><code class="language-solidity">function stake(uint256 _amount, address _recipient) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="claim"><a class="header" href="#claim">claim</a></h3>
<p>retrieve sKLIMA from warmup</p>
<pre><code class="language-solidity">function claim(address _recipient) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<h3 id="forfeit"><a class="header" href="#forfeit">forfeit</a></h3>
<p>forfeit sKLIMA in warmup and retrieve KLIMA</p>
<pre><code class="language-solidity">function forfeit() external;
</code></pre>
<h3 id="toggledepositlock"><a class="header" href="#toggledepositlock">toggleDepositLock</a></h3>
<p>prevent new deposits to address (protection from malicious activity)</p>
<pre><code class="language-solidity">function toggleDepositLock() external;
</code></pre>
<h3 id="unstake-1"><a class="header" href="#unstake-1">unstake</a></h3>
<p>redeem sKLIMA for KLIMA</p>
<pre><code class="language-solidity">function unstake(uint256 _amount, bool _trigger) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_trigger</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="index-1"><a class="header" href="#index-1">index</a></h3>
<p>returns the sKLIMA index, which tracks rebase growth</p>
<pre><code class="language-solidity">function index() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="rebase-1"><a class="header" href="#rebase-1">rebase</a></h3>
<p>trigger rebase if epoch over</p>
<pre><code class="language-solidity">function rebase() public;
</code></pre>
<h3 id="contractbalance"><a class="header" href="#contractbalance">contractBalance</a></h3>
<p>returns contract KLIMA holdings, including bonuses provided</p>
<pre><code class="language-solidity">function contractBalance() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="givelockbonus"><a class="header" href="#givelockbonus">giveLockBonus</a></h3>
<p>provide bonus to locked staking contract</p>
<pre><code class="language-solidity">function giveLockBonus(uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="returnlockbonus"><a class="header" href="#returnlockbonus">returnLockBonus</a></h3>
<p>reclaim bonus from locked staking contract</p>
<pre><code class="language-solidity">function returnLockBonus(uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="setcontract"><a class="header" href="#setcontract">setContract</a></h3>
<p>sets the contract address for LP staking</p>
<pre><code class="language-solidity">function setContract(CONTRACTS _contract, address _address) external onlyManager;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>CONTRACTS</code></td><td>address</td></tr>
<tr><td><code>_address</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setwarmup"><a class="header" href="#setwarmup">setWarmup</a></h3>
<p>set warmup period for new stakers</p>
<pre><code class="language-solidity">function setWarmup(uint256 _warmupPeriod) external onlyManager;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_warmupPeriod</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h2 id="structs-14"><a class="header" href="#structs-14">Structs</a></h2>
<h3 id="epoch-1"><a class="header" href="#epoch-1">Epoch</a></h3>
<pre><code class="language-solidity">struct Epoch {
    uint256 length;
    uint256 number;
    uint256 endBlock;
    uint256 distribute;
}
</code></pre>
<h3 id="claim-1"><a class="header" href="#claim-1">Claim</a></h3>
<pre><code class="language-solidity">struct Claim {
    uint256 deposit;
    uint256 gons;
    uint256 expiry;
    bool lock;
}
</code></pre>
<h2 id="enums-4"><a class="header" href="#enums-4">Enums</a></h2>
<h3 id="contracts"><a class="header" href="#contracts">CONTRACTS</a></h3>
<pre><code class="language-solidity">enum CONTRACTS {
    DISTRIBUTOR,
    WARMUP,
    LOCKER
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-4"><a class="header" href="#ierc20-4">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/StakingHelper.sol">Git Source</a></p>
<h2 id="functions-137"><a class="header" href="#functions-137">Functions</a></h2>
<h3 id="decimals-5"><a class="header" href="#decimals-5">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply-8"><a class="header" href="#totalsupply-8">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-10"><a class="header" href="#balanceof-10">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-17"><a class="header" href="#transfer-17">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-8"><a class="header" href="#allowance-8">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-9"><a class="header" href="#approve-9">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-8"><a class="header" href="#transferfrom-8">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-33"><a class="header" href="#events-33">Events</a></h2>
<h3 id="transfer-18"><a class="header" href="#transfer-18">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-8"><a class="header" href="#approval-8">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istaking-1"><a class="header" href="#istaking-1">IStaking</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/StakingHelper.sol">Git Source</a></p>
<h2 id="functions-138"><a class="header" href="#functions-138">Functions</a></h2>
<h3 id="stake-2"><a class="header" href="#stake-2">stake</a></h3>
<pre><code class="language-solidity">function stake(uint256 _amount, address _recipient) external returns (bool);
</code></pre>
<h3 id="claim-2"><a class="header" href="#claim-2">claim</a></h3>
<pre><code class="language-solidity">function claim(address _recipient) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stakinghelper-2"><a class="header" href="#stakinghelper-2">StakingHelper</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/StakingHelper.sol">Git Source</a></p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="staking-3"><a class="header" href="#staking-3">staking</a></h3>
<pre><code class="language-solidity">address public immutable staking;
</code></pre>
<h3 id="klima-7"><a class="header" href="#klima-7">KLIMA</a></h3>
<pre><code class="language-solidity">address public immutable KLIMA;
</code></pre>
<h2 id="functions-139"><a class="header" href="#functions-139">Functions</a></h2>
<h3 id="constructor-12"><a class="header" href="#constructor-12">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _staking, address _KLIMA);
</code></pre>
<h3 id="stake-3"><a class="header" href="#stake-3">stake</a></h3>
<pre><code class="language-solidity">function stake(uint256 _amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-5"><a class="header" href="#ierc20-5">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/StakingWarmup.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-06-12</p>
<h2 id="functions-140"><a class="header" href="#functions-140">Functions</a></h2>
<h3 id="decimals-6"><a class="header" href="#decimals-6">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply-9"><a class="header" href="#totalsupply-9">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-11"><a class="header" href="#balanceof-11">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-19"><a class="header" href="#transfer-19">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-9"><a class="header" href="#allowance-9">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-10"><a class="header" href="#approve-10">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-9"><a class="header" href="#transferfrom-9">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-34"><a class="header" href="#events-34">Events</a></h2>
<h3 id="transfer-20"><a class="header" href="#transfer-20">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-9"><a class="header" href="#approval-9">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stakingwarmup"><a class="header" href="#stakingwarmup">StakingWarmup</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/regular/StakingWarmup.sol">Git Source</a></p>
<h2 id="state-variables-24"><a class="header" href="#state-variables-24">State Variables</a></h2>
<h3 id="staking-4"><a class="header" href="#staking-4">staking</a></h3>
<pre><code class="language-solidity">address public immutable staking;
</code></pre>
<h3 id="sklima-5"><a class="header" href="#sklima-5">sKLIMA</a></h3>
<pre><code class="language-solidity">address public immutable sKLIMA;
</code></pre>
<h2 id="functions-141"><a class="header" href="#functions-141">Functions</a></h2>
<h3 id="constructor-13"><a class="header" href="#constructor-13">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _staking, address _sKLIMA);
</code></pre>
<h3 id="retrieve-1"><a class="header" href="#retrieve-1">retrieve</a></h3>
<pre><code class="language-solidity">function retrieve(address _staker, uint256 _amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-25"><a class="header" href="#contents-25">Contents</a></h1>
<ul>
<li><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol/contract.KlimaCirculatingSupplyContract.html">KlimaCirculatingSupplyContract</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IBondCalculator.html">IBondCalculator</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IERC20Mintable.html">IERC20Mintable</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IKLIMAERC20.html">IKLIMAERC20</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/staking/utils/KlimaTreasury.sol/contract.KlimaTreasury.html">KlimaTreasury</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-4"><a class="header" href="#safemath-4">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-04-14</p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-142"><a class="header" href="#functions-142">Functions</a></h2>
<h3 id="add-5"><a class="header" href="#add-5">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-9"><a class="header" href="#sub-9">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-10"><a class="header" href="#sub-10">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-5"><a class="header" href="#mul-5">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-8"><a class="header" href="#div-8">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-9"><a class="header" href="#div-9">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-6"><a class="header" href="#mod-6">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-7"><a class="header" href="#mod-7">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-3"><a class="header" href="#sqrrt-3">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-3"><a class="header" href="#percentageamount-3">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-3"><a class="header" href="#substractpercentage-3">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-3"><a class="header" href="#percentageoftotal-3">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-3"><a class="header" href="#average-3">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-3"><a class="header" href="#quadraticpricing-3">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-3"><a class="header" href="#bondingcurve-3">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-6"><a class="header" href="#ierc20-6">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol">Git Source</a></p>
<p><em>Interface of the ERC20 standard as defined in the EIP.</em></p>
<h2 id="functions-143"><a class="header" href="#functions-143">Functions</a></h2>
<h3 id="totalsupply-10"><a class="header" href="#totalsupply-10">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-12"><a class="header" href="#balanceof-12">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-21"><a class="header" href="#transfer-21">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-10"><a class="header" href="#allowance-10">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-11"><a class="header" href="#approve-11">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-10"><a class="header" href="#transferfrom-10">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-35"><a class="header" href="#events-35">Events</a></h2>
<h3 id="transfer-22"><a class="header" href="#transfer-22">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-10"><a class="header" href="#approval-10">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimacirculatingsupplycontract"><a class="header" href="#klimacirculatingsupplycontract">KlimaCirculatingSupplyContract</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaCirculatingSupplyContract.sol">Git Source</a></p>
<h2 id="state-variables-25"><a class="header" href="#state-variables-25">State Variables</a></h2>
<h3 id="isinitialized"><a class="header" href="#isinitialized">isInitialized</a></h3>
<pre><code class="language-solidity">bool public isInitialized;
</code></pre>
<h3 id="klima-8"><a class="header" href="#klima-8">KLIMA</a></h3>
<pre><code class="language-solidity">address public KLIMA;
</code></pre>
<h3 id="owner-7"><a class="header" href="#owner-7">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h3 id="noncirculatingklimaaddresses"><a class="header" href="#noncirculatingklimaaddresses">nonCirculatingKLIMAAddresses</a></h3>
<pre><code class="language-solidity">address[] public nonCirculatingKLIMAAddresses;
</code></pre>
<h2 id="functions-144"><a class="header" href="#functions-144">Functions</a></h2>
<h3 id="constructor-14"><a class="header" href="#constructor-14">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner);
</code></pre>
<h3 id="initialize-4"><a class="header" href="#initialize-4">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _klima) external returns (bool);
</code></pre>
<h3 id="klimacirculatingsupply-1"><a class="header" href="#klimacirculatingsupply-1">KLIMACirculatingSupply</a></h3>
<pre><code class="language-solidity">function KLIMACirculatingSupply() external view returns (uint256);
</code></pre>
<h3 id="getnoncirculatingklima"><a class="header" href="#getnoncirculatingklima">getNonCirculatingKLIMA</a></h3>
<pre><code class="language-solidity">function getNonCirculatingKLIMA() public view returns (uint256);
</code></pre>
<h3 id="setnoncirculatingklimaaddresses"><a class="header" href="#setnoncirculatingklimaaddresses">setNonCirculatingKLIMAAddresses</a></h3>
<pre><code class="language-solidity">function setNonCirculatingKLIMAAddresses(address[] calldata _nonCirculatingAddresses) external returns (bool);
</code></pre>
<h3 id="transferownership-2"><a class="header" href="#transferownership-2">transferOwnership</a></h3>
<pre><code class="language-solidity">function transferOwnership(address _owner) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibondcalculator"><a class="header" href="#ibondcalculator">IBondCalculator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-145"><a class="header" href="#functions-145">Functions</a></h2>
<h3 id="valuation"><a class="header" href="#valuation">valuation</a></h3>
<pre><code class="language-solidity">function valuation(address pair_, uint256 amount_) external view returns (uint256 _value);
</code></pre>
<h3 id="markdown"><a class="header" href="#markdown">markdown</a></h3>
<pre><code class="language-solidity">function markdown(address _pair) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20mintable"><a class="header" href="#ierc20mintable">IERC20Mintable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-146"><a class="header" href="#functions-146">Functions</a></h2>
<h3 id="mint-7"><a class="header" href="#mint-7">mint</a></h3>
<pre><code class="language-solidity">function mint(uint256 amount_) external;
</code></pre>
<h3 id="mint-8"><a class="header" href="#mint-8">mint</a></h3>
<pre><code class="language-solidity">function mint(address account_, uint256 ammount_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimaerc20"><a class="header" href="#iklimaerc20">IKLIMAERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-147"><a class="header" href="#functions-147">Functions</a></h2>
<h3 id="burnfrom-2"><a class="header" href="#burnfrom-2">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account_, uint256 amount_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20-4"><a class="header" href="#safeerc20-4">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-148"><a class="header" href="#functions-148">Functions</a></h2>
<h3 id="safetransfer-5"><a class="header" href="#safetransfer-5">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-5"><a class="header" href="#safetransferfrom-5">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-5"><a class="header" href="#safeapprove-5">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance-4"><a class="header" href="#safeincreaseallowance-4">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance-4"><a class="header" href="#safedecreaseallowance-4">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn-4"><a class="header" href="#_calloptionalreturn-4">_callOptionalReturn</a></h3>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-7"><a class="header" href="#ierc20-7">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-149"><a class="header" href="#functions-149">Functions</a></h2>
<h3 id="decimals-7"><a class="header" href="#decimals-7">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply-11"><a class="header" href="#totalsupply-11">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-13"><a class="header" href="#balanceof-13">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-23"><a class="header" href="#transfer-23">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-11"><a class="header" href="#allowance-11">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-12"><a class="header" href="#approve-12">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-11"><a class="header" href="#transferfrom-11">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-36"><a class="header" href="#events-36">Events</a></h2>
<h3 id="transfer-24"><a class="header" href="#transfer-24">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-11"><a class="header" href="#approval-11">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iownable-2"><a class="header" href="#iownable-2">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-150"><a class="header" href="#functions-150">Functions</a></h2>
<h3 id="manager-4"><a class="header" href="#manager-4">manager</a></h3>
<pre><code class="language-solidity">function manager() external view returns (address);
</code></pre>
<h3 id="renouncemanagement-4"><a class="header" href="#renouncemanagement-4">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() external;
</code></pre>
<h3 id="pushmanagement-4"><a class="header" href="#pushmanagement-4">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) external;
</code></pre>
<h3 id="pullmanagement-4"><a class="header" href="#pullmanagement-4">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable-2"><a class="header" href="#ownable-2">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/utils/KlimaTreasury.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-26"><a class="header" href="#state-variables-26">State Variables</a></h2>
<h3 id="_owner-2"><a class="header" href="#_owner-2">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h3 id="_newowner-2"><a class="header" href="#_newowner-2">_newOwner</a></h3>
<pre><code class="language-solidity">address internal _newOwner;
</code></pre>
<h2 id="functions-151"><a class="header" href="#functions-151">Functions</a></h2>
<h3 id="constructor-15"><a class="header" href="#constructor-15">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="manager-5"><a class="header" href="#manager-5">manager</a></h3>
<pre><code class="language-solidity">function manager() public view override returns (address);
</code></pre>
<h3 id="onlymanager-2"><a class="header" href="#onlymanager-2">onlyManager</a></h3>
<pre><code class="language-solidity">modifier onlyManager();
</code></pre>
<h3 id="renouncemanagement-5"><a class="header" href="#renouncemanagement-5">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() public virtual override onlyManager;
</code></pre>
<h3 id="pushmanagement-5"><a class="header" href="#pushmanagement-5">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) public virtual override onlyManager;
</code></pre>
<h3 id="pullmanagement-5"><a class="header" href="#pullmanagement-5">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() public virtual override;
</code></pre>
<h2 id="events-37"><a class="header" href="#events-37">Events</a></h2>
<h3 id="ownershippushed-2"><a class="header" href="#ownershippushed-2">OwnershipPushed</a></h3>
<pre><code class="language-solidity">event OwnershipPushed(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="ownershippulled-2"><a class="header" href="#ownershippulled-2">OwnershipPulled</a></h3>
<pre><code class="language-solidity">event OwnershipPulled(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-4"><a class="header" href="#address-4">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-152"><a class="header" href="#functions-152">Functions</a></h2>
<h3 id="iscontract-4"><a class="header" href="#iscontract-4">isContract</a></h3>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-4"><a class="header" href="#sendvalue-4">sendValue</a></h3>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-8"><a class="header" href="#functioncall-8">functionCall</a></h3>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-9"><a class="header" href="#functioncall-9">functionCall</a></h3>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-8"><a class="header" href="#functioncallwithvalue-8">functionCallWithValue</a></h3>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-9"><a class="header" href="#functioncallwithvalue-9">functionCallWithValue</a></h3>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-4"><a class="header" href="#_functioncallwithvalue-4">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-8"><a class="header" href="#functionstaticcall-8">functionStaticCall</a></h3>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-9"><a class="header" href="#functionstaticcall-9">functionStaticCall</a></h3>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-8"><a class="header" href="#functiondelegatecall-8">functionDelegateCall</a></h3>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-9"><a class="header" href="#functiondelegatecall-9">functionDelegateCall</a></h3>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-4"><a class="header" href="#_verifycallresult-4">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-4"><a class="header" href="#addresstostring-4">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-5"><a class="header" href="#safemath-5">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<h2 id="functions-153"><a class="header" href="#functions-153">Functions</a></h2>
<h3 id="add-6"><a class="header" href="#add-6">add</a></h3>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-11"><a class="header" href="#sub-11">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-12"><a class="header" href="#sub-12">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-6"><a class="header" href="#mul-6">mul</a></h3>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-10"><a class="header" href="#div-10">div</a></h3>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-11"><a class="header" href="#div-11">div</a></h3>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-8"><a class="header" href="#mod-8">mod</a></h3>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-9"><a class="header" href="#mod-9">mod</a></h3>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-4"><a class="header" href="#sqrrt-4">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimatreasury"><a class="header" href="#klimatreasury">KlimaTreasury</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/staking/utils/KlimaTreasury.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/staking/utils/KlimaTreasury.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-27"><a class="header" href="#state-variables-27">State Variables</a></h2>
<h3 id="klima-9"><a class="header" href="#klima-9">KLIMA</a></h3>
<pre><code class="language-solidity">address public KLIMA;
</code></pre>
<h3 id="blocksneededforqueue"><a class="header" href="#blocksneededforqueue">blocksNeededForQueue</a></h3>
<pre><code class="language-solidity">uint256 public blocksNeededForQueue;
</code></pre>
<h3 id="reservetokens"><a class="header" href="#reservetokens">reserveTokens</a></h3>
<pre><code class="language-solidity">address[] public reserveTokens;
</code></pre>
<h3 id="isreservetoken"><a class="header" href="#isreservetoken">isReserveToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isReserveToken;
</code></pre>
<h3 id="reservetokenqueue"><a class="header" href="#reservetokenqueue">reserveTokenQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public reserveTokenQueue;
</code></pre>
<h3 id="reservedepositors"><a class="header" href="#reservedepositors">reserveDepositors</a></h3>
<pre><code class="language-solidity">address[] public reserveDepositors;
</code></pre>
<h3 id="isreservedepositor"><a class="header" href="#isreservedepositor">isReserveDepositor</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isReserveDepositor;
</code></pre>
<h3 id="reservedepositorqueue"><a class="header" href="#reservedepositorqueue">reserveDepositorQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public reserveDepositorQueue;
</code></pre>
<h3 id="reservespenders"><a class="header" href="#reservespenders">reserveSpenders</a></h3>
<pre><code class="language-solidity">address[] public reserveSpenders;
</code></pre>
<h3 id="isreservespender"><a class="header" href="#isreservespender">isReserveSpender</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isReserveSpender;
</code></pre>
<h3 id="reservespenderqueue"><a class="header" href="#reservespenderqueue">reserveSpenderQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public reserveSpenderQueue;
</code></pre>
<h3 id="liquiditytokens"><a class="header" href="#liquiditytokens">liquidityTokens</a></h3>
<pre><code class="language-solidity">address[] public liquidityTokens;
</code></pre>
<h3 id="isliquiditytoken"><a class="header" href="#isliquiditytoken">isLiquidityToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isLiquidityToken;
</code></pre>
<h3 id="liquiditytokenqueue"><a class="header" href="#liquiditytokenqueue">LiquidityTokenQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public LiquidityTokenQueue;
</code></pre>
<h3 id="liquiditydepositors"><a class="header" href="#liquiditydepositors">liquidityDepositors</a></h3>
<pre><code class="language-solidity">address[] public liquidityDepositors;
</code></pre>
<h3 id="isliquiditydepositor"><a class="header" href="#isliquiditydepositor">isLiquidityDepositor</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isLiquidityDepositor;
</code></pre>
<h3 id="liquiditydepositorqueue"><a class="header" href="#liquiditydepositorqueue">LiquidityDepositorQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public LiquidityDepositorQueue;
</code></pre>
<h3 id="bondcalculator"><a class="header" href="#bondcalculator">bondCalculator</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public bondCalculator;
</code></pre>
<h3 id="reservemanagers"><a class="header" href="#reservemanagers">reserveManagers</a></h3>
<pre><code class="language-solidity">address[] public reserveManagers;
</code></pre>
<h3 id="isreservemanager-1"><a class="header" href="#isreservemanager-1">isReserveManager</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isReserveManager;
</code></pre>
<h3 id="reservemanagerqueue-1"><a class="header" href="#reservemanagerqueue-1">ReserveManagerQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public ReserveManagerQueue;
</code></pre>
<h3 id="liquiditymanagers"><a class="header" href="#liquiditymanagers">liquidityManagers</a></h3>
<pre><code class="language-solidity">address[] public liquidityManagers;
</code></pre>
<h3 id="isliquiditymanager"><a class="header" href="#isliquiditymanager">isLiquidityManager</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isLiquidityManager;
</code></pre>
<h3 id="liquiditymanagerqueue"><a class="header" href="#liquiditymanagerqueue">LiquidityManagerQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public LiquidityManagerQueue;
</code></pre>
<h3 id="debtors"><a class="header" href="#debtors">debtors</a></h3>
<pre><code class="language-solidity">address[] public debtors;
</code></pre>
<h3 id="isdebtor"><a class="header" href="#isdebtor">isDebtor</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isDebtor;
</code></pre>
<h3 id="debtorqueue"><a class="header" href="#debtorqueue">debtorQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public debtorQueue;
</code></pre>
<h3 id="debtorbalance"><a class="header" href="#debtorbalance">debtorBalance</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public debtorBalance;
</code></pre>
<h3 id="rewardmanagers"><a class="header" href="#rewardmanagers">rewardManagers</a></h3>
<pre><code class="language-solidity">address[] public rewardManagers;
</code></pre>
<h3 id="isrewardmanager"><a class="header" href="#isrewardmanager">isRewardManager</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isRewardManager;
</code></pre>
<h3 id="rewardmanagerqueue"><a class="header" href="#rewardmanagerqueue">rewardManagerQueue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public rewardManagerQueue;
</code></pre>
<h3 id="sklima-6"><a class="header" href="#sklima-6">sKLIMA</a></h3>
<pre><code class="language-solidity">address public sKLIMA;
</code></pre>
<h3 id="sklimaqueue"><a class="header" href="#sklimaqueue">sKLIMAQueue</a></h3>
<pre><code class="language-solidity">uint256 public sKLIMAQueue;
</code></pre>
<h3 id="totalreserves"><a class="header" href="#totalreserves">totalReserves</a></h3>
<pre><code class="language-solidity">uint256 public totalReserves;
</code></pre>
<h3 id="totaldebt"><a class="header" href="#totaldebt">totalDebt</a></h3>
<pre><code class="language-solidity">uint256 public totalDebt;
</code></pre>
<h2 id="functions-154"><a class="header" href="#functions-154">Functions</a></h2>
<h3 id="constructor-16"><a class="header" href="#constructor-16">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _KLIMA, address _BCT, uint256 _blocksNeededForQueue);
</code></pre>
<h3 id="deposit-6"><a class="header" href="#deposit-6">deposit</a></h3>
<p>allow approved address to deposit an asset for KLIMA</p>
<pre><code class="language-solidity">function deposit(uint256 _amount, address _token, uint256 _profit) external returns (uint256 send_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
<tr><td><code>_profit</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>send_</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-3"><a class="header" href="#withdraw-3">withdraw</a></h3>
<p>allow approved address to burn KLIMA for reserves</p>
<pre><code class="language-solidity">function withdraw(uint256 _amount, address _token) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<h3 id="incurdebt"><a class="header" href="#incurdebt">incurDebt</a></h3>
<p>allow approved address to borrow reserves</p>
<pre><code class="language-solidity">function incurDebt(uint256 _amount, address _token) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<h3 id="repaydebtwithreserve"><a class="header" href="#repaydebtwithreserve">repayDebtWithReserve</a></h3>
<p>allow approved address to repay borrowed reserves with reserves</p>
<pre><code class="language-solidity">function repayDebtWithReserve(uint256 _amount, address _token) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<h3 id="repaydebtwithklima"><a class="header" href="#repaydebtwithklima">repayDebtWithKLIMA</a></h3>
<p>allow approved address to repay borrowed reserves with KLIMA</p>
<pre><code class="language-solidity">function repayDebtWithKLIMA(uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="manage-1"><a class="header" href="#manage-1">manage</a></h3>
<p>allow approved address to withdraw assets</p>
<pre><code class="language-solidity">function manage(address _token, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="mintrewards-1"><a class="header" href="#mintrewards-1">mintRewards</a></h3>
<p>send epoch reward to staking contract</p>
<pre><code class="language-solidity">function mintRewards(address _recipient, uint256 _amount) external;
</code></pre>
<h3 id="excessreserves-1"><a class="header" href="#excessreserves-1">excessReserves</a></h3>
<p>returns excess reserves not backing tokens</p>
<pre><code class="language-solidity">function excessReserves() public view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="auditreserves"><a class="header" href="#auditreserves">auditReserves</a></h3>
<p>takes inventory of all tracked assets</p>
<p>always consolidate to recognized reserves before audit</p>
<pre><code class="language-solidity">function auditReserves() external onlyManager;
</code></pre>
<h3 id="valueof"><a class="header" href="#valueof">valueOf</a></h3>
<p>returns KLIMA valuation of asset</p>
<pre><code class="language-solidity">function valueOf(address _token, uint256 _amount) public view returns (uint256 value_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value_</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="queue-1"><a class="header" href="#queue-1">queue</a></h3>
<p>queue address to change boolean in mapping</p>
<pre><code class="language-solidity">function queue(MANAGING _managing, address _address) external onlyManager returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_managing</code></td><td><code>MANAGING</code></td><td>MANAGING</td></tr>
<tr><td><code>_address</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="toggle-1"><a class="header" href="#toggle-1">toggle</a></h3>
<p>verify queue then set boolean in mapping</p>
<pre><code class="language-solidity">function toggle(MANAGING _managing, address _address, address _calculator) external onlyManager returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_managing</code></td><td><code>MANAGING</code></td><td>MANAGING</td></tr>
<tr><td><code>_address</code></td><td><code>address</code></td><td>address</td></tr>
<tr><td><code>_calculator</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="requirements"><a class="header" href="#requirements">requirements</a></h3>
<p>checks requirements and returns altered structs</p>
<pre><code class="language-solidity">function requirements(
    mapping(address =&gt; uint256) storage queue_,
    mapping(address =&gt; bool) storage status_,
    address _address
) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>queue_</code></td><td><code>mapping(address =&gt; uint256)</code></td><td>mapping( address =&gt; uint )</td></tr>
<tr><td><code>status_</code></td><td><code>mapping(address =&gt; bool)</code></td><td>mapping( address =&gt; bool )</td></tr>
<tr><td><code>_address</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="listcontains"><a class="header" href="#listcontains">listContains</a></h3>
<p>checks array to ensure against duplicate</p>
<pre><code class="language-solidity">function listContains(address[] storage _list, address _token) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_list</code></td><td><code>address[]</code></td><td>address[]</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h2 id="events-38"><a class="header" href="#events-38">Events</a></h2>
<h3 id="deposit-7"><a class="header" href="#deposit-7">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed token, uint256 amount, uint256 value);
</code></pre>
<h3 id="withdrawal"><a class="header" href="#withdrawal">Withdrawal</a></h3>
<pre><code class="language-solidity">event Withdrawal(address indexed token, uint256 amount, uint256 value);
</code></pre>
<h3 id="createdebt"><a class="header" href="#createdebt">CreateDebt</a></h3>
<pre><code class="language-solidity">event CreateDebt(address indexed debtor, address indexed token, uint256 amount, uint256 value);
</code></pre>
<h3 id="repaydebt"><a class="header" href="#repaydebt">RepayDebt</a></h3>
<pre><code class="language-solidity">event RepayDebt(address indexed debtor, address indexed token, uint256 amount, uint256 value);
</code></pre>
<h3 id="reservesmanaged"><a class="header" href="#reservesmanaged">ReservesManaged</a></h3>
<pre><code class="language-solidity">event ReservesManaged(address indexed token, uint256 amount);
</code></pre>
<h3 id="reservesupdated"><a class="header" href="#reservesupdated">ReservesUpdated</a></h3>
<pre><code class="language-solidity">event ReservesUpdated(uint256 indexed totalReserves);
</code></pre>
<h3 id="reservesaudited"><a class="header" href="#reservesaudited">ReservesAudited</a></h3>
<pre><code class="language-solidity">event ReservesAudited(uint256 indexed totalReserves);
</code></pre>
<h3 id="rewardsminted"><a class="header" href="#rewardsminted">RewardsMinted</a></h3>
<pre><code class="language-solidity">event RewardsMinted(address indexed caller, address indexed recipient, uint256 amount);
</code></pre>
<h3 id="changequeued"><a class="header" href="#changequeued">ChangeQueued</a></h3>
<pre><code class="language-solidity">event ChangeQueued(MANAGING indexed managing, address queued);
</code></pre>
<h3 id="changeactivated"><a class="header" href="#changeactivated">ChangeActivated</a></h3>
<pre><code class="language-solidity">event ChangeActivated(MANAGING indexed managing, address activated, bool result);
</code></pre>
<h2 id="enums-5"><a class="header" href="#enums-5">Enums</a></h2>
<h3 id="managing"><a class="header" href="#managing">MANAGING</a></h3>
<pre><code class="language-solidity">enum MANAGING {
    RESERVEDEPOSITOR,
    RESERVESPENDER,
    RESERVETOKEN,
    RESERVEMANAGER,
    LIQUIDITYDEPOSITOR,
    LIQUIDITYTOKEN,
    LIQUIDITYMANAGER,
    DEBTOR,
    REWARDMANAGER,
    SKLIMA
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-26"><a class="header" href="#contents-26">Contents</a></h1>
<ul>
<li><a href="src/protocol/tokens//src/protocol/tokens/regular">regular</a></li>
<li><a href="src/protocol/tokens//src/protocol/tokens/upgradeable">upgradeable</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-27"><a class="header" href="#contents-27">Contents</a></h1>
<ul>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.ITWAPOracle.html">ITWAPOracle</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/library.EnumerableSet.html">EnumerableSet</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/library.Counters.html">Counters</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.VaultOwned.html">VaultOwned</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.TWAPOracleUpdater.html">TWAPOracleUpdater</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.Divine.html">Divine</a></li>
<li><a href="src/protocol/tokens/regular/KlimaToken.sol/contract.KlimaToken.html">KlimaToken</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/abstract.ERC20.html">ERC20</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/library.Counters.html">Counters</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken.sol/contract.sKlima.html">sKlima</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/abstract.ERC20.html">ERC20</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/library.Counters.html">Counters</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IERC2612Permit.html">IERC2612Permit</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/abstract.ERC20Permit.html">ERC20Permit</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/contract.Ownable.html">Ownable</a></li>
<li><a href="src/protocol/tokens/regular/sKlimaToken_v2.sol/contract.sKLIMAv2.html">sKLIMAv2</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/interface.IERC20.html">IERC20</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.SafeMath.html">SafeMath</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.Address.html">Address</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/contract.ERC20.html">ERC20</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/interface.IsKLIMA.html">IsKLIMA</a></li>
<li><a href="src/protocol/tokens/regular/wsKLIMA.sol/contract.wsKLIMA.html">wsKLIMA</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itwaporacle"><a class="header" href="#itwaporacle">ITWAPOracle</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><em>Intended to update the TWAP for a token based on accepting an update call from that token.
expectation is to have this happen in the _beforeTokenTransfer function of ERC20.
Provides a method for a token to register its price sourve adaptor.
Provides a function for a token to register its TWAP updater. Defaults to token itself.
Provides a function a tokent to set its TWAP epoch.
Implements automatic closeing and opening up a TWAP epoch when epoch ends.
Provides a function to report the TWAP from the last epoch when passed a token address.</em></p>
<h2 id="functions-155"><a class="header" href="#functions-155">Functions</a></h2>
<h3 id="univ2comppairaddressforlastepochupdateblocktimstamp"><a class="header" href="#univ2comppairaddressforlastepochupdateblocktimstamp">uniV2CompPairAddressForLastEpochUpdateBlockTimstamp</a></h3>
<pre><code class="language-solidity">function uniV2CompPairAddressForLastEpochUpdateBlockTimstamp(address) external returns (uint32);
</code></pre>
<h3 id="pricetokenaddressforpricingtokenaddressforlastepochupdateblocktimstamp"><a class="header" href="#pricetokenaddressforpricingtokenaddressforlastepochupdateblocktimstamp">priceTokenAddressForPricingTokenAddressForLastEpochUpdateBlockTimstamp</a></h3>
<pre><code class="language-solidity">function priceTokenAddressForPricingTokenAddressForLastEpochUpdateBlockTimstamp(
    address tokenToPrice_,
    address tokenForPriceComparison_,
    uint256 epochPeriod_
) external returns (uint32);
</code></pre>
<h3 id="pricedtokenforpricingtokenforepochperiodforprice"><a class="header" href="#pricedtokenforpricingtokenforepochperiodforprice">pricedTokenForPricingTokenForEpochPeriodForPrice</a></h3>
<pre><code class="language-solidity">function pricedTokenForPricingTokenForEpochPeriodForPrice(address, address, uint256) external returns (uint256);
</code></pre>
<h3 id="pricedtokenforpricingtokenforepochperiodforlastepochprice"><a class="header" href="#pricedtokenforpricingtokenforepochperiodforlastepochprice">pricedTokenForPricingTokenForEpochPeriodForLastEpochPrice</a></h3>
<pre><code class="language-solidity">function pricedTokenForPricingTokenForEpochPeriodForLastEpochPrice(address, address, uint256)
    external
    returns (uint256);
</code></pre>
<h3 id="updatetwap"><a class="header" href="#updatetwap">updateTWAP</a></h3>
<pre><code class="language-solidity">function updateTWAP(address uniV2CompatPairAddressToUpdate_, uint256 eopchPeriodToUpdate_) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enumerableset"><a class="header" href="#enumerableset">EnumerableSet</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-156"><a class="header" href="#functions-156">Functions</a></h2>
<h3 id="_add"><a class="header" href="#_add">_add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function _add(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_remove"><a class="header" href="#_remove">_remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function _remove(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_contains"><a class="header" href="#_contains">_contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function _contains(Set storage set, bytes32 value) private view returns (bool);
</code></pre>
<h3 id="_length"><a class="header" href="#_length">_length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function _length(Set storage set) private view returns (uint256);
</code></pre>
<h3 id="_at"><a class="header" href="#_at">_at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function _at(Set storage set, uint256 index) private view returns (bytes32);
</code></pre>
<h3 id="_getvalues"><a class="header" href="#_getvalues">_getValues</a></h3>
<pre><code class="language-solidity">function _getValues(Set storage set_) private view returns (bytes32[] storage);
</code></pre>
<h3 id="_insert"><a class="header" href="#_insert">_insert</a></h3>
<p>Inserts new value by moving existing value at provided index to end of array and setting provided value at provided index</p>
<pre><code class="language-solidity">function _insert(Set storage set_, uint256 index_, bytes32 valueToInsert_) private returns (bool);
</code></pre>
<h3 id="add-7"><a class="header" href="#add-7">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(Bytes4Set storage set, bytes4 value) internal returns (bool);
</code></pre>
<h3 id="remove"><a class="header" href="#remove">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(Bytes4Set storage set, bytes4 value) internal returns (bool);
</code></pre>
<h3 id="contains"><a class="header" href="#contains">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(Bytes4Set storage set, bytes4 value) internal view returns (bool);
</code></pre>
<h3 id="length"><a class="header" href="#length">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(Bytes4Set storage set) internal view returns (uint256);
</code></pre>
<h3 id="at"><a class="header" href="#at">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(Bytes4Set storage set, uint256 index) internal view returns (bytes4);
</code></pre>
<h3 id="getvalues"><a class="header" href="#getvalues">getValues</a></h3>
<pre><code class="language-solidity">function getValues(Bytes4Set storage set_) internal view returns (bytes4[] memory);
</code></pre>
<h3 id="insert"><a class="header" href="#insert">insert</a></h3>
<pre><code class="language-solidity">function insert(Bytes4Set storage set_, uint256 index_, bytes4 valueToInsert_) internal returns (bool);
</code></pre>
<h3 id="add-8"><a class="header" href="#add-8">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="remove-1"><a class="header" href="#remove-1">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="contains-1"><a class="header" href="#contains-1">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(Bytes32Set storage set, bytes32 value) internal view returns (bool);
</code></pre>
<h3 id="length-1"><a class="header" href="#length-1">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(Bytes32Set storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-1"><a class="header" href="#at-1">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(Bytes32Set storage set, uint256 index) internal view returns (bytes32);
</code></pre>
<h3 id="getvalues-1"><a class="header" href="#getvalues-1">getValues</a></h3>
<pre><code class="language-solidity">function getValues(Bytes32Set storage set_) internal view returns (bytes4[] memory);
</code></pre>
<h3 id="insert-1"><a class="header" href="#insert-1">insert</a></h3>
<pre><code class="language-solidity">function insert(Bytes32Set storage set_, uint256 index_, bytes32 valueToInsert_) internal returns (bool);
</code></pre>
<h3 id="add-9"><a class="header" href="#add-9">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="remove-2"><a class="header" href="#remove-2">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="contains-2"><a class="header" href="#contains-2">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(AddressSet storage set, address value) internal view returns (bool);
</code></pre>
<h3 id="length-2"><a class="header" href="#length-2">length</a></h3>
<p><em>Returns the number of values in the set. O(1).</em></p>
<pre><code class="language-solidity">function length(AddressSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-2"><a class="header" href="#at-2">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(AddressSet storage set, uint256 index) internal view returns (address);
</code></pre>
<h3 id="getvalues-2"><a class="header" href="#getvalues-2">getValues</a></h3>
<p>TODO Might require explicit conversion of bytes32[] to address[].
Might require iteration.</p>
<pre><code class="language-solidity">function getValues(AddressSet storage set_) internal view returns (address[] memory);
</code></pre>
<h3 id="insert-2"><a class="header" href="#insert-2">insert</a></h3>
<pre><code class="language-solidity">function insert(AddressSet storage set_, uint256 index_, address valueToInsert_) internal returns (bool);
</code></pre>
<h3 id="add-10"><a class="header" href="#add-10">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="remove-3"><a class="header" href="#remove-3">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="contains-3"><a class="header" href="#contains-3">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(UintSet storage set, uint256 value) internal view returns (bool);
</code></pre>
<h3 id="length-3"><a class="header" href="#length-3">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(UintSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-3"><a class="header" href="#at-3">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(UintSet storage set, uint256 index) internal view returns (uint256);
</code></pre>
<h3 id="add-11"><a class="header" href="#add-11">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(UInt256Set storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="remove-4"><a class="header" href="#remove-4">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(UInt256Set storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="contains-4"><a class="header" href="#contains-4">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(UInt256Set storage set, uint256 value) internal view returns (bool);
</code></pre>
<h3 id="length-4"><a class="header" href="#length-4">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(UInt256Set storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-4"><a class="header" href="#at-4">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(UInt256Set storage set, uint256 index) internal view returns (uint256);
</code></pre>
<h2 id="structs-15"><a class="header" href="#structs-15">Structs</a></h2>
<h3 id="set"><a class="header" href="#set">Set</a></h3>
<pre><code class="language-solidity">struct Set {
    bytes32[] _values;
    mapping(bytes32 =&gt; uint256) _indexes;
}
</code></pre>
<h3 id="bytes4set"><a class="header" href="#bytes4set">Bytes4Set</a></h3>
<pre><code class="language-solidity">struct Bytes4Set {
    Set _inner;
}
</code></pre>
<h3 id="bytes32set"><a class="header" href="#bytes32set">Bytes32Set</a></h3>
<pre><code class="language-solidity">struct Bytes32Set {
    Set _inner;
}
</code></pre>
<h3 id="addressset"><a class="header" href="#addressset">AddressSet</a></h3>
<pre><code class="language-solidity">struct AddressSet {
    Set _inner;
}
</code></pre>
<h3 id="uintset"><a class="header" href="#uintset">UintSet</a></h3>
<pre><code class="language-solidity">struct UintSet {
    Set _inner;
}
</code></pre>
<h3 id="uint256set"><a class="header" href="#uint256set">UInt256Set</a></h3>
<pre><code class="language-solidity">struct UInt256Set {
    Set _inner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-8"><a class="header" href="#ierc20-8">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-157"><a class="header" href="#functions-157">Functions</a></h2>
<h3 id="totalsupply-12"><a class="header" href="#totalsupply-12">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-14"><a class="header" href="#balanceof-14">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-25"><a class="header" href="#transfer-25">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-12"><a class="header" href="#allowance-12">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-13"><a class="header" href="#approve-13">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-12"><a class="header" href="#transferfrom-12">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-39"><a class="header" href="#events-39">Events</a></h2>
<h3 id="transfer-26"><a class="header" href="#transfer-26">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-12"><a class="header" href="#approval-12">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-6"><a class="header" href="#safemath-6">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-158"><a class="header" href="#functions-158">Functions</a></h2>
<h3 id="add-12"><a class="header" href="#add-12">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-13"><a class="header" href="#sub-13">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-14"><a class="header" href="#sub-14">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-7"><a class="header" href="#mul-7">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-12"><a class="header" href="#div-12">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-13"><a class="header" href="#div-13">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-10"><a class="header" href="#mod-10">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-11"><a class="header" href="#mod-11">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-5"><a class="header" href="#sqrrt-5">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-4"><a class="header" href="#percentageamount-4">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-4"><a class="header" href="#substractpercentage-4">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-4"><a class="header" href="#percentageoftotal-4">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-4"><a class="header" href="#average-4">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-4"><a class="header" href="#quadraticpricing-4">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-4"><a class="header" href="#bondingcurve-4">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20"><a class="header" href="#erc20">ERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<h2 id="state-variables-28"><a class="header" href="#state-variables-28">State Variables</a></h2>
<h3 id="erc20token_erc1820_interface_id"><a class="header" href="#erc20token_erc1820_interface_id">ERC20TOKEN_ERC1820_INTERFACE_ID</a></h3>
<pre><code class="language-solidity">bytes32 private constant ERC20TOKEN_ERC1820_INTERFACE_ID = keccak256(&quot;ERC20Token&quot;);
</code></pre>
<h3 id="_balances"><a class="header" href="#_balances">_balances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal _balances;
</code></pre>
<h3 id="_allowances"><a class="header" href="#_allowances">_allowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal _allowances;
</code></pre>
<h3 id="_totalsupply"><a class="header" href="#_totalsupply">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 internal _totalSupply;
</code></pre>
<h3 id="_name"><a class="header" href="#_name">_name</a></h3>
<pre><code class="language-solidity">string internal _name;
</code></pre>
<h3 id="_symbol"><a class="header" href="#_symbol">_symbol</a></h3>
<pre><code class="language-solidity">string internal _symbol;
</code></pre>
<h3 id="_decimals"><a class="header" href="#_decimals">_decimals</a></h3>
<pre><code class="language-solidity">uint8 internal _decimals;
</code></pre>
<h2 id="functions-159"><a class="header" href="#functions-159">Functions</a></h2>
<h3 id="constructor-17"><a class="header" href="#constructor-17">constructor</a></h3>
<p><em>Sets the values for {name} and {symbol}, initializes {decimals} with
a default value of 18.
To select a different value for {decimals}, use {_setupDecimals}.
All three of these values are immutable: they can only be set once during
construction.</em></p>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_);
</code></pre>
<h3 id="name-4"><a class="header" href="#name-4">name</a></h3>
<p><em>Returns the name of the token.</em></p>
<pre><code class="language-solidity">function name() public view returns (string memory);
</code></pre>
<h3 id="symbol-4"><a class="header" href="#symbol-4">symbol</a></h3>
<p><em>Returns the symbol of the token, usually a shorter version of the
name.</em></p>
<pre><code class="language-solidity">function symbol() public view returns (string memory);
</code></pre>
<h3 id="decimals-8"><a class="header" href="#decimals-8">decimals</a></h3>
<p><em>Returns the number of decimals used to get its user representation.
For example, if <code>decimals</code> equals <code>2</code>, a balance of <code>505</code> tokens should
be displayed to a user as <code>5,05</code> (<code>505 / 10 ** 2</code>).
Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is
called.
NOTE: This information is only used for <em>display</em> purposes: it in
no way affects any of the arithmetic of the contract, including
{IERC20-balanceOf} and {IERC20-transfer}.</em></p>
<pre><code class="language-solidity">function decimals() public view returns (uint8);
</code></pre>
<h3 id="totalsupply-13"><a class="header" href="#totalsupply-13">totalSupply</a></h3>
<p><em>See {IERC20-totalSupply}.</em></p>
<pre><code class="language-solidity">function totalSupply() public view override returns (uint256);
</code></pre>
<h3 id="balanceof-15"><a class="header" href="#balanceof-15">balanceOf</a></h3>
<p><em>See {IERC20-balanceOf}.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) public view virtual override returns (uint256);
</code></pre>
<h3 id="transfer-27"><a class="header" href="#transfer-27">transfer</a></h3>
<p>*See {IERC20-transfer}.
Requirements:</p>
<ul>
<li><code>recipient</code> cannot be the zero address.</li>
<li>the caller must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="allowance-13"><a class="header" href="#allowance-13">allowance</a></h3>
<p><em>See {IERC20-allowance}.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) public view virtual override returns (uint256);
</code></pre>
<h3 id="approve-14"><a class="header" href="#approve-14">approve</a></h3>
<p>*See {IERC20-approve}.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="transferfrom-13"><a class="header" href="#transferfrom-13">transferFrom</a></h3>
<p>*See {IERC20-transferFrom}.
Emits an {Approval} event indicating the updated allowance. This is not
required by the EIP. See the note at the beginning of {ERC20}.
Requirements:</p>
<ul>
<li><code>sender</code> and <code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.</li>
<li>the caller must have allowance for <code>sender</code>'s tokens of at least
<code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="increaseallowance"><a class="header" href="#increaseallowance">increaseAllowance</a></h3>
<p>*Atomically increases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool);
</code></pre>
<h3 id="decreaseallowance"><a class="header" href="#decreaseallowance">decreaseAllowance</a></h3>
<p>*Atomically decreases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>spender</code> must have allowance for the caller of at least
<code>subtractedValue</code>.*</li>
</ul>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool);
</code></pre>
<h3 id="_transfer"><a class="header" href="#_transfer">_transfer</a></h3>
<p>*Moves tokens <code>amount</code> from <code>sender</code> to <code>recipient</code>.
This is internal function is equivalent to {transfer}, and can be used to
e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a {Transfer} event.
Requirements:</p>
<ul>
<li><code>sender</code> cannot be the zero address.</li>
<li><code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function _transfer(address sender, address recipient, uint256 amount) internal virtual;
</code></pre>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<p>*Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.
Emits a {Transfer} event with <code>from</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>to</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _mint(address account_, uint256 amount_) internal virtual;
</code></pre>
<h3 id="_burn"><a class="header" href="#_burn">_burn</a></h3>
<p>*Destroys <code>amount</code> tokens from <code>account</code>, reducing the
total supply.
Emits a {Transfer} event with <code>to</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>account</code> cannot be the zero address.</li>
<li><code>account</code> must have at least <code>amount</code> tokens.*</li>
</ul>
<pre><code class="language-solidity">function _burn(address account, uint256 amount) internal virtual;
</code></pre>
<h3 id="_approve"><a class="header" href="#_approve">_approve</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over the <code>owner</code> s tokens.
This internal function is equivalent to <code>approve</code>, and can be used to
e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 amount) internal virtual;
</code></pre>
<h3 id="_beforetokentransfer"><a class="header" href="#_beforetokentransfer">_beforeTokenTransfer</a></h3>
<p><em>Sets {decimals} to a value other than the default one of 18.
WARNING: This function should only be called from the constructor. Most
applications that interact with token contracts will not expect
{decimals} to ever change, and may work incorrectly if it does.</em></p>
<p>*Hook that is called before any transfer of tokens. This includes
minting and burning.
Calling conditions:</p>
<ul>
<li>when <code>from</code> and <code>to</code> are both non-zero, <code>amount</code> of <code>from</code>'s tokens
will be to transferred to <code>to</code>.</li>
<li>when <code>from</code> is zero, <code>amount</code> tokens will be minted for <code>to</code>.</li>
<li>when <code>to</code> is zero, <code>amount</code> of <code>from</code>'s tokens will be burned.</li>
<li><code>from</code> and <code>to</code> are never both zero.
To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="counters"><a class="header" href="#counters">Counters</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-160"><a class="header" href="#functions-160">Functions</a></h2>
<h3 id="current"><a class="header" href="#current">current</a></h3>
<pre><code class="language-solidity">function current(Counter storage counter) internal view returns (uint256);
</code></pre>
<h3 id="increment"><a class="header" href="#increment">increment</a></h3>
<pre><code class="language-solidity">function increment(Counter storage counter) internal;
</code></pre>
<h3 id="decrement"><a class="header" href="#decrement">decrement</a></h3>
<pre><code class="language-solidity">function decrement(Counter storage counter) internal;
</code></pre>
<h2 id="structs-16"><a class="header" href="#structs-16">Structs</a></h2>
<h3 id="counter"><a class="header" href="#counter">Counter</a></h3>
<pre><code class="language-solidity">struct Counter {
    uint256 _value;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc2612permit"><a class="header" href="#ierc2612permit">IERC2612Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-161"><a class="header" href="#functions-161">Functions</a></h2>
<h3 id="permit-3"><a class="header" href="#permit-3">permit</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over <code>owner</code>'s tokens,
given <code>owner</code>'s signed approval.
IMPORTANT: The same issues {IERC20-approve} has related to transaction
ordering also apply here.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>deadline</code> must be a timestamp in the future.</li>
<li><code>v</code>, <code>r</code> and <code>s</code> must be a valid <code>secp256k1</code> signature from <code>owner</code>
over the EIP712-formatted function arguments.</li>
<li>the signature must use <code>owner</code>'s current nonce (see {nonces}).
For more information on the signature format, see the
https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP
section].*</li>
</ul>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="nonces-3"><a class="header" href="#nonces-3">nonces</a></h3>
<p><em>Returns the current ERC2612 nonce for <code>owner</code>. This value must be
included whenever a signature is generated for {permit}.
Every successful call to {permit} increases <code>owner</code>'s nonce by one. This
prevents a signature from being used multiple times.</em></p>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20permit"><a class="header" href="#erc20permit">ERC20Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a>, <a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></p>
<h2 id="state-variables-29"><a class="header" href="#state-variables-29">State Variables</a></h2>
<h3 id="_nonces"><a class="header" href="#_nonces">_nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Counters.Counter) private _nonces;
</code></pre>
<h3 id="permit_typehash-3"><a class="header" href="#permit_typehash-3">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 public constant PERMIT_TYPEHASH = 0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9;
</code></pre>
<h3 id="domain_separator-3"><a class="header" href="#domain_separator-3">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">bytes32 public DOMAIN_SEPARATOR;
</code></pre>
<h2 id="functions-162"><a class="header" href="#functions-162">Functions</a></h2>
<h3 id="constructor-18"><a class="header" href="#constructor-18">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="permit-4"><a class="header" href="#permit-4">permit</a></h3>
<p><em>See {IERC2612Permit-permit}.</em></p>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    public
    virtual
    override;
</code></pre>
<h3 id="nonces-4"><a class="header" href="#nonces-4">nonces</a></h3>
<p><em>See {IERC2612Permit-nonces}.</em></p>
<pre><code class="language-solidity">function nonces(address owner) public view override returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iownable-3"><a class="header" href="#iownable-3">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<h2 id="functions-163"><a class="header" href="#functions-163">Functions</a></h2>
<h3 id="owner-8"><a class="header" href="#owner-8">owner</a></h3>
<pre><code class="language-solidity">function owner() external view returns (address);
</code></pre>
<h3 id="renounceownership"><a class="header" href="#renounceownership">renounceOwnership</a></h3>
<pre><code class="language-solidity">function renounceOwnership() external;
</code></pre>
<h3 id="transferownership-3"><a class="header" href="#transferownership-3">transferOwnership</a></h3>
<pre><code class="language-solidity">function transferOwnership(address newOwner_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable-3"><a class="header" href="#ownable-3">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-30"><a class="header" href="#state-variables-30">State Variables</a></h2>
<h3 id="_owner-3"><a class="header" href="#_owner-3">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h2 id="functions-164"><a class="header" href="#functions-164">Functions</a></h2>
<h3 id="constructor-19"><a class="header" href="#constructor-19">constructor</a></h3>
<p><em>Initializes the contract setting the deployer as the initial owner.</em></p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="owner-9"><a class="header" href="#owner-9">owner</a></h3>
<p><em>Returns the address of the current owner.</em></p>
<pre><code class="language-solidity">function owner() public view override returns (address);
</code></pre>
<h3 id="onlyowner"><a class="header" href="#onlyowner">onlyOwner</a></h3>
<p><em>Throws if called by any account other than the owner.</em></p>
<pre><code class="language-solidity">modifier onlyOwner();
</code></pre>
<h3 id="renounceownership-1"><a class="header" href="#renounceownership-1">renounceOwnership</a></h3>
<p><em>Leaves the contract without owner. It will not be possible to call
<code>onlyOwner</code> functions anymore. Can only be called by the current owner.
NOTE: Renouncing ownership will leave the contract without an owner,
thereby removing any functionality that is only available to the owner.</em></p>
<pre><code class="language-solidity">function renounceOwnership() public virtual override onlyOwner;
</code></pre>
<h3 id="transferownership-4"><a class="header" href="#transferownership-4">transferOwnership</a></h3>
<p><em>Transfers ownership of the contract to a new account (<code>newOwner</code>).
Can only be called by the current owner.</em></p>
<pre><code class="language-solidity">function transferOwnership(address newOwner_) public virtual override onlyOwner;
</code></pre>
<h2 id="events-40"><a class="header" href="#events-40">Events</a></h2>
<h3 id="ownershiptransferred-3"><a class="header" href="#ownershiptransferred-3">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vaultowned"><a class="header" href="#vaultowned">VaultOwned</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-31"><a class="header" href="#state-variables-31">State Variables</a></h2>
<h3 id="_vault"><a class="header" href="#_vault">_vault</a></h3>
<pre><code class="language-solidity">address internal _vault;
</code></pre>
<h2 id="functions-165"><a class="header" href="#functions-165">Functions</a></h2>
<h3 id="setvault"><a class="header" href="#setvault">setVault</a></h3>
<pre><code class="language-solidity">function setVault(address vault_) external onlyOwner returns (bool);
</code></pre>
<h3 id="vault"><a class="header" href="#vault">vault</a></h3>
<p><em>Returns the address of the current vault.</em></p>
<pre><code class="language-solidity">function vault() public view returns (address);
</code></pre>
<h3 id="onlyvault"><a class="header" href="#onlyvault">onlyVault</a></h3>
<p><em>Throws if called by any account other than the vault.</em></p>
<pre><code class="language-solidity">modifier onlyVault();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="twaporacleupdater"><a class="header" href="#twaporacleupdater">TWAPOracleUpdater</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a>, <a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/contract.VaultOwned.html">VaultOwned</a></p>
<h2 id="state-variables-32"><a class="header" href="#state-variables-32">State Variables</a></h2>
<h3 id="_dexpoolstwapsources"><a class="header" href="#_dexpoolstwapsources">_dexPoolsTWAPSources</a></h3>
<pre><code class="language-solidity">EnumerableSet.AddressSet private _dexPoolsTWAPSources;
</code></pre>
<h3 id="twaporacle"><a class="header" href="#twaporacle">twapOracle</a></h3>
<pre><code class="language-solidity">ITWAPOracle public twapOracle;
</code></pre>
<h3 id="twapepochperiod"><a class="header" href="#twapepochperiod">twapEpochPeriod</a></h3>
<pre><code class="language-solidity">uint256 public twapEpochPeriod;
</code></pre>
<h2 id="functions-166"><a class="header" href="#functions-166">Functions</a></h2>
<h3 id="constructor-20"><a class="header" href="#constructor-20">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_) ERC20(name_, symbol_, decimals_);
</code></pre>
<h3 id="changetwaporacle"><a class="header" href="#changetwaporacle">changeTWAPOracle</a></h3>
<pre><code class="language-solidity">function changeTWAPOracle(address newTWAPOracle_) external onlyOwner;
</code></pre>
<h3 id="changetwapepochperiod"><a class="header" href="#changetwapepochperiod">changeTWAPEpochPeriod</a></h3>
<pre><code class="language-solidity">function changeTWAPEpochPeriod(uint256 newTWAPEpochPeriod_) external onlyOwner;
</code></pre>
<h3 id="addtwapsource"><a class="header" href="#addtwapsource">addTWAPSource</a></h3>
<pre><code class="language-solidity">function addTWAPSource(address newTWAPSourceDexPool_) external onlyOwner;
</code></pre>
<h3 id="removetwapsource"><a class="header" href="#removetwapsource">removeTWAPSource</a></h3>
<pre><code class="language-solidity">function removeTWAPSource(address twapSourceToRemove_) external onlyOwner;
</code></pre>
<h3 id="_uodatetwaporacle"><a class="header" href="#_uodatetwaporacle">_uodateTWAPOracle</a></h3>
<pre><code class="language-solidity">function _uodateTWAPOracle(address dexPoolToUpdateFrom_, uint256 twapEpochPeriodToUpdate_) internal;
</code></pre>
<h3 id="_beforetokentransfer-1"><a class="header" href="#_beforetokentransfer-1">_beforeTokenTransfer</a></h3>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal virtual override;
</code></pre>
<h2 id="events-41"><a class="header" href="#events-41">Events</a></h2>
<h3 id="twaporaclechanged"><a class="header" href="#twaporaclechanged">TWAPOracleChanged</a></h3>
<pre><code class="language-solidity">event TWAPOracleChanged(address indexed previousTWAPOracle, address indexed newTWAPOracle);
</code></pre>
<h3 id="twapepochchanged"><a class="header" href="#twapepochchanged">TWAPEpochChanged</a></h3>
<pre><code class="language-solidity">event TWAPEpochChanged(uint256 previousTWAPEpochPeriod, uint256 newTWAPEpochPeriod);
</code></pre>
<h3 id="twapsourceadded"><a class="header" href="#twapsourceadded">TWAPSourceAdded</a></h3>
<pre><code class="language-solidity">event TWAPSourceAdded(address indexed newTWAPSource);
</code></pre>
<h3 id="twapsourceremoved"><a class="header" href="#twapsourceremoved">TWAPSourceRemoved</a></h3>
<pre><code class="language-solidity">event TWAPSourceRemoved(address indexed removedTWAPSource);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="divine"><a class="header" href="#divine">Divine</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/contract.TWAPOracleUpdater.html">TWAPOracleUpdater</a></p>
<h2 id="functions-167"><a class="header" href="#functions-167">Functions</a></h2>
<h3 id="constructor-21"><a class="header" href="#constructor-21">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_) TWAPOracleUpdater(name_, symbol_, decimals_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimatoken"><a class="header" href="#klimatoken">KlimaToken</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/KlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/KlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/contract.Divine.html">Divine</a></p>
<h2 id="functions-168"><a class="header" href="#functions-168">Functions</a></h2>
<h3 id="constructor-22"><a class="header" href="#constructor-22">constructor</a></h3>
<pre><code class="language-solidity">constructor() Divine(&quot;Klima DAO&quot;, &quot;KLIMA&quot;, 9);
</code></pre>
<h3 id="mint-9"><a class="header" href="#mint-9">mint</a></h3>
<pre><code class="language-solidity">function mint(address account_, uint256 amount_) external onlyVault;
</code></pre>
<h3 id="burn-7"><a class="header" href="#burn-7">burn</a></h3>
<p><em>Destroys <code>amount</code> tokens from the caller.
See {ERC20-_burn}.</em></p>
<pre><code class="language-solidity">function burn(uint256 amount) public virtual;
</code></pre>
<h3 id="burnfrom-3"><a class="header" href="#burnfrom-3">burnFrom</a></h3>
<pre><code class="language-solidity">function burnFrom(address account_, uint256 amount_) public virtual;
</code></pre>
<h3 id="_burnfrom"><a class="header" href="#_burnfrom">_burnFrom</a></h3>
<pre><code class="language-solidity">function _burnFrom(address account_, uint256 amount_) public virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-7"><a class="header" href="#safemath-7">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-169"><a class="header" href="#functions-169">Functions</a></h2>
<h3 id="add-13"><a class="header" href="#add-13">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-15"><a class="header" href="#sub-15">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-16"><a class="header" href="#sub-16">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-8"><a class="header" href="#mul-8">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-14"><a class="header" href="#div-14">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-15"><a class="header" href="#div-15">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-12"><a class="header" href="#mod-12">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-13"><a class="header" href="#mod-13">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-6"><a class="header" href="#sqrrt-6">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-5"><a class="header" href="#percentageamount-5">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-5"><a class="header" href="#substractpercentage-5">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-5"><a class="header" href="#percentageoftotal-5">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-5"><a class="header" href="#average-5">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-5"><a class="header" href="#quadraticpricing-5">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-5"><a class="header" href="#bondingcurve-5">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-5"><a class="header" href="#address-5">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<h2 id="functions-170"><a class="header" href="#functions-170">Functions</a></h2>
<h3 id="iscontract-5"><a class="header" href="#iscontract-5">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-5"><a class="header" href="#sendvalue-5">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-10"><a class="header" href="#functioncall-10">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular_old Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-11"><a class="header" href="#functioncall-11">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-10"><a class="header" href="#functioncallwithvalue-10">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-11"><a class="header" href="#functioncallwithvalue-11">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-5"><a class="header" href="#_functioncallwithvalue-5">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-10"><a class="header" href="#functionstaticcall-10">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-11"><a class="header" href="#functionstaticcall-11">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-10"><a class="header" href="#functiondelegatecall-10">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-11"><a class="header" href="#functiondelegatecall-11">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-5"><a class="header" href="#_verifycallresult-5">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-5"><a class="header" href="#addresstostring-5">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iownable-4"><a class="header" href="#iownable-4">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<h2 id="functions-171"><a class="header" href="#functions-171">Functions</a></h2>
<h3 id="owner-10"><a class="header" href="#owner-10">owner</a></h3>
<pre><code class="language-solidity">function owner() external view returns (address);
</code></pre>
<h3 id="renounceownership-2"><a class="header" href="#renounceownership-2">renounceOwnership</a></h3>
<pre><code class="language-solidity">function renounceOwnership() external;
</code></pre>
<h3 id="transferownership-5"><a class="header" href="#transferownership-5">transferOwnership</a></h3>
<pre><code class="language-solidity">function transferOwnership(address newOwner_) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable-4"><a class="header" href="#ownable-4">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-33"><a class="header" href="#state-variables-33">State Variables</a></h2>
<h3 id="_owner-4"><a class="header" href="#_owner-4">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h2 id="functions-172"><a class="header" href="#functions-172">Functions</a></h2>
<h3 id="constructor-23"><a class="header" href="#constructor-23">constructor</a></h3>
<p><em>Initializes the contract setting the deployer as the initial owner.</em></p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="owner-11"><a class="header" href="#owner-11">owner</a></h3>
<p><em>Returns the address of the current owner.</em></p>
<pre><code class="language-solidity">function owner() public view override returns (address);
</code></pre>
<h3 id="onlyowner-1"><a class="header" href="#onlyowner-1">onlyOwner</a></h3>
<p><em>Throws if called by any account other than the owner.</em></p>
<pre><code class="language-solidity">modifier onlyOwner();
</code></pre>
<h3 id="renounceownership-3"><a class="header" href="#renounceownership-3">renounceOwnership</a></h3>
<p><em>Leaves the contract without owner. It will not be possible to call
<code>onlyOwner</code> functions anymore. Can only be called by the current owner.
NOTE: Renouncing ownership will leave the contract without an owner,
thereby removing any functionality that is only available to the owner.</em></p>
<pre><code class="language-solidity">function renounceOwnership() public virtual override onlyOwner;
</code></pre>
<h3 id="transferownership-6"><a class="header" href="#transferownership-6">transferOwnership</a></h3>
<p><em>Transfers ownership of the contract to a new account (<code>newOwner</code>).
Can only be called by the current owner.</em></p>
<pre><code class="language-solidity">function transferOwnership(address newOwner_) public virtual override onlyOwner;
</code></pre>
<h2 id="events-42"><a class="header" href="#events-42">Events</a></h2>
<h3 id="ownershiptransferred-4"><a class="header" href="#ownershiptransferred-4">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-9"><a class="header" href="#ierc20-9">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<h2 id="functions-173"><a class="header" href="#functions-173">Functions</a></h2>
<h3 id="totalsupply-14"><a class="header" href="#totalsupply-14">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-16"><a class="header" href="#balanceof-16">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-28"><a class="header" href="#transfer-28">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-14"><a class="header" href="#allowance-14">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-15"><a class="header" href="#approve-15">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-14"><a class="header" href="#transferfrom-14">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-43"><a class="header" href="#events-43">Events</a></h2>
<h3 id="transfer-29"><a class="header" href="#transfer-29">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-13"><a class="header" href="#approval-13">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20-1"><a class="header" href="#erc20-1">ERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<h2 id="state-variables-34"><a class="header" href="#state-variables-34">State Variables</a></h2>
<h3 id="erc20token_erc1820_interface_id-1"><a class="header" href="#erc20token_erc1820_interface_id-1">ERC20TOKEN_ERC1820_INTERFACE_ID</a></h3>
<pre><code class="language-solidity">bytes32 private constant ERC20TOKEN_ERC1820_INTERFACE_ID = keccak256(&quot;ERC20Token&quot;);
</code></pre>
<h3 id="_balances-1"><a class="header" href="#_balances-1">_balances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal _balances;
</code></pre>
<h3 id="_allowances-1"><a class="header" href="#_allowances-1">_allowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal _allowances;
</code></pre>
<h3 id="_totalsupply-1"><a class="header" href="#_totalsupply-1">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 internal _totalSupply;
</code></pre>
<h3 id="_name-1"><a class="header" href="#_name-1">_name</a></h3>
<pre><code class="language-solidity">string internal _name;
</code></pre>
<h3 id="_symbol-1"><a class="header" href="#_symbol-1">_symbol</a></h3>
<pre><code class="language-solidity">string internal _symbol;
</code></pre>
<h3 id="_decimals-1"><a class="header" href="#_decimals-1">_decimals</a></h3>
<pre><code class="language-solidity">uint8 internal _decimals;
</code></pre>
<h2 id="functions-174"><a class="header" href="#functions-174">Functions</a></h2>
<h3 id="constructor-24"><a class="header" href="#constructor-24">constructor</a></h3>
<p><em>Sets the values for {name} and {symbol}, initializes {decimals} with
a default value of 18.
To select a different value for {decimals}, use {_setupDecimals}.
All three of these values are immutable: they can only be set once during
construction.</em></p>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_);
</code></pre>
<h3 id="name-5"><a class="header" href="#name-5">name</a></h3>
<p><em>Returns the name of the token.</em></p>
<pre><code class="language-solidity">function name() public view returns (string memory);
</code></pre>
<h3 id="symbol-5"><a class="header" href="#symbol-5">symbol</a></h3>
<p><em>Returns the symbol of the token, usually a shorter version of the
name.</em></p>
<pre><code class="language-solidity">function symbol() public view returns (string memory);
</code></pre>
<h3 id="decimals-9"><a class="header" href="#decimals-9">decimals</a></h3>
<p><em>Returns the number of decimals used to get its user representation.
For example, if <code>decimals</code> equals <code>2</code>, a balance of <code>505</code> tokens should
be displayed to a user as <code>5,05</code> (<code>505 / 10 ** 2</code>).
Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is
called.
NOTE: This information is only used for <em>display</em> purposes: it in
no way affects any of the arithmetic of the contract, including
{IERC20-balanceOf} and {IERC20-transfer}.</em></p>
<pre><code class="language-solidity">function decimals() public view returns (uint8);
</code></pre>
<h3 id="totalsupply-15"><a class="header" href="#totalsupply-15">totalSupply</a></h3>
<p><em>See {IERC20-totalSupply}.</em></p>
<pre><code class="language-solidity">function totalSupply() public view override returns (uint256);
</code></pre>
<h3 id="balanceof-17"><a class="header" href="#balanceof-17">balanceOf</a></h3>
<p><em>See {IERC20-balanceOf}.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) public view virtual override returns (uint256);
</code></pre>
<h3 id="transfer-30"><a class="header" href="#transfer-30">transfer</a></h3>
<p>*See {IERC20-transfer}.
Requirements:</p>
<ul>
<li><code>recipient</code> cannot be the zero address.</li>
<li>the caller must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="allowance-15"><a class="header" href="#allowance-15">allowance</a></h3>
<p><em>See {IERC20-allowance}.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) public view virtual override returns (uint256);
</code></pre>
<h3 id="approve-16"><a class="header" href="#approve-16">approve</a></h3>
<p>*See {IERC20-approve}.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="transferfrom-15"><a class="header" href="#transferfrom-15">transferFrom</a></h3>
<p>*See {IERC20-transferFrom}.
Emits an {Approval} event indicating the updated allowance. This is not
required by the EIP. See the note at the beginning of {ERC20}.
Requirements:</p>
<ul>
<li><code>sender</code> and <code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.</li>
<li>the caller must have allowance for <code>sender</code>'s tokens of at least
<code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="increaseallowance-1"><a class="header" href="#increaseallowance-1">increaseAllowance</a></h3>
<p>*Atomically increases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool);
</code></pre>
<h3 id="decreaseallowance-1"><a class="header" href="#decreaseallowance-1">decreaseAllowance</a></h3>
<p>*Atomically decreases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>spender</code> must have allowance for the caller of at least
<code>subtractedValue</code>.*</li>
</ul>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool);
</code></pre>
<h3 id="_transfer-1"><a class="header" href="#_transfer-1">_transfer</a></h3>
<p>*Moves tokens <code>amount</code> from <code>sender</code> to <code>recipient</code>.
This is internal function is equivalent to {transfer}, and can be used to
e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a {Transfer} event.
Requirements:</p>
<ul>
<li><code>sender</code> cannot be the zero address.</li>
<li><code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function _transfer(address sender, address recipient, uint256 amount) internal virtual;
</code></pre>
<h3 id="_mint-1"><a class="header" href="#_mint-1">_mint</a></h3>
<p>*Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.
Emits a {Transfer} event with <code>from</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>to</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _mint(address account_, uint256 ammount_) internal virtual;
</code></pre>
<h3 id="_burn-1"><a class="header" href="#_burn-1">_burn</a></h3>
<p>*Destroys <code>amount</code> tokens from <code>account</code>, reducing the
total supply.
Emits a {Transfer} event with <code>to</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>account</code> cannot be the zero address.</li>
<li><code>account</code> must have at least <code>amount</code> tokens.*</li>
</ul>
<pre><code class="language-solidity">function _burn(address account, uint256 amount) internal virtual;
</code></pre>
<h3 id="_approve-1"><a class="header" href="#_approve-1">_approve</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over the <code>owner</code> s tokens.
This internal function is equivalent to <code>approve</code>, and can be used to
e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 amount) internal virtual;
</code></pre>
<h3 id="_beforetokentransfer-2"><a class="header" href="#_beforetokentransfer-2">_beforeTokenTransfer</a></h3>
<p><em>Sets {decimals} to a value other than the default one of 18.
WARNING: This function should only be called from the constructor. Most
applications that interact with token contracts will not expect
{decimals} to ever change, and may work incorrectly if it does.</em></p>
<p>*Hook that is called before any transfer of tokens. This includes
minting and burning.
Calling conditions:</p>
<ul>
<li>when <code>from</code> and <code>to</code> are both non-zero, <code>amount</code> of <code>from</code>'s tokens
will be to transferred to <code>to</code>.</li>
<li>when <code>from</code> is zero, <code>amount</code> tokens will be minted for <code>to</code>.</li>
<li>when <code>to</code> is zero, <code>amount</code> of <code>from</code>'s tokens will be burned.</li>
<li><code>from</code> and <code>to</code> are never both zero.
To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="counters-1"><a class="header" href="#counters-1">Counters</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<h2 id="functions-175"><a class="header" href="#functions-175">Functions</a></h2>
<h3 id="current-1"><a class="header" href="#current-1">current</a></h3>
<pre><code class="language-solidity">function current(Counter storage counter) internal view returns (uint256);
</code></pre>
<h3 id="increment-1"><a class="header" href="#increment-1">increment</a></h3>
<pre><code class="language-solidity">function increment(Counter storage counter) internal;
</code></pre>
<h3 id="decrement-1"><a class="header" href="#decrement-1">decrement</a></h3>
<pre><code class="language-solidity">function decrement(Counter storage counter) internal;
</code></pre>
<h2 id="structs-17"><a class="header" href="#structs-17">Structs</a></h2>
<h3 id="counter-1"><a class="header" href="#counter-1">Counter</a></h3>
<pre><code class="language-solidity">struct Counter {
    uint256 _value;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc2612permit-1"><a class="header" href="#ierc2612permit-1">IERC2612Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<h2 id="functions-176"><a class="header" href="#functions-176">Functions</a></h2>
<h3 id="permit-5"><a class="header" href="#permit-5">permit</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over <code>owner</code>'s tokens,
given <code>owner</code>'s signed approval.
IMPORTANT: The same issues {IERC20-approve} has related to transaction
ordering also apply here.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>deadline</code> must be a timestamp in the future.</li>
<li><code>v</code>, <code>r</code> and <code>s</code> must be a valid <code>secp256k1</code> signature from <code>owner</code>
over the EIP712-formatted function arguments.</li>
<li>the signature must use <code>owner</code>'s current nonce (see {nonces}).
For more information on the signature format, see the
https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP
section].*</li>
</ul>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="nonces-5"><a class="header" href="#nonces-5">nonces</a></h3>
<p><em>Returns the current ERC2612 nonce for <code>owner</code>. This value must be
included whenever a signature is generated for {permit}.
Every successful call to {permit} increases <code>owner</code>'s nonce by one. This
prevents a signature from being used multiple times.</em></p>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20permit-1"><a class="header" href="#erc20permit-1">ERC20Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a>, <a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></p>
<h2 id="state-variables-35"><a class="header" href="#state-variables-35">State Variables</a></h2>
<h3 id="_nonces-1"><a class="header" href="#_nonces-1">_nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Counters.Counter) private _nonces;
</code></pre>
<h3 id="permit_typehash-4"><a class="header" href="#permit_typehash-4">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 public constant PERMIT_TYPEHASH = 0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9;
</code></pre>
<h3 id="domain_separator-4"><a class="header" href="#domain_separator-4">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">bytes32 public DOMAIN_SEPARATOR;
</code></pre>
<h2 id="functions-177"><a class="header" href="#functions-177">Functions</a></h2>
<h3 id="constructor-25"><a class="header" href="#constructor-25">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="permit-6"><a class="header" href="#permit-6">permit</a></h3>
<p><em>See {IERC2612Permit-permit}.</em></p>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    public
    virtual
    override;
</code></pre>
<h3 id="nonces-6"><a class="header" href="#nonces-6">nonces</a></h3>
<p><em>See {IERC2612Permit-nonces}.</em></p>
<pre><code class="language-solidity">function nonces(address owner) public view override returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sklima-7"><a class="header" href="#sklima-7">sKlima</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a>, <a href="src/protocol/tokens/regular/sKlimaToken.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-36"><a class="header" href="#state-variables-36">State Variables</a></h2>
<h3 id="monetarypolicy"><a class="header" href="#monetarypolicy">monetaryPolicy</a></h3>
<pre><code class="language-solidity">address public monetaryPolicy;
</code></pre>
<h3 id="stakingcontract"><a class="header" href="#stakingcontract">stakingContract</a></h3>
<pre><code class="language-solidity">address public stakingContract;
</code></pre>
<h3 id="max_uint256"><a class="header" href="#max_uint256">MAX_UINT256</a></h3>
<pre><code class="language-solidity">uint256 private constant MAX_UINT256 = ~uint256(0);
</code></pre>
<h3 id="initial_fragments_supply"><a class="header" href="#initial_fragments_supply">INITIAL_FRAGMENTS_SUPPLY</a></h3>
<pre><code class="language-solidity">uint256 private constant INITIAL_FRAGMENTS_SUPPLY = 500_000 * 10 ** 9;
</code></pre>
<h3 id="total_gons"><a class="header" href="#total_gons">TOTAL_GONS</a></h3>
<pre><code class="language-solidity">uint256 private constant TOTAL_GONS = MAX_UINT256 - (MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY);
</code></pre>
<h3 id="max_supply"><a class="header" href="#max_supply">MAX_SUPPLY</a></h3>
<pre><code class="language-solidity">uint256 private constant MAX_SUPPLY = ~uint128(0);
</code></pre>
<h3 id="_gonsperfragment"><a class="header" href="#_gonsperfragment">_gonsPerFragment</a></h3>
<pre><code class="language-solidity">uint256 private _gonsPerFragment;
</code></pre>
<h3 id="_gonbalances"><a class="header" href="#_gonbalances">_gonBalances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) private _gonBalances;
</code></pre>
<h3 id="_allowedfragments"><a class="header" href="#_allowedfragments">_allowedFragments</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) private _allowedFragments;
</code></pre>
<h2 id="functions-178"><a class="header" href="#functions-178">Functions</a></h2>
<h3 id="onlymonetarypolicy"><a class="header" href="#onlymonetarypolicy">onlyMonetaryPolicy</a></h3>
<pre><code class="language-solidity">modifier onlyMonetaryPolicy();
</code></pre>
<h3 id="validrecipient"><a class="header" href="#validrecipient">validRecipient</a></h3>
<pre><code class="language-solidity">modifier validRecipient(address to);
</code></pre>
<h3 id="constructor-26"><a class="header" href="#constructor-26">constructor</a></h3>
<pre><code class="language-solidity">constructor() ERC20(&quot;Staked Klima&quot;, &quot;sKLIMA&quot;, 9);
</code></pre>
<h3 id="setstakingcontract"><a class="header" href="#setstakingcontract">setStakingContract</a></h3>
<pre><code class="language-solidity">function setStakingContract(address newStakingContract_) external onlyOwner;
</code></pre>
<h3 id="setmonetarypolicy"><a class="header" href="#setmonetarypolicy">setMonetaryPolicy</a></h3>
<pre><code class="language-solidity">function setMonetaryPolicy(address monetaryPolicy_) external onlyOwner;
</code></pre>
<h3 id="rebase-2"><a class="header" href="#rebase-2">rebase</a></h3>
<pre><code class="language-solidity">function rebase(uint256 olyProfit) public onlyMonetaryPolicy returns (uint256);
</code></pre>
<h3 id="balanceof-18"><a class="header" href="#balanceof-18">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address who) public view override returns (uint256);
</code></pre>
<h3 id="circulatingsupply-1"><a class="header" href="#circulatingsupply-1">circulatingSupply</a></h3>
<pre><code class="language-solidity">function circulatingSupply() public view returns (uint256);
</code></pre>
<h3 id="transfer-31"><a class="header" href="#transfer-31">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) public override validRecipient(to) returns (bool);
</code></pre>
<h3 id="allowance-16"><a class="header" href="#allowance-16">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner_, address spender) public view override returns (uint256);
</code></pre>
<h3 id="transferfrom-16"><a class="header" href="#transferfrom-16">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) public override validRecipient(to) returns (bool);
</code></pre>
<h3 id="approve-17"><a class="header" href="#approve-17">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) public override returns (bool);
</code></pre>
<h3 id="_approve-2"><a class="header" href="#_approve-2">_approve</a></h3>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 value) internal virtual override;
</code></pre>
<h3 id="increaseallowance-2"><a class="header" href="#increaseallowance-2">increaseAllowance</a></h3>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public override returns (bool);
</code></pre>
<h3 id="decreaseallowance-2"><a class="header" href="#decreaseallowance-2">decreaseAllowance</a></h3>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public override returns (bool);
</code></pre>
<h2 id="events-44"><a class="header" href="#events-44">Events</a></h2>
<h3 id="logrebase"><a class="header" href="#logrebase">LogRebase</a></h3>
<pre><code class="language-solidity">event LogRebase(uint256 indexed epoch, uint256 totalSupply);
</code></pre>
<h3 id="logmonetarypolicyupdated"><a class="header" href="#logmonetarypolicyupdated">LogMonetaryPolicyUpdated</a></h3>
<pre><code class="language-solidity">event LogMonetaryPolicyUpdated(address monetaryPolicy);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-8"><a class="header" href="#safemath-8">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-06-12</p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-179"><a class="header" href="#functions-179">Functions</a></h2>
<h3 id="add-14"><a class="header" href="#add-14">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-17"><a class="header" href="#sub-17">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-18"><a class="header" href="#sub-18">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-9"><a class="header" href="#mul-9">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-16"><a class="header" href="#div-16">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-17"><a class="header" href="#div-17">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-14"><a class="header" href="#mod-14">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-15"><a class="header" href="#mod-15">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="sqrrt-7"><a class="header" href="#sqrrt-7">sqrrt</a></h3>
<pre><code class="language-solidity">function sqrrt(uint256 a) internal pure returns (uint256 c);
</code></pre>
<h3 id="percentageamount-6"><a class="header" href="#percentageamount-6">percentageAmount</a></h3>
<pre><code class="language-solidity">function percentageAmount(uint256 total_, uint8 percentage_) internal pure returns (uint256 percentAmount_);
</code></pre>
<h3 id="substractpercentage-6"><a class="header" href="#substractpercentage-6">substractPercentage</a></h3>
<pre><code class="language-solidity">function substractPercentage(uint256 total_, uint8 percentageToSub_) internal pure returns (uint256 result_);
</code></pre>
<h3 id="percentageoftotal-6"><a class="header" href="#percentageoftotal-6">percentageOfTotal</a></h3>
<pre><code class="language-solidity">function percentageOfTotal(uint256 part_, uint256 total_) internal pure returns (uint256 percent_);
</code></pre>
<h3 id="average-6"><a class="header" href="#average-6">average</a></h3>
<p>Taken from Hypersonic https://github.com/M2629/HyperSonic/blob/main/Math.sol</p>
<p><em>Returns the average of two numbers. The result is rounded towards
zero.</em></p>
<pre><code class="language-solidity">function average(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="quadraticpricing-6"><a class="header" href="#quadraticpricing-6">quadraticPricing</a></h3>
<pre><code class="language-solidity">function quadraticPricing(uint256 payment_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<h3 id="bondingcurve-6"><a class="header" href="#bondingcurve-6">bondingCurve</a></h3>
<pre><code class="language-solidity">function bondingCurve(uint256 supply_, uint256 multiplier_) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-6"><a class="header" href="#address-6">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<h2 id="functions-180"><a class="header" href="#functions-180">Functions</a></h2>
<h3 id="iscontract-6"><a class="header" href="#iscontract-6">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-6"><a class="header" href="#sendvalue-6">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-12"><a class="header" href="#functioncall-12">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-13"><a class="header" href="#functioncall-13">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-12"><a class="header" href="#functioncallwithvalue-12">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-13"><a class="header" href="#functioncallwithvalue-13">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-6"><a class="header" href="#_functioncallwithvalue-6">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-12"><a class="header" href="#functionstaticcall-12">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory);
</code></pre>
<h3 id="functionstaticcall-13"><a class="header" href="#functionstaticcall-13">functionStaticCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a static call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionStaticCall(address target, bytes memory data, string memory errorMessage)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-12"><a class="header" href="#functiondelegatecall-12">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functiondelegatecall-13"><a class="header" href="#functiondelegatecall-13">functionDelegateCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-string-}[<code>functionCall</code>],
but performing a delegate call.
<em>Available since v3.3.</em></em></p>
<pre><code class="language-solidity">function functionDelegateCall(address target, bytes memory data, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_verifycallresult-6"><a class="header" href="#_verifycallresult-6">_verifyCallResult</a></h3>
<pre><code class="language-solidity">function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage)
    private
    pure
    returns (bytes memory);
</code></pre>
<h3 id="addresstostring-6"><a class="header" href="#addresstostring-6">addressToString</a></h3>
<pre><code class="language-solidity">function addressToString(address _address) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-10"><a class="header" href="#ierc20-10">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<h2 id="functions-181"><a class="header" href="#functions-181">Functions</a></h2>
<h3 id="totalsupply-16"><a class="header" href="#totalsupply-16">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-19"><a class="header" href="#balanceof-19">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-32"><a class="header" href="#transfer-32">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-17"><a class="header" href="#allowance-17">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-18"><a class="header" href="#approve-18">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-17"><a class="header" href="#transferfrom-17">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-45"><a class="header" href="#events-45">Events</a></h2>
<h3 id="transfer-33"><a class="header" href="#transfer-33">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-14"><a class="header" href="#approval-14">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20-2"><a class="header" href="#erc20-2">ERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<h2 id="state-variables-37"><a class="header" href="#state-variables-37">State Variables</a></h2>
<h3 id="erc20token_erc1820_interface_id-2"><a class="header" href="#erc20token_erc1820_interface_id-2">ERC20TOKEN_ERC1820_INTERFACE_ID</a></h3>
<pre><code class="language-solidity">bytes32 private constant ERC20TOKEN_ERC1820_INTERFACE_ID = keccak256(&quot;ERC20Token&quot;);
</code></pre>
<h3 id="_balances-2"><a class="header" href="#_balances-2">_balances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal _balances;
</code></pre>
<h3 id="_allowances-2"><a class="header" href="#_allowances-2">_allowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal _allowances;
</code></pre>
<h3 id="_totalsupply-2"><a class="header" href="#_totalsupply-2">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 internal _totalSupply;
</code></pre>
<h3 id="_name-2"><a class="header" href="#_name-2">_name</a></h3>
<pre><code class="language-solidity">string internal _name;
</code></pre>
<h3 id="_symbol-2"><a class="header" href="#_symbol-2">_symbol</a></h3>
<pre><code class="language-solidity">string internal _symbol;
</code></pre>
<h3 id="_decimals-2"><a class="header" href="#_decimals-2">_decimals</a></h3>
<pre><code class="language-solidity">uint8 internal _decimals;
</code></pre>
<h2 id="functions-182"><a class="header" href="#functions-182">Functions</a></h2>
<h3 id="constructor-27"><a class="header" href="#constructor-27">constructor</a></h3>
<p><em>Sets the values for {name} and {symbol}, initializes {decimals} with
a default value of 18.
To select a different value for {decimals}, use {_setupDecimals}.
All three of these values are immutable: they can only be set once during
construction.</em></p>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_);
</code></pre>
<h3 id="name-6"><a class="header" href="#name-6">name</a></h3>
<p><em>Returns the name of the token.</em></p>
<pre><code class="language-solidity">function name() public view returns (string memory);
</code></pre>
<h3 id="symbol-6"><a class="header" href="#symbol-6">symbol</a></h3>
<p><em>Returns the symbol of the token, usually a shorter version of the
name.</em></p>
<pre><code class="language-solidity">function symbol() public view returns (string memory);
</code></pre>
<h3 id="decimals-10"><a class="header" href="#decimals-10">decimals</a></h3>
<p><em>Returns the number of decimals used to get its user representation.
For example, if <code>decimals</code> equals <code>2</code>, a balance of <code>505</code> tokens should
be displayed to a user as <code>5,05</code> (<code>505 / 10 ** 2</code>).
Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is
called.
NOTE: This information is only used for <em>display</em> purposes: it in
no way affects any of the arithmetic of the contract, including
{IERC20-balanceOf} and {IERC20-transfer}.</em></p>
<pre><code class="language-solidity">function decimals() public view returns (uint8);
</code></pre>
<h3 id="totalsupply-17"><a class="header" href="#totalsupply-17">totalSupply</a></h3>
<p><em>See {IERC20-totalSupply}.</em></p>
<pre><code class="language-solidity">function totalSupply() public view override returns (uint256);
</code></pre>
<h3 id="balanceof-20"><a class="header" href="#balanceof-20">balanceOf</a></h3>
<p><em>See {IERC20-balanceOf}.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) public view virtual override returns (uint256);
</code></pre>
<h3 id="transfer-34"><a class="header" href="#transfer-34">transfer</a></h3>
<p>*See {IERC20-transfer}.
Requirements:</p>
<ul>
<li><code>recipient</code> cannot be the zero address.</li>
<li>the caller must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="allowance-18"><a class="header" href="#allowance-18">allowance</a></h3>
<p><em>See {IERC20-allowance}.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) public view virtual override returns (uint256);
</code></pre>
<h3 id="approve-19"><a class="header" href="#approve-19">approve</a></h3>
<p>*See {IERC20-approve}.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="transferfrom-18"><a class="header" href="#transferfrom-18">transferFrom</a></h3>
<p>*See {IERC20-transferFrom}.
Emits an {Approval} event indicating the updated allowance. This is not
required by the EIP. See the note at the beginning of {ERC20}.
Requirements:</p>
<ul>
<li><code>sender</code> and <code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.</li>
<li>the caller must have allowance for <code>sender</code>'s tokens of at least
<code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="increaseallowance-3"><a class="header" href="#increaseallowance-3">increaseAllowance</a></h3>
<p>*Atomically increases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool);
</code></pre>
<h3 id="decreaseallowance-3"><a class="header" href="#decreaseallowance-3">decreaseAllowance</a></h3>
<p>*Atomically decreases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>spender</code> must have allowance for the caller of at least
<code>subtractedValue</code>.*</li>
</ul>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool);
</code></pre>
<h3 id="_transfer-2"><a class="header" href="#_transfer-2">_transfer</a></h3>
<p>*Moves tokens <code>amount</code> from <code>sender</code> to <code>recipient</code>.
This is internal function is equivalent to {transfer}, and can be used to
e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a {Transfer} event.
Requirements:</p>
<ul>
<li><code>sender</code> cannot be the zero address.</li>
<li><code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function _transfer(address sender, address recipient, uint256 amount) internal virtual;
</code></pre>
<h3 id="_mint-2"><a class="header" href="#_mint-2">_mint</a></h3>
<p>*Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.
Emits a {Transfer} event with <code>from</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>to</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _mint(address account_, uint256 ammount_) internal virtual;
</code></pre>
<h3 id="_burn-2"><a class="header" href="#_burn-2">_burn</a></h3>
<p>*Destroys <code>amount</code> tokens from <code>account</code>, reducing the
total supply.
Emits a {Transfer} event with <code>to</code> set to the zero address.
Requirements:</p>
<ul>
<li><code>account</code> cannot be the zero address.</li>
<li><code>account</code> must have at least <code>amount</code> tokens.*</li>
</ul>
<pre><code class="language-solidity">function _burn(address account, uint256 amount) internal virtual;
</code></pre>
<h3 id="_approve-3"><a class="header" href="#_approve-3">_approve</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over the <code>owner</code> s tokens.
This internal function is equivalent to <code>approve</code>, and can be used to
e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 amount) internal virtual;
</code></pre>
<h3 id="_beforetokentransfer-3"><a class="header" href="#_beforetokentransfer-3">_beforeTokenTransfer</a></h3>
<p><em>Sets {decimals} to a value other than the default one of 18.
WARNING: This function should only be called from the constructor. Most
applications that interact with token contracts will not expect
{decimals} to ever change, and may work incorrectly if it does.</em></p>
<p>*Hook that is called before any transfer of tokens. This includes
minting and burning.
Calling conditions:</p>
<ul>
<li>when <code>from</code> and <code>to</code> are both non-zero, <code>amount</code> of <code>from</code>'s tokens
will be to transferred to <code>to</code>.</li>
<li>when <code>from</code> is zero, <code>amount</code> tokens will be minted for <code>to</code>.</li>
<li>when <code>to</code> is zero, <code>amount</code> of <code>from</code>'s tokens will be burned.</li>
<li><code>from</code> and <code>to</code> are never both zero.
To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="counters-2"><a class="header" href="#counters-2">Counters</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<h2 id="functions-183"><a class="header" href="#functions-183">Functions</a></h2>
<h3 id="current-2"><a class="header" href="#current-2">current</a></h3>
<pre><code class="language-solidity">function current(Counter storage counter) internal view returns (uint256);
</code></pre>
<h3 id="increment-2"><a class="header" href="#increment-2">increment</a></h3>
<pre><code class="language-solidity">function increment(Counter storage counter) internal;
</code></pre>
<h3 id="decrement-2"><a class="header" href="#decrement-2">decrement</a></h3>
<pre><code class="language-solidity">function decrement(Counter storage counter) internal;
</code></pre>
<h2 id="structs-18"><a class="header" href="#structs-18">Structs</a></h2>
<h3 id="counter-2"><a class="header" href="#counter-2">Counter</a></h3>
<pre><code class="language-solidity">struct Counter {
    uint256 _value;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc2612permit-2"><a class="header" href="#ierc2612permit-2">IERC2612Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<h2 id="functions-184"><a class="header" href="#functions-184">Functions</a></h2>
<h3 id="permit-7"><a class="header" href="#permit-7">permit</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over <code>owner</code>'s tokens,
given <code>owner</code>'s signed approval.
IMPORTANT: The same issues {IERC20-approve} has related to transaction
ordering also apply here.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>deadline</code> must be a timestamp in the future.</li>
<li><code>v</code>, <code>r</code> and <code>s</code> must be a valid <code>secp256k1</code> signature from <code>owner</code>
over the EIP712-formatted function arguments.</li>
<li>the signature must use <code>owner</code>'s current nonce (see {nonces}).
For more information on the signature format, see the
https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP
section].*</li>
</ul>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="nonces-7"><a class="header" href="#nonces-7">nonces</a></h3>
<p><em>Returns the current ERC2612 nonce for <code>owner</code>. This value must be
included whenever a signature is generated for {permit}.
Every successful call to {permit} increases <code>owner</code>'s nonce by one. This
prevents a signature from being used multiple times.</em></p>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20permit-2"><a class="header" href="#erc20permit-2">ERC20Permit</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a>, <a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/tokens/regular/KlimaToken.sol/interface.IERC2612Permit.html">IERC2612Permit</a></p>
<h2 id="state-variables-38"><a class="header" href="#state-variables-38">State Variables</a></h2>
<h3 id="_nonces-2"><a class="header" href="#_nonces-2">_nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Counters.Counter) private _nonces;
</code></pre>
<h3 id="permit_typehash-5"><a class="header" href="#permit_typehash-5">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 public constant PERMIT_TYPEHASH = 0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9;
</code></pre>
<h3 id="domain_separator-5"><a class="header" href="#domain_separator-5">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">bytes32 public DOMAIN_SEPARATOR;
</code></pre>
<h2 id="functions-185"><a class="header" href="#functions-185">Functions</a></h2>
<h3 id="constructor-28"><a class="header" href="#constructor-28">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="permit-8"><a class="header" href="#permit-8">permit</a></h3>
<p><em>See {IERC2612Permit-permit}.</em></p>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 amount, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    public
    virtual
    override;
</code></pre>
<h3 id="nonces-8"><a class="header" href="#nonces-8">nonces</a></h3>
<p><em>See {IERC2612Permit-nonces}.</em></p>
<pre><code class="language-solidity">function nonces(address owner) public view override returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iownable-5"><a class="header" href="#iownable-5">IOwnable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<h2 id="functions-186"><a class="header" href="#functions-186">Functions</a></h2>
<h3 id="manager-6"><a class="header" href="#manager-6">manager</a></h3>
<pre><code class="language-solidity">function manager() external view returns (address);
</code></pre>
<h3 id="renouncemanagement-6"><a class="header" href="#renouncemanagement-6">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() external;
</code></pre>
<h3 id="pushmanagement-6"><a class="header" href="#pushmanagement-6">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) external;
</code></pre>
<h3 id="pullmanagement-6"><a class="header" href="#pullmanagement-6">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ownable-5"><a class="header" href="#ownable-5">Ownable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/interface.IOwnable.html">IOwnable</a></p>
<h2 id="state-variables-39"><a class="header" href="#state-variables-39">State Variables</a></h2>
<h3 id="_owner-5"><a class="header" href="#_owner-5">_owner</a></h3>
<pre><code class="language-solidity">address internal _owner;
</code></pre>
<h3 id="_newowner-3"><a class="header" href="#_newowner-3">_newOwner</a></h3>
<pre><code class="language-solidity">address internal _newOwner;
</code></pre>
<h2 id="functions-187"><a class="header" href="#functions-187">Functions</a></h2>
<h3 id="constructor-29"><a class="header" href="#constructor-29">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="manager-7"><a class="header" href="#manager-7">manager</a></h3>
<pre><code class="language-solidity">function manager() public view override returns (address);
</code></pre>
<h3 id="onlymanager-3"><a class="header" href="#onlymanager-3">onlyManager</a></h3>
<pre><code class="language-solidity">modifier onlyManager();
</code></pre>
<h3 id="renouncemanagement-7"><a class="header" href="#renouncemanagement-7">renounceManagement</a></h3>
<pre><code class="language-solidity">function renounceManagement() public virtual override onlyManager;
</code></pre>
<h3 id="pushmanagement-7"><a class="header" href="#pushmanagement-7">pushManagement</a></h3>
<pre><code class="language-solidity">function pushManagement(address newOwner_) public virtual override onlyManager;
</code></pre>
<h3 id="pullmanagement-7"><a class="header" href="#pullmanagement-7">pullManagement</a></h3>
<pre><code class="language-solidity">function pullManagement() public virtual override;
</code></pre>
<h2 id="events-46"><a class="header" href="#events-46">Events</a></h2>
<h3 id="ownershippushed-3"><a class="header" href="#ownershippushed-3">OwnershipPushed</a></h3>
<pre><code class="language-solidity">event OwnershipPushed(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="ownershippulled-3"><a class="header" href="#ownershippulled-3">OwnershipPulled</a></h3>
<pre><code class="language-solidity">event OwnershipPulled(address indexed previousOwner, address indexed newOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sklimav2"><a class="header" href="#sklimav2">sKLIMAv2</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/sKlimaToken_v2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20Permit.html">ERC20Permit</a>, <a href="src/protocol/tokens/regular/sKlimaToken_v2.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<h2 id="state-variables-40"><a class="header" href="#state-variables-40">State Variables</a></h2>
<h3 id="stakingcontract-1"><a class="header" href="#stakingcontract-1">stakingContract</a></h3>
<pre><code class="language-solidity">address public stakingContract;
</code></pre>
<h3 id="initializer"><a class="header" href="#initializer">initializer</a></h3>
<pre><code class="language-solidity">address public initializer;
</code></pre>
<h3 id="rebases"><a class="header" href="#rebases">rebases</a></h3>
<pre><code class="language-solidity">Rebase[] public rebases;
</code></pre>
<h3 id="index-2"><a class="header" href="#index-2">INDEX</a></h3>
<pre><code class="language-solidity">uint256 public INDEX;
</code></pre>
<h3 id="max_uint256-1"><a class="header" href="#max_uint256-1">MAX_UINT256</a></h3>
<pre><code class="language-solidity">uint256 private constant MAX_UINT256 = ~uint256(0);
</code></pre>
<h3 id="initial_fragments_supply-1"><a class="header" href="#initial_fragments_supply-1">INITIAL_FRAGMENTS_SUPPLY</a></h3>
<pre><code class="language-solidity">uint256 private constant INITIAL_FRAGMENTS_SUPPLY = 5_000_000 * 10 ** 9;
</code></pre>
<h3 id="total_gons-1"><a class="header" href="#total_gons-1">TOTAL_GONS</a></h3>
<pre><code class="language-solidity">uint256 private constant TOTAL_GONS = MAX_UINT256 - (MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY);
</code></pre>
<h3 id="max_supply-1"><a class="header" href="#max_supply-1">MAX_SUPPLY</a></h3>
<pre><code class="language-solidity">uint256 private constant MAX_SUPPLY = ~uint128(0);
</code></pre>
<h3 id="_gonsperfragment-1"><a class="header" href="#_gonsperfragment-1">_gonsPerFragment</a></h3>
<pre><code class="language-solidity">uint256 private _gonsPerFragment;
</code></pre>
<h3 id="_gonbalances-1"><a class="header" href="#_gonbalances-1">_gonBalances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) private _gonBalances;
</code></pre>
<h3 id="_allowedvalue"><a class="header" href="#_allowedvalue">_allowedValue</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) private _allowedValue;
</code></pre>
<h2 id="functions-188"><a class="header" href="#functions-188">Functions</a></h2>
<h3 id="onlystakingcontract"><a class="header" href="#onlystakingcontract">onlyStakingContract</a></h3>
<pre><code class="language-solidity">modifier onlyStakingContract();
</code></pre>
<h3 id="constructor-30"><a class="header" href="#constructor-30">constructor</a></h3>
<pre><code class="language-solidity">constructor() ERC20(&quot;Staked Klima&quot;, &quot;sKLIMA&quot;, 9) ERC20Permit;
</code></pre>
<h3 id="initialize-5"><a class="header" href="#initialize-5">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address stakingContract_) external returns (bool);
</code></pre>
<h3 id="setindex"><a class="header" href="#setindex">setIndex</a></h3>
<pre><code class="language-solidity">function setIndex(uint256 _INDEX) external onlyManager returns (bool);
</code></pre>
<h3 id="rebase-3"><a class="header" href="#rebase-3">rebase</a></h3>
<p>increases sKLIMA supply to increase staking balances relative to profit_</p>
<pre><code class="language-solidity">function rebase(uint256 profit_, uint256 epoch_) public onlyStakingContract returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>profit_</code></td><td><code>uint256</code></td><td>uint256</td></tr>
<tr><td><code>epoch_</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256</td></tr>
</tbody></table>
</div>
<h3 id="_storerebase"><a class="header" href="#_storerebase">_storeRebase</a></h3>
<p>emits event with data about rebase</p>
<pre><code class="language-solidity">function _storeRebase(uint256 previousCirculating_, uint256 profit_, uint256 epoch_) internal returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>previousCirculating_</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>profit_</code></td><td><code>uint256</code></td><td>uint</td></tr>
<tr><td><code>epoch_</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="balanceof-21"><a class="header" href="#balanceof-21">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address who) public view override returns (uint256);
</code></pre>
<h3 id="gonsforbalance-1"><a class="header" href="#gonsforbalance-1">gonsForBalance</a></h3>
<pre><code class="language-solidity">function gonsForBalance(uint256 amount) public view returns (uint256);
</code></pre>
<h3 id="balanceforgons-1"><a class="header" href="#balanceforgons-1">balanceForGons</a></h3>
<pre><code class="language-solidity">function balanceForGons(uint256 gons) public view returns (uint256);
</code></pre>
<h3 id="circulatingsupply-2"><a class="header" href="#circulatingsupply-2">circulatingSupply</a></h3>
<pre><code class="language-solidity">function circulatingSupply() public view returns (uint256);
</code></pre>
<h3 id="index-3"><a class="header" href="#index-3">index</a></h3>
<pre><code class="language-solidity">function index() public view returns (uint256);
</code></pre>
<h3 id="transfer-35"><a class="header" href="#transfer-35">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) public override returns (bool);
</code></pre>
<h3 id="allowance-19"><a class="header" href="#allowance-19">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner_, address spender) public view override returns (uint256);
</code></pre>
<h3 id="transferfrom-19"><a class="header" href="#transferfrom-19">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) public override returns (bool);
</code></pre>
<h3 id="approve-20"><a class="header" href="#approve-20">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) public override returns (bool);
</code></pre>
<h3 id="_approve-4"><a class="header" href="#_approve-4">_approve</a></h3>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 value) internal virtual override;
</code></pre>
<h3 id="increaseallowance-4"><a class="header" href="#increaseallowance-4">increaseAllowance</a></h3>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public override returns (bool);
</code></pre>
<h3 id="decreaseallowance-4"><a class="header" href="#decreaseallowance-4">decreaseAllowance</a></h3>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public override returns (bool);
</code></pre>
<h2 id="events-47"><a class="header" href="#events-47">Events</a></h2>
<h3 id="logsupply"><a class="header" href="#logsupply">LogSupply</a></h3>
<pre><code class="language-solidity">event LogSupply(uint256 indexed epoch, uint256 timestamp, uint256 totalSupply);
</code></pre>
<h3 id="logrebase-1"><a class="header" href="#logrebase-1">LogRebase</a></h3>
<pre><code class="language-solidity">event LogRebase(uint256 indexed epoch, uint256 rebase, uint256 index);
</code></pre>
<h3 id="logstakingcontractupdated"><a class="header" href="#logstakingcontractupdated">LogStakingContractUpdated</a></h3>
<pre><code class="language-solidity">event LogStakingContractUpdated(address stakingContract);
</code></pre>
<h2 id="structs-19"><a class="header" href="#structs-19">Structs</a></h2>
<h3 id="rebase-4"><a class="header" href="#rebase-4">Rebase</a></h3>
<pre><code class="language-solidity">struct Rebase {
    uint256 epoch;
    uint256 rebase;
    uint256 totalStakedBefore;
    uint256 totalStakedAfter;
    uint256 amountRebased;
    uint256 index;
    uint256 blockNumberOccured;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20-11"><a class="header" href="#ierc20-11">IERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p>Submitted for verification at Etherscan.io on 2021-06-12</p>
<p><em>Interface of the ERC20 standard as defined in the EIP.</em></p>
<h2 id="functions-189"><a class="header" href="#functions-189">Functions</a></h2>
<h3 id="totalsupply-18"><a class="header" href="#totalsupply-18">totalSupply</a></h3>
<p><em>Returns the amount of tokens in existence.</em></p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-22"><a class="header" href="#balanceof-22">balanceOf</a></h3>
<p><em>Returns the amount of tokens owned by <code>account</code>.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<h3 id="transfer-36"><a class="header" href="#transfer-36">transfer</a></h3>
<p><em>Moves <code>amount</code> tokens from the caller's account to <code>recipient</code>.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<h3 id="allowance-20"><a class="header" href="#allowance-20">allowance</a></h3>
<p><em>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through {transferFrom}. This is
zero by default.
This value changes when {approve} or {transferFrom} are called.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-21"><a class="header" href="#approve-21">approve</a></h3>
<p><em>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller's tokens.
Returns a boolean value indicating whether the operation succeeded.
IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
Emits an {Approval} event.</em></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-20"><a class="header" href="#transferfrom-20">transferFrom</a></h3>
<p><em>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller's
allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a {Transfer} event.</em></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<h2 id="events-48"><a class="header" href="#events-48">Events</a></h2>
<h3 id="transfer-37"><a class="header" href="#transfer-37">Transfer</a></h3>
<p><em>Emitted when <code>value</code> tokens are moved from one account (<code>from</code>) to
another (<code>to</code>).
Note that <code>value</code> may be zero.</em></p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="approval-15"><a class="header" href="#approval-15">Approval</a></h3>
<p><em>Emitted when the allowance of a <code>spender</code> for an <code>owner</code> is set by
a call to {approve}. <code>value</code> is the new allowance.</em></p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safemath-9"><a class="header" href="#safemath-9">SafeMath</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p><em>Wrappers over Solidity's arithmetic operations with added overflow
checks.
Arithmetic operations in Solidity wrap on overflow. This can easily result
in bugs, because programmers usually assume that an overflow raises an
error, which is the standard behavior in high level programming languages.
<code>SafeMath</code> restores this intuition by reverting the transaction when an
operation overflows.
Using this library instead of the unchecked operations eliminates an entire
class of bugs, so it's recommended to use it always.</em></p>
<h2 id="functions-190"><a class="header" href="#functions-190">Functions</a></h2>
<h3 id="add-15"><a class="header" href="#add-15">add</a></h3>
<p>*Returns the addition of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>+</code> operator.
Requirements:</p>
<ul>
<li>Addition cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-19"><a class="header" href="#sub-19">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub-20"><a class="header" href="#sub-20">sub</a></h3>
<p>*Returns the subtraction of two unsigned integers, reverting with custom message on
overflow (when the result is negative).
Counterpart to Solidity's <code>-</code> operator.
Requirements:</p>
<ul>
<li>Subtraction cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mul-10"><a class="header" href="#mul-10">mul</a></h3>
<p>*Returns the multiplication of two unsigned integers, reverting on
overflow.
Counterpart to Solidity's <code>*</code> operator.
Requirements:</p>
<ul>
<li>Multiplication cannot overflow.*</li>
</ul>
<pre><code class="language-solidity">function mul(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-18"><a class="header" href="#div-18">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div-19"><a class="header" href="#div-19">div</a></h3>
<p>*Returns the integer division of two unsigned integers. Reverts with custom message on
division by zero. The result is rounded towards zero.
Counterpart to Solidity's <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<h3 id="mod-16"><a class="header" href="#mod-16">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mod-17"><a class="header" href="#mod-17">mod</a></h3>
<p>*Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts with custom message when dividing by zero.
Counterpart to Solidity's <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).
Requirements:</p>
<ul>
<li>The divisor cannot be zero.*</li>
</ul>
<pre><code class="language-solidity">function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="address-7"><a class="header" href="#address-7">Address</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p><em>Collection of functions related to the address type</em></p>
<h2 id="functions-191"><a class="header" href="#functions-191">Functions</a></h2>
<h3 id="iscontract-7"><a class="header" href="#iscontract-7">isContract</a></h3>
<h1>*Returns true if <code>account</code> is a contract.
[IMPORTANT]</h1>
<p>It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.
Among others, <code>isContract</code> will return false for the following
types of addresses:</p>
<ul>
<li>an externally-owned account</li>
<li>a contract in construction</li>
<li>an address where a contract will be created</li>
<li>an address where a contract lived, but was destroyed
====*</li>
</ul>
<pre><code class="language-solidity">function isContract(address account) internal view returns (bool);
</code></pre>
<h3 id="sendvalue-7"><a class="header" href="#sendvalue-7">sendValue</a></h3>
<p><em>Replacement for Solidity's <code>transfer</code>: sends <code>amount</code> wei to
<code>recipient</code>, forwarding all available gas and reverting on errors.
https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by <code>transfer</code>, making them unable to receive funds via
<code>transfer</code>. {sendValue} removes this limitation.
https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
IMPORTANT: because control is transferred to <code>recipient</code>, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</em></p>
<pre><code class="language-solidity">function sendValue(address payable recipient, uint256 amount) internal;
</code></pre>
<h3 id="functioncall-14"><a class="header" href="#functioncall-14">functionCall</a></h3>
<p>*Performs a Solidity function call using a low level <code>call</code>. A
plain<code>call</code> is an unsafe replacement for a function call: use this
function instead.
If <code>target</code> reverts with a revert reason, it is bubbled up by this
function (like regular Solidity function calls).
Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[<code>abi.decode</code>].
Requirements:</p>
<ul>
<li><code>target</code> must be a contract.</li>
<li>calling <code>target</code> with <code>data</code> must not revert.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data) internal returns (bytes memory);
</code></pre>
<h3 id="functioncall-15"><a class="header" href="#functioncall-15">functionCall</a></h3>
<p><em>Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>], but with
<code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-14"><a class="header" href="#functioncallwithvalue-14">functionCallWithValue</a></h3>
<p>*Same as {xref-Address-functionCall-address-bytes-}[<code>functionCall</code>],
but also transferring <code>value</code> wei to <code>target</code>.
Requirements:</p>
<ul>
<li>the calling contract must have an ETH balance of at least <code>value</code>.</li>
<li>the called Solidity function must be <code>payable</code>.
<em>Available since v3.1.</em>*</li>
</ul>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory);
</code></pre>
<h3 id="functioncallwithvalue-15"><a class="header" href="#functioncallwithvalue-15">functionCallWithValue</a></h3>
<p><em>Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[<code>functionCallWithValue</code>], but
with <code>errorMessage</code> as a fallback revert reason when <code>target</code> reverts.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="_functioncallwithvalue-7"><a class="header" href="#_functioncallwithvalue-7">_functionCallWithValue</a></h3>
<pre><code class="language-solidity">function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage)
    private
    returns (bytes memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20-3"><a class="header" href="#erc20-3">ERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/wsKLIMA.sol//src/protocol/staking/regular/KlimaStakingDistributor_v4.sol/interface.IERC20.html">IERC20</a></p>
<p><em>Implementation of the {IERC20} interface.
This implementation is agnostic to the way tokens are created. This means
that a supply mechanism has to be added in a derived contract using {_mint}.
For a generic mechanism see {ERC20PresetMinterPauser}.
TIP: For a detailed writeup see our guide
https://forum.zeppelin.solutions/t/how-to-implement-erc20-supply-mechanisms/226[How
to implement supply mechanisms].
We have followed general OpenZeppelin guidelines: functions revert instead
of returning <code>false</code> on failure. This behavior is nonetheless conventional
and does not conflict with the expectations of ERC20 applications.
Additionally, an {Approval} event is emitted on calls to {transferFrom}.
This allows applications to reconstruct the allowance for all accounts just
by listening to said events. Other implementations of the EIP may not emit
these events, as it isn't required by the specification.
Finally, the non-standard {decreaseAllowance} and {increaseAllowance}
functions have been added to mitigate the well-known issues around setting
allowances. See {IERC20-approve}.</em></p>
<h2 id="state-variables-41"><a class="header" href="#state-variables-41">State Variables</a></h2>
<h3 id="_balances-3"><a class="header" href="#_balances-3">_balances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) private _balances;
</code></pre>
<h3 id="_allowances-3"><a class="header" href="#_allowances-3">_allowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) private _allowances;
</code></pre>
<h3 id="_totalsupply-3"><a class="header" href="#_totalsupply-3">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 private _totalSupply;
</code></pre>
<h3 id="_name-3"><a class="header" href="#_name-3">_name</a></h3>
<pre><code class="language-solidity">string private _name;
</code></pre>
<h3 id="_symbol-3"><a class="header" href="#_symbol-3">_symbol</a></h3>
<pre><code class="language-solidity">string private _symbol;
</code></pre>
<h3 id="_decimals-3"><a class="header" href="#_decimals-3">_decimals</a></h3>
<pre><code class="language-solidity">uint8 private _decimals;
</code></pre>
<h2 id="functions-192"><a class="header" href="#functions-192">Functions</a></h2>
<h3 id="constructor-31"><a class="header" href="#constructor-31">constructor</a></h3>
<p><em>Sets the values for {name} and {symbol}, initializes {decimals} with
a default value of 18.
To select a different value for {decimals}, use {_setupDecimals}.
All three of these values are immutable: they can only be set once during
construction.</em></p>
<pre><code class="language-solidity">constructor(string memory name, string memory symbol);
</code></pre>
<h3 id="name-7"><a class="header" href="#name-7">name</a></h3>
<p><em>Returns the name of the token.</em></p>
<pre><code class="language-solidity">function name() public view returns (string memory);
</code></pre>
<h3 id="symbol-7"><a class="header" href="#symbol-7">symbol</a></h3>
<p><em>Returns the symbol of the token, usually a shorter version of the
name.</em></p>
<pre><code class="language-solidity">function symbol() public view returns (string memory);
</code></pre>
<h3 id="decimals-11"><a class="header" href="#decimals-11">decimals</a></h3>
<p><em>Returns the number of decimals used to get its user representation.
For example, if <code>decimals</code> equals <code>2</code>, a balance of <code>505</code> tokens should
be displayed to a user as <code>5,05</code> (<code>505 / 10 ** 2</code>).
Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is
called.
NOTE: This information is only used for <em>display</em> purposes: it in
no way affects any of the arithmetic of the contract, including
{IERC20-balanceOf} and {IERC20-transfer}.</em></p>
<pre><code class="language-solidity">function decimals() public view returns (uint8);
</code></pre>
<h3 id="totalsupply-19"><a class="header" href="#totalsupply-19">totalSupply</a></h3>
<p><em>See {IERC20-totalSupply}.</em></p>
<pre><code class="language-solidity">function totalSupply() public view override returns (uint256);
</code></pre>
<h3 id="balanceof-23"><a class="header" href="#balanceof-23">balanceOf</a></h3>
<p><em>See {IERC20-balanceOf}.</em></p>
<pre><code class="language-solidity">function balanceOf(address account) public view override returns (uint256);
</code></pre>
<h3 id="transfer-38"><a class="header" href="#transfer-38">transfer</a></h3>
<p>*See {IERC20-transfer}.
Requirements:</p>
<ul>
<li><code>recipient</code> cannot be the zero address.</li>
<li>the caller must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="allowance-21"><a class="header" href="#allowance-21">allowance</a></h3>
<p><em>See {IERC20-allowance}.</em></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) public view virtual override returns (uint256);
</code></pre>
<h3 id="approve-22"><a class="header" href="#approve-22">approve</a></h3>
<p>*See {IERC20-approve}.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="transferfrom-21"><a class="header" href="#transferfrom-21">transferFrom</a></h3>
<p>*See {IERC20-transferFrom}.
Emits an {Approval} event indicating the updated allowance. This is not
required by the EIP. See the note at the beginning of {ERC20};
Requirements:</p>
<ul>
<li><code>sender</code> and <code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.</li>
<li>the caller must have allowance for <code>sender</code>'s tokens of at least
<code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool);
</code></pre>
<h3 id="increaseallowance-5"><a class="header" href="#increaseallowance-5">increaseAllowance</a></h3>
<p>*Atomically increases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool);
</code></pre>
<h3 id="decreaseallowance-5"><a class="header" href="#decreaseallowance-5">decreaseAllowance</a></h3>
<p>*Atomically decreases the allowance granted to <code>spender</code> by the caller.
This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.
Emits an {Approval} event indicating the updated allowance.
Requirements:</p>
<ul>
<li><code>spender</code> cannot be the zero address.</li>
<li><code>spender</code> must have allowance for the caller of at least
<code>subtractedValue</code>.*</li>
</ul>
<pre><code class="language-solidity">function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool);
</code></pre>
<h3 id="_transfer-3"><a class="header" href="#_transfer-3">_transfer</a></h3>
<p>*Moves tokens <code>amount</code> from <code>sender</code> to <code>recipient</code>.
This is internal function is equivalent to {transfer}, and can be used to
e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a {Transfer} event.
Requirements:</p>
<ul>
<li><code>sender</code> cannot be the zero address.</li>
<li><code>recipient</code> cannot be the zero address.</li>
<li><code>sender</code> must have a balance of at least <code>amount</code>.*</li>
</ul>
<pre><code class="language-solidity">function _transfer(address sender, address recipient, uint256 amount) internal virtual;
</code></pre>
<h3 id="_mint-3"><a class="header" href="#_mint-3">_mint</a></h3>
<p>*Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.
Emits a {Transfer} event with <code>from</code> set to the zero address.
Requirements</p>
<ul>
<li><code>to</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _mint(address account, uint256 amount) internal virtual;
</code></pre>
<h3 id="_burn-3"><a class="header" href="#_burn-3">_burn</a></h3>
<p>*Destroys <code>amount</code> tokens from <code>account</code>, reducing the
total supply.
Emits a {Transfer} event with <code>to</code> set to the zero address.
Requirements</p>
<ul>
<li><code>account</code> cannot be the zero address.</li>
<li><code>account</code> must have at least <code>amount</code> tokens.*</li>
</ul>
<pre><code class="language-solidity">function _burn(address account, uint256 amount) internal virtual;
</code></pre>
<h3 id="_approve-5"><a class="header" href="#_approve-5">_approve</a></h3>
<p>*Sets <code>amount</code> as the allowance of <code>spender</code> over the <code>owner</code> s tokens.
This internal function is equivalent to <code>approve</code>, and can be used to
e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:</p>
<ul>
<li><code>owner</code> cannot be the zero address.</li>
<li><code>spender</code> cannot be the zero address.*</li>
</ul>
<pre><code class="language-solidity">function _approve(address owner, address spender, uint256 amount) internal virtual;
</code></pre>
<h3 id="_setupdecimals"><a class="header" href="#_setupdecimals">_setupDecimals</a></h3>
<p><em>Sets {decimals} to a value other than the default one of 18.
WARNING: This function should only be called from the constructor. Most
applications that interact with token contracts will not expect
{decimals} to ever change, and may work incorrectly if it does.</em></p>
<pre><code class="language-solidity">function _setupDecimals(uint8 decimals_) internal;
</code></pre>
<h3 id="_beforetokentransfer-4"><a class="header" href="#_beforetokentransfer-4">_beforeTokenTransfer</a></h3>
<p>*Hook that is called before any transfer of tokens. This includes
minting and burning.
Calling conditions:</p>
<ul>
<li>when <code>from</code> and <code>to</code> are both non-zero, <code>amount</code> of <code>from</code>'s tokens
will be to transferred to <code>to</code>.</li>
<li>when <code>from</code> is zero, <code>amount</code> tokens will be minted for <code>to</code>.</li>
<li>when <code>to</code> is zero, <code>amount</code> of <code>from</code>'s tokens will be burned.</li>
<li><code>from</code> and <code>to</code> are never both zero.
To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20-5"><a class="header" href="#safeerc20-5">SafeERC20</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p><em>Wrappers around ERC20 operations that throw on failure (when the token
contract returns false). Tokens that return no value (and instead revert or
throw on failure) are also supported, non-reverting calls are assumed to be
successful.
To use this library you can add a <code>using SafeERC20 for IERC20;</code> statement to your contract,
which allows you to call the safe operations as <code>token.safeTransfer(...)</code>, etc.</em></p>
<h2 id="functions-193"><a class="header" href="#functions-193">Functions</a></h2>
<h3 id="safetransfer-6"><a class="header" href="#safetransfer-6">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20 token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-6"><a class="header" href="#safetransferfrom-6">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-6"><a class="header" href="#safeapprove-6">safeApprove</a></h3>
<p><em>Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.
Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead.</em></p>
<pre><code class="language-solidity">function safeApprove(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance-5"><a class="header" href="#safeincreaseallowance-5">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance-5"><a class="header" href="#safedecreaseallowance-5">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn-5"><a class="header" href="#_calloptionalreturn-5">_callOptionalReturn</a></h3>
<p><em>Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement
on the return value: the return value is optional (but if data is returned, it must not be false).</em></p>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20 token, bytes memory data) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The token targeted by the call.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The call data (encoded using abi.encode or one of its variants).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="isklima-1"><a class="header" href="#isklima-1">IsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<h2 id="functions-194"><a class="header" href="#functions-194">Functions</a></h2>
<h3 id="index-4"><a class="header" href="#index-4">index</a></h3>
<pre><code class="language-solidity">function index() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wsklima-3"><a class="header" href="#wsklima-3">wsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/regular/wsKLIMA.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/protocol/tokens/regular/wsKLIMA.sol//src/protocol/tokens/regular/KlimaToken.sol/abstract.ERC20.html">ERC20</a></p>
<h2 id="state-variables-42"><a class="header" href="#state-variables-42">State Variables</a></h2>
<h3 id="sklima-8"><a class="header" href="#sklima-8">sKLIMA</a></h3>
<pre><code class="language-solidity">address public immutable sKLIMA;
</code></pre>
<h2 id="functions-195"><a class="header" href="#functions-195">Functions</a></h2>
<h3 id="constructor-32"><a class="header" href="#constructor-32">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _sKLIMA) ERC20(&quot;Wrapped sKLIMA&quot;, &quot;wsKLIMA&quot;);
</code></pre>
<h3 id="wrap-3"><a class="header" href="#wrap-3">wrap</a></h3>
<p>wrap sKLIMA</p>
<pre><code class="language-solidity">function wrap(uint256 _amount) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-3"><a class="header" href="#unwrap-3">unwrap</a></h3>
<p>unwrap sKLIMA</p>
<pre><code class="language-solidity">function unwrap(uint256 _amount) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="wklimatosklima-2"><a class="header" href="#wklimatosklima-2">wKLIMATosKLIMA</a></h3>
<p>converts wKLIMA amount to sKLIMA</p>
<pre><code class="language-solidity">function wKLIMATosKLIMA(uint256 _amount) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<h3 id="sklimatowklima-2"><a class="header" href="#sklimatowklima-2">sKLIMATowKLIMA</a></h3>
<p>converts sKLIMA amount to wKLIMA</p>
<pre><code class="language-solidity">function sKLIMATowKLIMA(uint256 _amount) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-28"><a class="header" href="#contents-28">Contents</a></h1>
<ul>
<li><a href="src/protocol/tokens/upgradeable/AlchemistKlimaUpgradeable.sol/contract.AlchemistKlimaUpgradeable.html">AlchemistKlimaUpgradeable</a></li>
<li><a href="src/protocol/tokens/upgradeable/AlphaKlimaUpgradeable.sol/contract.AlphaKlimaUpgradeable.html">AlphaKlimaUpgradeable</a></li>
<li><a href="src/protocol/tokens/upgradeable/KlimaIDONFT.sol/contract.KlimaIDONFT.html">KlimaIDONFT</a></li>
<li><a href="src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeable.sol/contract.PreKlimaTokenUpgradeable.html">PreKlimaTokenUpgradeable</a></li>
<li><a href="src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeableChild.sol/contract.PreKlimaTokenUpgradeableChild.html">PreKlimaTokenUpgradeableChild</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alchemistklimaupgradeable"><a class="header" href="#alchemistklimaupgradeable">AlchemistKlimaUpgradeable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/upgradeable/AlchemistKlimaUpgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20PresetMinterPauserUpgradeable</p>
<h2 id="state-variables-43"><a class="header" href="#state-variables-43">State Variables</a></h2>
<h3 id="allowminting"><a class="header" href="#allowminting">allowMinting</a></h3>
<pre><code class="language-solidity">bool public allowMinting;
</code></pre>
<h2 id="functions-196"><a class="header" href="#functions-196">Functions</a></h2>
<h3 id="constructor-33"><a class="header" href="#constructor-33">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize-6"><a class="header" href="#initialize-6">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="__alchemistklimaupgradeable_init"><a class="header" href="#__alchemistklimaupgradeable_init">__AlchemistKlimaUpgradeable_init</a></h3>
<pre><code class="language-solidity">function __AlchemistKlimaUpgradeable_init() internal;
</code></pre>
<h3 id="mint-10"><a class="header" href="#mint-10">mint</a></h3>
<pre><code class="language-solidity">function mint(address recipient_, uint256 amount_) public virtual override;
</code></pre>
<h3 id="disableminting"><a class="header" href="#disableminting">disableMinting</a></h3>
<pre><code class="language-solidity">function disableMinting() external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alphaklimaupgradeable"><a class="header" href="#alphaklimaupgradeable">AlphaKlimaUpgradeable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/upgradeable/AlphaKlimaUpgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20PresetFixedSupplyUpgradeable, OwnableUpgradeable</p>
<h2 id="functions-197"><a class="header" href="#functions-197">Functions</a></h2>
<h3 id="constructor-34"><a class="header" href="#constructor-34">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize-7"><a class="header" href="#initialize-7">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="__alphaklimaupgradeable_init"><a class="header" href="#__alphaklimaupgradeable_init">__AlphaKlimaUpgradeable_init</a></h3>
<pre><code class="language-solidity">function __AlphaKlimaUpgradeable_init(address _Klimadmin) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimaidonft"><a class="header" href="#klimaidonft">KlimaIDONFT</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/upgradeable/KlimaIDONFT.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, AccessControlEnumerableUpgradeable, ERC721EnumerableUpgradeable, ERC721BurnableUpgradeable, ERC721PausableUpgradeable</p>
<h2 id="state-variables-44"><a class="header" href="#state-variables-44">State Variables</a></h2>
<h3 id="minter_role"><a class="header" href="#minter_role">MINTER_ROLE</a></h3>
<pre><code class="language-solidity">bytes32 public constant MINTER_ROLE = keccak256(&quot;MINTER_ROLE&quot;);
</code></pre>
<h3 id="pauser_role"><a class="header" href="#pauser_role">PAUSER_ROLE</a></h3>
<pre><code class="language-solidity">bytes32 public constant PAUSER_ROLE = keccak256(&quot;PAUSER_ROLE&quot;);
</code></pre>
<h3 id="_tokenidtracker"><a class="header" href="#_tokenidtracker">_tokenIdTracker</a></h3>
<pre><code class="language-solidity">CountersUpgradeable.Counter private _tokenIdTracker;
</code></pre>
<h3 id="_basetokenuri"><a class="header" href="#_basetokenuri">_baseTokenURI</a></h3>
<pre><code class="language-solidity">string private _baseTokenURI;
</code></pre>
<h3 id="__gap"><a class="header" href="#__gap">__gap</a></h3>
<pre><code class="language-solidity">uint256[48] private __gap;
</code></pre>
<h2 id="functions-198"><a class="header" href="#functions-198">Functions</a></h2>
<h3 id="onlyminter"><a class="header" href="#onlyminter">onlyMinter</a></h3>
<pre><code class="language-solidity">modifier onlyMinter();
</code></pre>
<h3 id="onlypauser"><a class="header" href="#onlypauser">onlyPauser</a></h3>
<pre><code class="language-solidity">modifier onlyPauser();
</code></pre>
<h3 id="constructor-35"><a class="header" href="#constructor-35">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="__klimaidonft_init"><a class="header" href="#__klimaidonft_init">__KlimaIDONFT_init</a></h3>
<pre><code class="language-solidity">function __KlimaIDONFT_init(string memory name, string memory symbol, string memory _TokenURI) public initializer;
</code></pre>
<h3 id="settokenuri"><a class="header" href="#settokenuri">setTokenURI</a></h3>
<pre><code class="language-solidity">function setTokenURI(string memory _TokenURI) public onlyMinter;
</code></pre>
<h3 id="_settokenuri"><a class="header" href="#_settokenuri">_setTokenURI</a></h3>
<pre><code class="language-solidity">function _setTokenURI(string memory _TokenURI) internal;
</code></pre>
<h3 id="tokenuri"><a class="header" href="#tokenuri">tokenURI</a></h3>
<pre><code class="language-solidity">function tokenURI() public view returns (string memory);
</code></pre>
<h3 id="totalsupply-20"><a class="header" href="#totalsupply-20">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() public view override returns (uint256);
</code></pre>
<h3 id="burn-8"><a class="header" href="#burn-8">burn</a></h3>
<pre><code class="language-solidity">function burn(uint256 tokenId) public override;
</code></pre>
<h3 id="_burn-4"><a class="header" href="#_burn-4">_burn</a></h3>
<pre><code class="language-solidity">function _burn(uint256 tokenId) internal virtual override(ERC721Upgradeable);
</code></pre>
<h3 id="mint-11"><a class="header" href="#mint-11">mint</a></h3>
<pre><code class="language-solidity">function mint(address to) public onlyMinter whenPaused;
</code></pre>
<h3 id="batchmint"><a class="header" href="#batchmint">batchMint</a></h3>
<pre><code class="language-solidity">function batchMint(address[] memory _list) public onlyMinter whenPaused;
</code></pre>
<h3 id="pause"><a class="header" href="#pause">pause</a></h3>
<pre><code class="language-solidity">function pause() public virtual onlyPauser;
</code></pre>
<h3 id="unpause"><a class="header" href="#unpause">unpause</a></h3>
<pre><code class="language-solidity">function unpause() public virtual onlyPauser;
</code></pre>
<h3 id="_beforetokentransfer-5"><a class="header" href="#_beforetokentransfer-5">_beforeTokenTransfer</a></h3>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint256 tokenId)
    internal
    virtual
    override(ERC721Upgradeable, ERC721EnumerableUpgradeable, ERC721PausableUpgradeable);
</code></pre>
<h3 id="supportsinterface-2"><a class="header" href="#supportsinterface-2">supportsInterface</a></h3>
<p><em>See {IERC165-supportsInterface}.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    virtual
    override(AccessControlEnumerableUpgradeable, ERC721Upgradeable, ERC721EnumerableUpgradeable)
    returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="preklimatokenupgradeable"><a class="header" href="#preklimatokenupgradeable">PreKlimaTokenUpgradeable</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20PresetFixedSupplyUpgradeable, OwnableUpgradeable</p>
<h2 id="state-variables-45"><a class="header" href="#state-variables-45">State Variables</a></h2>
<h3 id="requiresellerapproval"><a class="header" href="#requiresellerapproval">requireSellerApproval</a></h3>
<pre><code class="language-solidity">bool public requireSellerApproval;
</code></pre>
<h3 id="allowminting-1"><a class="header" href="#allowminting-1">allowMinting</a></h3>
<pre><code class="language-solidity">bool public allowMinting;
</code></pre>
<h3 id="isapprovedseller-1"><a class="header" href="#isapprovedseller-1">isApprovedSeller</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isApprovedSeller;
</code></pre>
<h2 id="functions-199"><a class="header" href="#functions-199">Functions</a></h2>
<h3 id="constructor-36"><a class="header" href="#constructor-36">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize-8"><a class="header" href="#initialize-8">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _Klimadmin) public initializer;
</code></pre>
<h3 id="__preklimatokenupgradeable_init"><a class="header" href="#__preklimatokenupgradeable_init">__PreKlimaTokenUpgradeable_init</a></h3>
<pre><code class="language-solidity">function __PreKlimaTokenUpgradeable_init(address _Klimadmin) internal;
</code></pre>
<h3 id="allowopentrading"><a class="header" href="#allowopentrading">allowOpenTrading</a></h3>
<pre><code class="language-solidity">function allowOpenTrading() external onlyOwner returns (bool);
</code></pre>
<h3 id="disableminting-1"><a class="header" href="#disableminting-1">disableMinting</a></h3>
<pre><code class="language-solidity">function disableMinting() external onlyOwner returns (bool);
</code></pre>
<h3 id="_addapprovedseller"><a class="header" href="#_addapprovedseller">_addApprovedSeller</a></h3>
<pre><code class="language-solidity">function _addApprovedSeller(address approvedSeller_) internal;
</code></pre>
<h3 id="addapprovedseller"><a class="header" href="#addapprovedseller">addApprovedSeller</a></h3>
<pre><code class="language-solidity">function addApprovedSeller(address approvedSeller_) external onlyOwner returns (bool);
</code></pre>
<h3 id="addapprovedsellers"><a class="header" href="#addapprovedsellers">addApprovedSellers</a></h3>
<pre><code class="language-solidity">function addApprovedSellers(address[] calldata approvedSellers_) external onlyOwner returns (bool);
</code></pre>
<h3 id="_removeapprovedseller"><a class="header" href="#_removeapprovedseller">_removeApprovedSeller</a></h3>
<pre><code class="language-solidity">function _removeApprovedSeller(address disapprovedSeller_) internal;
</code></pre>
<h3 id="removeapprovedseller"><a class="header" href="#removeapprovedseller">removeApprovedSeller</a></h3>
<pre><code class="language-solidity">function removeApprovedSeller(address disapprovedSeller_) external onlyOwner returns (bool);
</code></pre>
<h3 id="removeapprovedsellers"><a class="header" href="#removeapprovedsellers">removeApprovedSellers</a></h3>
<pre><code class="language-solidity">function removeApprovedSellers(address[] calldata disapprovedSellers_) external onlyOwner returns (bool);
</code></pre>
<h3 id="_beforetokentransfer-6"><a class="header" href="#_beforetokentransfer-6">_beforeTokenTransfer</a></h3>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal override;
</code></pre>
<h3 id="mint-12"><a class="header" href="#mint-12">mint</a></h3>
<pre><code class="language-solidity">function mint(address recipient_, uint256 amount_) public virtual onlyOwner;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="preklimatokenupgradeablechild"><a class="header" href="#preklimatokenupgradeablechild">PreKlimaTokenUpgradeableChild</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/protocol/tokens/upgradeable/PreKlimaTokenUpgradeableChild.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20PresetFixedSupplyUpgradeable, OwnableUpgradeable</p>
<h2 id="state-variables-46"><a class="header" href="#state-variables-46">State Variables</a></h2>
<h3 id="requiresellerapproval-1"><a class="header" href="#requiresellerapproval-1">requireSellerApproval</a></h3>
<pre><code class="language-solidity">bool public requireSellerApproval;
</code></pre>
<h3 id="allowminting-2"><a class="header" href="#allowminting-2">allowMinting</a></h3>
<pre><code class="language-solidity">bool public allowMinting;
</code></pre>
<h3 id="childchainmanagerproxy"><a class="header" href="#childchainmanagerproxy">childChainManagerProxy</a></h3>
<pre><code class="language-solidity">address public childChainManagerProxy;
</code></pre>
<h3 id="isapprovedseller-2"><a class="header" href="#isapprovedseller-2">isApprovedSeller</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isApprovedSeller;
</code></pre>
<h2 id="functions-200"><a class="header" href="#functions-200">Functions</a></h2>
<h3 id="constructor-37"><a class="header" href="#constructor-37">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initializechild"><a class="header" href="#initializechild">initializeChild</a></h3>
<pre><code class="language-solidity">function initializeChild(address _Klimadmin, address _childChainManagerProxy) public initializer;
</code></pre>
<h3 id="__preklimatokenupgradeablechild_init"><a class="header" href="#__preklimatokenupgradeablechild_init">__PreKlimaTokenUpgradeableChild_init</a></h3>
<pre><code class="language-solidity">function __PreKlimaTokenUpgradeableChild_init(address _Klimadmin, address _childChainManagerProxy)
    internal
    initializer;
</code></pre>
<h3 id="allowopentrading-1"><a class="header" href="#allowopentrading-1">allowOpenTrading</a></h3>
<pre><code class="language-solidity">function allowOpenTrading() external onlyOwner returns (bool);
</code></pre>
<h3 id="disableminting-2"><a class="header" href="#disableminting-2">disableMinting</a></h3>
<pre><code class="language-solidity">function disableMinting() external onlyOwner returns (bool);
</code></pre>
<h3 id="_addapprovedseller-1"><a class="header" href="#_addapprovedseller-1">_addApprovedSeller</a></h3>
<pre><code class="language-solidity">function _addApprovedSeller(address approvedSeller_) internal;
</code></pre>
<h3 id="addapprovedseller-1"><a class="header" href="#addapprovedseller-1">addApprovedSeller</a></h3>
<pre><code class="language-solidity">function addApprovedSeller(address approvedSeller_) external onlyOwner returns (bool);
</code></pre>
<h3 id="addapprovedsellers-1"><a class="header" href="#addapprovedsellers-1">addApprovedSellers</a></h3>
<pre><code class="language-solidity">function addApprovedSellers(address[] calldata approvedSellers_) external onlyOwner returns (bool);
</code></pre>
<h3 id="_removeapprovedseller-1"><a class="header" href="#_removeapprovedseller-1">_removeApprovedSeller</a></h3>
<pre><code class="language-solidity">function _removeApprovedSeller(address disapprovedSeller_) internal;
</code></pre>
<h3 id="removeapprovedseller-1"><a class="header" href="#removeapprovedseller-1">removeApprovedSeller</a></h3>
<pre><code class="language-solidity">function removeApprovedSeller(address disapprovedSeller_) external onlyOwner returns (bool);
</code></pre>
<h3 id="removeapprovedsellers-1"><a class="header" href="#removeapprovedsellers-1">removeApprovedSellers</a></h3>
<pre><code class="language-solidity">function removeApprovedSellers(address[] calldata disapprovedSellers_) external onlyOwner returns (bool);
</code></pre>
<h3 id="_beforetokentransfer-7"><a class="header" href="#_beforetokentransfer-7">_beforeTokenTransfer</a></h3>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from_, address to_, uint256 amount_) internal override;
</code></pre>
<h3 id="mint-13"><a class="header" href="#mint-13">mint</a></h3>
<pre><code class="language-solidity">function mint(address recipient_, uint256 amount_) public virtual onlyOwner;
</code></pre>
<h3 id="deposit-8"><a class="header" href="#deposit-8">deposit</a></h3>
<p>called when token is deposited on root chain</p>
<p><em>Should be callable only by ChildChainManager
Should handle deposit by minting the required amount for user
Make sure minting is done only by this function</em></p>
<pre><code class="language-solidity">function deposit(address user, bytes calldata depositData) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>user address for whom deposit is being done</td></tr>
<tr><td><code>depositData</code></td><td><code>bytes</code></td><td>abi encoded amount</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-4"><a class="header" href="#withdraw-4">withdraw</a></h3>
<p>called when user wants to withdraw tokens back to root chain</p>
<p><em>Should burn user's tokens. This transaction will be verified when exiting on root chain</em></p>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of tokens to withdraw</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-29"><a class="header" href="#contents-29">Contents</a></h1>
<ul>
<li><a href="src/retirement_v1//src/retirement_v1/interfaces">interfaces</a></li>
<li><a href="src/retirement_v1/KlimaCarbonRetirements.sol/contract.KlimaCarbonRetirements.html">KlimaCarbonRetirements</a></li>
<li><a href="src/retirement_v1/KlimaRetirementAggregator.sol/contract.KlimaRetirementAggregator.html">KlimaRetirementAggregator</a></li>
<li><a href="src/retirement_v1/RetireC3Carbon.sol/contract.RetireC3Carbon.html">RetireC3Carbon</a></li>
<li><a href="src/retirement_v1/RetireMossCarbon.sol/contract.RetireMossCarbon.html">RetireMossCarbon</a></li>
<li><a href="src/retirement_v1/RetireToucanCarbon.sol/contract.RetireToucanCarbon.html">RetireToucanCarbon</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-30"><a class="header" href="#contents-30">Contents</a></h1>
<ul>
<li><a href="src/retirement_v1/interfaces/IBentoBoxMinimal.sol/interface.IBentoBoxMinimal.html">IBentoBoxMinimal</a></li>
<li><a href="src/retirement_v1/interfaces/IC3Pool.sol/interface.IC3Pool.html">IC3Pool</a></li>
<li><a href="src/retirement_v1/interfaces/IC3ProjectToken.sol/interface.IC3ProjectToken.html">IC3ProjectToken</a></li>
<li><a href="src/retirement_v1/interfaces/ICarbonChain.sol/interface.ICarbonChain.html">ICarbonChain</a></li>
<li><a href="src/retirement_v1/interfaces/IKlimaCarbonRetirements.sol/interface.IKlimaCarbonRetirements.html">IKlimaCarbonRetirements</a></li>
<li><a href="src/retirement_v1/interfaces/IKlimaInfinity.sol/interface.IKlimaInfinity.html">IKlimaInfinity</a></li>
<li><a href="src/retirement_v1/interfaces/IKlimaRetirementAggregator.sol/interface.IKlimaRetirementAggregator.html">IKlimaRetirementAggregator</a></li>
<li><a href="src/retirement_v1/interfaces/IRetireBridgeCommon.sol/interface.IRetireBridgeCommon.html">IRetireBridgeCommon</a></li>
<li><a href="src/retirement_v1/interfaces/IRetireC3Carbon.sol/interface.IRetireC3Carbon.html">IRetireC3Carbon</a></li>
<li><a href="src/retirement_v1/interfaces/IRetireMossCarbon.sol/interface.IRetireMossCarbon.html">IRetireMossCarbon</a></li>
<li><a href="src/retirement_v1/interfaces/IRetireToucanCarbon.sol/interface.IRetireToucanCarbon.html">IRetireToucanCarbon</a></li>
<li><a href="src/retirement_v1/interfaces/IStaking.sol/interface.IStaking.html">IStaking</a></li>
<li><a href="src/retirement_v1/interfaces/IStakingHelper.sol/interface.IStakingHelper.html">IStakingHelper</a></li>
<li><a href="src/retirement_v1/interfaces/IToucanCarbonOffsets.sol/interface.IToucanCarbonOffsets.html">IToucanCarbonOffsets</a></li>
<li><a href="src/retirement_v1/interfaces/IToucanContractRegistry.sol/interface.IToucanContractRegistry.html">IToucanContractRegistry</a></li>
<li><a href="src/retirement_v1/interfaces/IToucanPool.sol/interface.IToucanPool.html">IToucanPool</a></li>
<li><a href="src/retirement_v1/interfaces/ITridentPool.sol/interface.ITridentPool.html">ITridentPool</a></li>
<li><a href="src/retirement_v1/interfaces/ITridentRouter.sol/interface.ITridentRouter.html">ITridentRouter</a></li>
<li><a href="src/retirement_v1/interfaces/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li>
<li><a href="src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></li>
<li><a href="src/retirement_v1/interfaces/IUniswapV2Router02.sol/interface.IUniswapV2Router02.html">IUniswapV2Router02</a></li>
<li><a href="src/retirement_v1/interfaces/IwsKLIMA.sol/interface.IwsKLIMA.html">IwsKLIMA</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibentoboxminimal-1"><a class="header" href="#ibentoboxminimal-1">IBentoBoxMinimal</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IBentoBoxMinimal.sol">Git Source</a></p>
<h2 id="functions-201"><a class="header" href="#functions-201">Functions</a></h2>
<h3 id="setmastercontractapproval-1"><a class="header" href="#setmastercontractapproval-1">setMasterContractApproval</a></h3>
<p><em>Approves users' BentoBox assets to a &quot;master&quot; contract.</em></p>
<pre><code class="language-solidity">function setMasterContractApproval(address user, address masterContract, bool approved, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ic3pool-1"><a class="header" href="#ic3pool-1">IC3Pool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IC3Pool.sol">Git Source</a></p>
<h2 id="functions-202"><a class="header" href="#functions-202">Functions</a></h2>
<h3 id="freeredeem-1"><a class="header" href="#freeredeem-1">freeRedeem</a></h3>
<pre><code class="language-solidity">function freeRedeem(uint256 amount) external;
</code></pre>
<h3 id="taxedredeem-1"><a class="header" href="#taxedredeem-1">taxedRedeem</a></h3>
<pre><code class="language-solidity">function taxedRedeem(address[] memory erc20Addresses, uint256[] memory amount) external;
</code></pre>
<h3 id="getfreeredeemaddresses-1"><a class="header" href="#getfreeredeemaddresses-1">getFreeRedeemAddresses</a></h3>
<pre><code class="language-solidity">function getFreeRedeemAddresses() external view returns (address[] memory);
</code></pre>
<h3 id="feeredeem-1"><a class="header" href="#feeredeem-1">feeRedeem</a></h3>
<pre><code class="language-solidity">function feeRedeem() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ic3projecttoken-1"><a class="header" href="#ic3projecttoken-1">IC3ProjectToken</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IC3ProjectToken.sol">Git Source</a></p>
<h2 id="functions-203"><a class="header" href="#functions-203">Functions</a></h2>
<h3 id="offsetfor-1"><a class="header" href="#offsetfor-1">offsetFor</a></h3>
<pre><code class="language-solidity">function offsetFor(uint256 amount, address beneficiary, string memory transferee, string memory reason) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icarbonchain-1"><a class="header" href="#icarbonchain-1">ICarbonChain</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/ICarbonChain.sol">Git Source</a></p>
<h2 id="functions-204"><a class="header" href="#functions-204">Functions</a></h2>
<h3 id="offsetcarbon-2"><a class="header" href="#offsetcarbon-2">offsetCarbon</a></h3>
<pre><code class="language-solidity">function offsetCarbon(uint256 _carbonTon, string calldata _transactionInfo, string calldata _onBehalfOf) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimacarbonretirements-1"><a class="header" href="#iklimacarbonretirements-1">IKlimaCarbonRetirements</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IKlimaCarbonRetirements.sol">Git Source</a></p>
<h2 id="functions-205"><a class="header" href="#functions-205">Functions</a></h2>
<h3 id="carbonretired-11"><a class="header" href="#carbonretired-11">carbonRetired</a></h3>
<pre><code class="language-solidity">function carbonRetired(
    address _retiree,
    address _pool,
    uint256 _amount,
    string calldata _beneficiaryString,
    string calldata _retirementMessage
) external;
</code></pre>
<h3 id="getunclaimedtotal-1"><a class="header" href="#getunclaimedtotal-1">getUnclaimedTotal</a></h3>
<pre><code class="language-solidity">function getUnclaimedTotal(address _minter) external view returns (uint256);
</code></pre>
<h3 id="offsetclaimed-1"><a class="header" href="#offsetclaimed-1">offsetClaimed</a></h3>
<pre><code class="language-solidity">function offsetClaimed(address _minter, uint256 _amount) external returns (bool);
</code></pre>
<h3 id="getretirementindexinfo-1"><a class="header" href="#getretirementindexinfo-1">getRetirementIndexInfo</a></h3>
<pre><code class="language-solidity">function getRetirementIndexInfo(address _retiree, uint256 _index)
    external
    view
    returns (address, uint256, string memory, string memory);
</code></pre>
<h3 id="getretirementpoolinfo-1"><a class="header" href="#getretirementpoolinfo-1">getRetirementPoolInfo</a></h3>
<pre><code class="language-solidity">function getRetirementPoolInfo(address _retiree, address _pool) external view returns (uint256);
</code></pre>
<h3 id="getretirementtotals-1"><a class="header" href="#getretirementtotals-1">getRetirementTotals</a></h3>
<pre><code class="language-solidity">function getRetirementTotals(address _retiree) external view returns (uint256, uint256, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimainfinity-2"><a class="header" href="#iklimainfinity-2">IKlimaInfinity</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IKlimaInfinity.sol">Git Source</a></p>
<h2 id="functions-206"><a class="header" href="#functions-206">Functions</a></h2>
<h3 id="retireexactcarbondefault-2"><a class="header" href="#retireexactcarbondefault-2">retireExactCarbonDefault</a></h3>
<pre><code class="language-solidity">function retireExactCarbonDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactcarbonspecific-2"><a class="header" href="#retireexactcarbonspecific-2">retireExactCarbonSpecific</a></h3>
<pre><code class="language-solidity">function retireExactCarbonSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    uint256 retireAmount,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactsourcedefault-2"><a class="header" href="#retireexactsourcedefault-2">retireExactSourceDefault</a></h3>
<pre><code class="language-solidity">function retireExactSourceDefault(
    address sourceToken,
    address poolToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="retireexactsourcespecific-2"><a class="header" href="#retireexactsourcespecific-2">retireExactSourceSpecific</a></h3>
<pre><code class="language-solidity">function retireExactSourceSpecific(
    address sourceToken,
    address poolToken,
    address projectToken,
    uint256 maxAmountIn,
    string memory retiringEntityString,
    address beneficiaryAddress,
    string memory beneficiaryString,
    string memory retirementMessage,
    uint8 fromMode
) external payable returns (uint256 retirementIndex);
</code></pre>
<h3 id="getsourceamountdefaultretirement-2"><a class="header" href="#getsourceamountdefaultretirement-2">getSourceAmountDefaultRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountDefaultRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    external
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getsourceamountspecificretirement-2"><a class="header" href="#getsourceamountspecificretirement-2">getSourceAmountSpecificRetirement</a></h3>
<pre><code class="language-solidity">function getSourceAmountSpecificRetirement(address sourceToken, address carbonToken, uint256 retireAmount)
    external
    view
    returns (uint256 amountIn);
</code></pre>
<h3 id="getretireamountsourcedefault-1"><a class="header" href="#getretireamountsourcedefault-1">getRetireAmountSourceDefault</a></h3>
<pre><code class="language-solidity">function getRetireAmountSourceDefault(address sourceToken, address carbonToken, uint256 amount)
    external
    view
    returns (uint256 amountOut);
</code></pre>
<h3 id="getretireamountsourcespecific-1"><a class="header" href="#getretireamountsourcespecific-1">getRetireAmountSourceSpecific</a></h3>
<pre><code class="language-solidity">function getRetireAmountSourceSpecific(address sourceToken, address carbonToken, uint256 amount)
    external
    view
    returns (uint256 amountOut);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iklimaretirementaggregator-1"><a class="header" href="#iklimaretirementaggregator-1">IKlimaRetirementAggregator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IKlimaRetirementAggregator.sol">Git Source</a></p>
<h2 id="functions-207"><a class="header" href="#functions-207">Functions</a></h2>
<h3 id="klima-10"><a class="header" href="#klima-10">KLIMA</a></h3>
<pre><code class="language-solidity">function KLIMA() external pure returns (address);
</code></pre>
<h3 id="sklima-9"><a class="header" href="#sklima-9">sKLIMA</a></h3>
<pre><code class="language-solidity">function sKLIMA() external pure returns (address);
</code></pre>
<h3 id="wsklima-4"><a class="header" href="#wsklima-4">wsKLIMA</a></h3>
<pre><code class="language-solidity">function wsKLIMA() external pure returns (address);
</code></pre>
<h3 id="usdc-3"><a class="header" href="#usdc-3">USDC</a></h3>
<pre><code class="language-solidity">function USDC() external pure returns (address);
</code></pre>
<h3 id="staking-5"><a class="header" href="#staking-5">staking</a></h3>
<pre><code class="language-solidity">function staking() external pure returns (address);
</code></pre>
<h3 id="stakinghelper-3"><a class="header" href="#stakinghelper-3">stakingHelper</a></h3>
<pre><code class="language-solidity">function stakingHelper() external pure returns (address);
</code></pre>
<h3 id="klimaretirementstorage"><a class="header" href="#klimaretirementstorage">klimaRetirementStorage</a></h3>
<pre><code class="language-solidity">function klimaRetirementStorage() external pure returns (address);
</code></pre>
<h3 id="treasury-9"><a class="header" href="#treasury-9">treasury</a></h3>
<pre><code class="language-solidity">function treasury() external pure returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iretirebridgecommon"><a class="header" href="#iretirebridgecommon">IRetireBridgeCommon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IRetireBridgeCommon.sol">Git Source</a></p>
<h2 id="functions-208"><a class="header" href="#functions-208">Functions</a></h2>
<h3 id="getneededbuyamount"><a class="header" href="#getneededbuyamount">getNeededBuyAmount</a></h3>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _retireSpecific)
    external
    view
    returns (uint256, uint256);
</code></pre>
<h3 id="getswappath"><a class="header" href="#getswappath">getSwapPath</a></h3>
<pre><code class="language-solidity">function getSwapPath(address _sourceToken, address _poolToken) external view returns (address[] memory);
</code></pre>
<h3 id="poolrouter"><a class="header" href="#poolrouter">poolRouter</a></h3>
<pre><code class="language-solidity">function poolRouter(address _poolToken) external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iretirec3carbon"><a class="header" href="#iretirec3carbon">IRetireC3Carbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IRetireC3Carbon.sol">Git Source</a></p>
<h2 id="functions-209"><a class="header" href="#functions-209">Functions</a></h2>
<h3 id="retirec3"><a class="header" href="#retirec3">retireC3</a></h3>
<pre><code class="language-solidity">function retireC3(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) external;
</code></pre>
<h3 id="retirec3specific"><a class="header" href="#retirec3specific">retireC3Specific</a></h3>
<pre><code class="language-solidity">function retireC3Specific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) external;
</code></pre>
<h3 id="getneededbuyamount-1"><a class="header" href="#getneededbuyamount-1">getNeededBuyAmount</a></h3>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _retireSpecific)
    external
    view
    returns (uint256, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iretiremosscarbon"><a class="header" href="#iretiremosscarbon">IRetireMossCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IRetireMossCarbon.sol">Git Source</a></p>
<h2 id="functions-210"><a class="header" href="#functions-210">Functions</a></h2>
<h3 id="retiremoss"><a class="header" href="#retiremoss">retireMoss</a></h3>
<pre><code class="language-solidity">function retireMoss(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) external;
</code></pre>
<h3 id="getneededbuyamount-2"><a class="header" href="#getneededbuyamount-2">getNeededBuyAmount</a></h3>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _retireSpecific)
    external
    view
    returns (uint256, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iretiretoucancarbon"><a class="header" href="#iretiretoucancarbon">IRetireToucanCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IRetireToucanCarbon.sol">Git Source</a></p>
<h2 id="functions-211"><a class="header" href="#functions-211">Functions</a></h2>
<h3 id="retiretoucan"><a class="header" href="#retiretoucan">retireToucan</a></h3>
<pre><code class="language-solidity">function retireToucan(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) external;
</code></pre>
<h3 id="retiretoucanspecific"><a class="header" href="#retiretoucanspecific">retireToucanSpecific</a></h3>
<pre><code class="language-solidity">function retireToucanSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) external;
</code></pre>
<h3 id="getneededbuyamount-3"><a class="header" href="#getneededbuyamount-3">getNeededBuyAmount</a></h3>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _retireSpecific)
    external
    view
    returns (uint256, uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istaking-2"><a class="header" href="#istaking-2">IStaking</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IStaking.sol">Git Source</a></p>
<h2 id="functions-212"><a class="header" href="#functions-212">Functions</a></h2>
<h3 id="unstake-2"><a class="header" href="#unstake-2">unstake</a></h3>
<pre><code class="language-solidity">function unstake(uint256 _amount, bool _trigger) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="istakinghelper-1"><a class="header" href="#istakinghelper-1">IStakingHelper</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IStakingHelper.sol">Git Source</a></p>
<h2 id="functions-213"><a class="header" href="#functions-213">Functions</a></h2>
<h3 id="stake-4"><a class="header" href="#stake-4">stake</a></h3>
<pre><code class="language-solidity">function stake(uint256 _amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucancarbonoffsets-1"><a class="header" href="#itoucancarbonoffsets-1">IToucanCarbonOffsets</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IToucanCarbonOffsets.sol">Git Source</a></p>
<h2 id="functions-214"><a class="header" href="#functions-214">Functions</a></h2>
<h3 id="retire-2"><a class="header" href="#retire-2">retire</a></h3>
<pre><code class="language-solidity">function retire(uint256 amount) external;
</code></pre>
<h3 id="retireandmintcertificate-1"><a class="header" href="#retireandmintcertificate-1">retireAndMintCertificate</a></h3>
<pre><code class="language-solidity">function retireAndMintCertificate(
    string calldata retiringEntityString,
    address beneficiary,
    string calldata beneficiaryString,
    string calldata retirementMessage,
    uint256 amount
) external;
</code></pre>
<h3 id="mintcertificatelegacy-1"><a class="header" href="#mintcertificatelegacy-1">mintCertificateLegacy</a></h3>
<pre><code class="language-solidity">function mintCertificateLegacy(
    string calldata retiringEntityString,
    address beneficiary,
    string calldata beneficiaryString,
    string calldata retirementMessage,
    uint256 amount
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucancontractregistry-1"><a class="header" href="#itoucancontractregistry-1">IToucanContractRegistry</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IToucanContractRegistry.sol">Git Source</a></p>
<h2 id="functions-215"><a class="header" href="#functions-215">Functions</a></h2>
<h3 id="carbonoffsetbatchesaddress"><a class="header" href="#carbonoffsetbatchesaddress">carbonOffsetBatchesAddress</a></h3>
<pre><code class="language-solidity">function carbonOffsetBatchesAddress() external view returns (address);
</code></pre>
<h3 id="carbonprojectsaddress"><a class="header" href="#carbonprojectsaddress">carbonProjectsAddress</a></h3>
<pre><code class="language-solidity">function carbonProjectsAddress() external view returns (address);
</code></pre>
<h3 id="carbonprojectvintagesaddress"><a class="header" href="#carbonprojectvintagesaddress">carbonProjectVintagesAddress</a></h3>
<pre><code class="language-solidity">function carbonProjectVintagesAddress() external view returns (address);
</code></pre>
<h3 id="toucancarbonoffsetsfactoryaddress"><a class="header" href="#toucancarbonoffsetsfactoryaddress">toucanCarbonOffsetsFactoryAddress</a></h3>
<pre><code class="language-solidity">function toucanCarbonOffsetsFactoryAddress() external view returns (address);
</code></pre>
<h3 id="carbonoffsetbadgesaddress"><a class="header" href="#carbonoffsetbadgesaddress">carbonOffsetBadgesAddress</a></h3>
<pre><code class="language-solidity">function carbonOffsetBadgesAddress() external view returns (address);
</code></pre>
<h3 id="checkerc20"><a class="header" href="#checkerc20">checkERC20</a></h3>
<pre><code class="language-solidity">function checkERC20(address _address) external view returns (bool);
</code></pre>
<h3 id="adderc20"><a class="header" href="#adderc20">addERC20</a></h3>
<pre><code class="language-solidity">function addERC20(address _address) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoucanpool-1"><a class="header" href="#itoucanpool-1">IToucanPool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IToucanPool.sol">Git Source</a></p>
<h2 id="functions-216"><a class="header" href="#functions-216">Functions</a></h2>
<h3 id="redeemauto2-1"><a class="header" href="#redeemauto2-1">redeemAuto2</a></h3>
<pre><code class="language-solidity">function redeemAuto2(uint256 amount) external returns (address[] memory tco2s, uint256[] memory amounts);
</code></pre>
<h3 id="redeemmany-1"><a class="header" href="#redeemmany-1">redeemMany</a></h3>
<pre><code class="language-solidity">function redeemMany(address[] calldata erc20s, uint256[] calldata amounts) external;
</code></pre>
<h3 id="feeredeempercentageinbase-1"><a class="header" href="#feeredeempercentageinbase-1">feeRedeemPercentageInBase</a></h3>
<pre><code class="language-solidity">function feeRedeemPercentageInBase() external pure returns (uint256);
</code></pre>
<h3 id="feeredeemdivider-1"><a class="header" href="#feeredeemdivider-1">feeRedeemDivider</a></h3>
<pre><code class="language-solidity">function feeRedeemDivider() external pure returns (uint256);
</code></pre>
<h3 id="redeemfeeexemptedaddresses-1"><a class="header" href="#redeemfeeexemptedaddresses-1">redeemFeeExemptedAddresses</a></h3>
<pre><code class="language-solidity">function redeemFeeExemptedAddresses(address) external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itridentpool-1"><a class="header" href="#itridentpool-1">ITridentPool</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/ITridentPool.sol">Git Source</a></p>
<p>Trident pool interface.</p>
<h2 id="functions-217"><a class="header" href="#functions-217">Functions</a></h2>
<h3 id="getamountout-8"><a class="header" href="#getamountout-8">getAmountOut</a></h3>
<p>Simulates a trade and returns the expected output.</p>
<p><em>The pool does not need to include a trade simulator directly in itself - it can use a library.</em></p>
<pre><code class="language-solidity">function getAmountOut(bytes calldata data) external view returns (uint256 finalAmountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>ABI-encoded params that the pool requires.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>finalAmountOut</code></td><td><code>uint256</code></td><td>The amount of output tokens that will be sent to the user if the trade is executed.</td></tr>
</tbody></table>
</div>
<h3 id="getamountin-9"><a class="header" href="#getamountin-9">getAmountIn</a></h3>
<p>Simulates a trade and returns the expected output.</p>
<p><em>The pool does not need to include a trade simulator directly in itself - it can use a library.</em></p>
<pre><code class="language-solidity">function getAmountIn(bytes calldata data) external view returns (uint256 finalAmountIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>ABI-encoded params that the pool requires.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>finalAmountIn</code></td><td><code>uint256</code></td><td>The amount of input tokens that are required from the user if the trade is executed.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="itridentrouter-1"><a class="header" href="#itridentrouter-1">ITridentRouter</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/ITridentRouter.sol">Git Source</a></p>
<p>Trident pool router interface.</p>
<h2 id="functions-218"><a class="header" href="#functions-218">Functions</a></h2>
<h3 id="exactinputsinglewithnativetoken-1"><a class="header" href="#exactinputsinglewithnativetoken-1">exactInputSingleWithNativeToken</a></h3>
<pre><code class="language-solidity">function exactInputSingleWithNativeToken(ExactInputSingleParams calldata params)
    external
    payable
    returns (uint256 amountOut);
</code></pre>
<h2 id="structs-20"><a class="header" href="#structs-20">Structs</a></h2>
<h3 id="exactinputsingleparams-1"><a class="header" href="#exactinputsingleparams-1">ExactInputSingleParams</a></h3>
<pre><code class="language-solidity">struct ExactInputSingleParams {
    uint256 amountIn;
    uint256 amountOutMinimum;
    address pool;
    address tokenIn;
    bytes data;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2pair-3"><a class="header" href="#iuniswapv2pair-3">IUniswapV2Pair</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IUniswapV2Pair.sol">Git Source</a></p>
<h2 id="functions-219"><a class="header" href="#functions-219">Functions</a></h2>
<h3 id="name-8"><a class="header" href="#name-8">name</a></h3>
<pre><code class="language-solidity">function name() external pure returns (string memory);
</code></pre>
<h3 id="symbol-8"><a class="header" href="#symbol-8">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external pure returns (string memory);
</code></pre>
<h3 id="decimals-12"><a class="header" href="#decimals-12">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external pure returns (uint8);
</code></pre>
<h3 id="totalsupply-21"><a class="header" href="#totalsupply-21">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof-24"><a class="header" href="#balanceof-24">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<h3 id="allowance-22"><a class="header" href="#allowance-22">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<h3 id="approve-23"><a class="header" href="#approve-23">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 value) external returns (bool);
</code></pre>
<h3 id="transfer-39"><a class="header" href="#transfer-39">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="transferfrom-22"><a class="header" href="#transferfrom-22">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="domain_separator-6"><a class="header" href="#domain_separator-6">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() external view returns (bytes32);
</code></pre>
<h3 id="permit_typehash-6"><a class="header" href="#permit_typehash-6">PERMIT_TYPEHASH</a></h3>
<pre><code class="language-solidity">function PERMIT_TYPEHASH() external pure returns (bytes32);
</code></pre>
<h3 id="nonces-9"><a class="header" href="#nonces-9">nonces</a></h3>
<pre><code class="language-solidity">function nonces(address owner) external view returns (uint256);
</code></pre>
<h3 id="permit-9"><a class="header" href="#permit-9">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="minimum_liquidity-3"><a class="header" href="#minimum_liquidity-3">MINIMUM_LIQUIDITY</a></h3>
<pre><code class="language-solidity">function MINIMUM_LIQUIDITY() external pure returns (uint256);
</code></pre>
<h3 id="factory-7"><a class="header" href="#factory-7">factory</a></h3>
<pre><code class="language-solidity">function factory() external view returns (address);
</code></pre>
<h3 id="token0-3"><a class="header" href="#token0-3">token0</a></h3>
<pre><code class="language-solidity">function token0() external view returns (address);
</code></pre>
<h3 id="token1-3"><a class="header" href="#token1-3">token1</a></h3>
<pre><code class="language-solidity">function token1() external view returns (address);
</code></pre>
<h3 id="getreserves-4"><a class="header" href="#getreserves-4">getReserves</a></h3>
<pre><code class="language-solidity">function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);
</code></pre>
<h3 id="price0cumulativelast-3"><a class="header" href="#price0cumulativelast-3">price0CumulativeLast</a></h3>
<pre><code class="language-solidity">function price0CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="price1cumulativelast-3"><a class="header" href="#price1cumulativelast-3">price1CumulativeLast</a></h3>
<pre><code class="language-solidity">function price1CumulativeLast() external view returns (uint256);
</code></pre>
<h3 id="klast-3"><a class="header" href="#klast-3">kLast</a></h3>
<pre><code class="language-solidity">function kLast() external view returns (uint256);
</code></pre>
<h3 id="mint-14"><a class="header" href="#mint-14">mint</a></h3>
<pre><code class="language-solidity">function mint(address to) external returns (uint256 liquidity);
</code></pre>
<h3 id="burn-9"><a class="header" href="#burn-9">burn</a></h3>
<pre><code class="language-solidity">function burn(address to) external returns (uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="swap-6"><a class="header" href="#swap-6">swap</a></h3>
<pre><code class="language-solidity">function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;
</code></pre>
<h3 id="skim-3"><a class="header" href="#skim-3">skim</a></h3>
<pre><code class="language-solidity">function skim(address to) external;
</code></pre>
<h3 id="sync-6"><a class="header" href="#sync-6">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<h3 id="initialize-9"><a class="header" href="#initialize-9">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address, address) external;
</code></pre>
<h2 id="events-49"><a class="header" href="#events-49">Events</a></h2>
<h3 id="approval-16"><a class="header" href="#approval-16">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<h3 id="transfer-40"><a class="header" href="#transfer-40">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<h3 id="mint-15"><a class="header" href="#mint-15">Mint</a></h3>
<pre><code class="language-solidity">event Mint(address indexed sender, uint256 amount0, uint256 amount1);
</code></pre>
<h3 id="burn-10"><a class="header" href="#burn-10">Burn</a></h3>
<pre><code class="language-solidity">event Burn(address indexed sender, uint256 amount0, uint256 amount1, address indexed to);
</code></pre>
<h3 id="swap-7"><a class="header" href="#swap-7">Swap</a></h3>
<pre><code class="language-solidity">event Swap(
    address indexed sender,
    uint256 amount0In,
    uint256 amount1In,
    uint256 amount0Out,
    uint256 amount1Out,
    address indexed to
);
</code></pre>
<h3 id="sync-7"><a class="header" href="#sync-7">Sync</a></h3>
<pre><code class="language-solidity">event Sync(uint112 reserve0, uint112 reserve1);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router01-3"><a class="header" href="#iuniswapv2router01-3">IUniswapV2Router01</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IUniswapV2Router01.sol">Git Source</a></p>
<h2 id="functions-220"><a class="header" href="#functions-220">Functions</a></h2>
<h3 id="factory-8"><a class="header" href="#factory-8">factory</a></h3>
<pre><code class="language-solidity">function factory() external pure returns (address);
</code></pre>
<h3 id="weth-4"><a class="header" href="#weth-4">WETH</a></h3>
<pre><code class="language-solidity">function WETH() external pure returns (address);
</code></pre>
<h3 id="addliquidity-4"><a class="header" href="#addliquidity-4">addLiquidity</a></h3>
<pre><code class="language-solidity">function addLiquidity(
    address tokenA,
    address tokenB,
    uint256 amountADesired,
    uint256 amountBDesired,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB, uint256 liquidity);
</code></pre>
<h3 id="addliquidityeth-4"><a class="header" href="#addliquidityeth-4">addLiquidityETH</a></h3>
<pre><code class="language-solidity">function addLiquidityETH(
    address token,
    uint256 amountTokenDesired,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external payable returns (uint256 amountToken, uint256 amountETH, uint256 liquidity);
</code></pre>
<h3 id="removeliquidity-4"><a class="header" href="#removeliquidity-4">removeLiquidity</a></h3>
<pre><code class="language-solidity">function removeLiquidity(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityeth-4"><a class="header" href="#removeliquidityeth-4">removeLiquidityETH</a></h3>
<pre><code class="language-solidity">function removeLiquidityETH(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="removeliquiditywithpermit-4"><a class="header" href="#removeliquiditywithpermit-4">removeLiquidityWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityWithPermit(
    address tokenA,
    address tokenB,
    uint256 liquidity,
    uint256 amountAMin,
    uint256 amountBMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountA, uint256 amountB);
</code></pre>
<h3 id="removeliquidityethwithpermit-4"><a class="header" href="#removeliquidityethwithpermit-4">removeLiquidityETHWithPermit</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermit(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountToken, uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokens-6"><a class="header" href="#swapexacttokensfortokens-6">swapExactTokensForTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacttokens-5"><a class="header" href="#swaptokensforexacttokens-5">swapTokensForExactTokens</a></h3>
<pre><code class="language-solidity">function swapTokensForExactTokens(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexactethfortokens-4"><a class="header" href="#swapexactethfortokens-4">swapExactETHForTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokens(uint256 amountOutMin, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="swaptokensforexacteth-4"><a class="header" href="#swaptokensforexacteth-4">swapTokensForExactETH</a></h3>
<pre><code class="language-solidity">function swapTokensForExactETH(
    uint256 amountOut,
    uint256 amountInMax,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapexacttokensforeth-4"><a class="header" href="#swapexacttokensforeth-4">swapExactTokensForETH</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETH(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external returns (uint256[] memory amounts);
</code></pre>
<h3 id="swapethforexacttokens-4"><a class="header" href="#swapethforexacttokens-4">swapETHForExactTokens</a></h3>
<pre><code class="language-solidity">function swapETHForExactTokens(uint256 amountOut, address[] calldata path, address to, uint256 deadline)
    external
    payable
    returns (uint256[] memory amounts);
</code></pre>
<h3 id="quote-5"><a class="header" href="#quote-5">quote</a></h3>
<pre><code class="language-solidity">function quote(uint256 amountA, uint256 reserveA, uint256 reserveB) external pure returns (uint256 amountB);
</code></pre>
<h3 id="getamountout-9"><a class="header" href="#getamountout-9">getAmountOut</a></h3>
<pre><code class="language-solidity">function getAmountOut(uint256 amountIn, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountOut);
</code></pre>
<h3 id="getamountin-10"><a class="header" href="#getamountin-10">getAmountIn</a></h3>
<pre><code class="language-solidity">function getAmountIn(uint256 amountOut, uint256 reserveIn, uint256 reserveOut)
    external
    pure
    returns (uint256 amountIn);
</code></pre>
<h3 id="getamountsout-5"><a class="header" href="#getamountsout-5">getAmountsOut</a></h3>
<pre><code class="language-solidity">function getAmountsOut(uint256 amountIn, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<h3 id="getamountsin-5"><a class="header" href="#getamountsin-5">getAmountsIn</a></h3>
<pre><code class="language-solidity">function getAmountsIn(uint256 amountOut, address[] calldata path) external view returns (uint256[] memory amounts);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2router02-3"><a class="header" href="#iuniswapv2router02-3">IUniswapV2Router02</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IUniswapV2Router02.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/retirement_v1/interfaces/IUniswapV2Router02.sol//src/retirement_v1/interfaces/IUniswapV2Router01.sol/interface.IUniswapV2Router01.html">IUniswapV2Router01</a></p>
<h2 id="functions-221"><a class="header" href="#functions-221">Functions</a></h2>
<h3 id="removeliquidityethsupportingfeeontransfertokens-4"><a class="header" href="#removeliquidityethsupportingfeeontransfertokens-4">removeLiquidityETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline
) external returns (uint256 amountETH);
</code></pre>
<h3 id="removeliquidityethwithpermitsupportingfeeontransfertokens-4"><a class="header" href="#removeliquidityethwithpermitsupportingfeeontransfertokens-4">removeLiquidityETHWithPermitSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(
    address token,
    uint256 liquidity,
    uint256 amountTokenMin,
    uint256 amountETHMin,
    address to,
    uint256 deadline,
    bool approveMax,
    uint8 v,
    bytes32 r,
    bytes32 s
) external returns (uint256 amountETH);
</code></pre>
<h3 id="swapexacttokensfortokenssupportingfeeontransfertokens-4"><a class="header" href="#swapexacttokensfortokenssupportingfeeontransfertokens-4">swapExactTokensForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForTokensSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<h3 id="swapexactethfortokenssupportingfeeontransfertokens-4"><a class="header" href="#swapexactethfortokenssupportingfeeontransfertokens-4">swapExactETHForTokensSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactETHForTokensSupportingFeeOnTransferTokens(
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external payable;
</code></pre>
<h3 id="swapexacttokensforethsupportingfeeontransfertokens-4"><a class="header" href="#swapexacttokensforethsupportingfeeontransfertokens-4">swapExactTokensForETHSupportingFeeOnTransferTokens</a></h3>
<pre><code class="language-solidity">function swapExactTokensForETHSupportingFeeOnTransferTokens(
    uint256 amountIn,
    uint256 amountOutMin,
    address[] calldata path,
    address to,
    uint256 deadline
) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwsklima-2"><a class="header" href="#iwsklima-2">IwsKLIMA</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/interfaces/IwsKLIMA.sol">Git Source</a></p>
<h2 id="functions-222"><a class="header" href="#functions-222">Functions</a></h2>
<h3 id="wrap-4"><a class="header" href="#wrap-4">wrap</a></h3>
<pre><code class="language-solidity">function wrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="unwrap-4"><a class="header" href="#unwrap-4">unwrap</a></h3>
<pre><code class="language-solidity">function unwrap(uint256 _amount) external returns (uint256);
</code></pre>
<h3 id="wklimatosklima-3"><a class="header" href="#wklimatosklima-3">wKLIMATosKLIMA</a></h3>
<pre><code class="language-solidity">function wKLIMATosKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<h3 id="sklimatowklima-3"><a class="header" href="#sklimatowklima-3">sKLIMATowKLIMA</a></h3>
<pre><code class="language-solidity">function sKLIMATowKLIMA(uint256 _amount) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimacarbonretirements-2"><a class="header" href="#klimacarbonretirements-2">KlimaCarbonRetirements</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/KlimaCarbonRetirements.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/retirement_v1/KlimaCarbonRetirements.sol//src/protocol/staking/regular/KlimaStaking_v2.sol/contract.Ownable.html">Ownable</a></p>
<p>This is used to store any offset retirements made through Klima retirement helper contracts.</p>
<h2 id="state-variables-47"><a class="header" href="#state-variables-47">State Variables</a></h2>
<h3 id="retirements"><a class="header" href="#retirements">retirements</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Retirement) public retirements;
</code></pre>
<h3 id="ishelpercontract"><a class="header" href="#ishelpercontract">isHelperContract</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isHelperContract;
</code></pre>
<h3 id="ismintercontract"><a class="header" href="#ismintercontract">isMinterContract</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isMinterContract;
</code></pre>
<h2 id="functions-223"><a class="header" href="#functions-223">Functions</a></h2>
<h3 id="carbonretired-12"><a class="header" href="#carbonretired-12">carbonRetired</a></h3>
<p>Stores the details of an offset transaction for future use</p>
<pre><code class="language-solidity">function carbonRetired(
    address _retiree,
    address _pool,
    uint256 _amount,
    string calldata _beneficiaryString,
    string calldata _retirementMessage
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address of the retiree. Not the address of a helper contract.</td></tr>
<tr><td><code>_pool</code></td><td><code>address</code></td><td>Address of the carbon pool token.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Number of tons offset. Expected is with 18 decimals.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
</tbody></table>
</div>
<h3 id="getunclaimedtotal-2"><a class="header" href="#getunclaimedtotal-2">getUnclaimedTotal</a></h3>
<p>Return any unclaimed NFT totals for an address</p>
<pre><code class="language-solidity">function getUnclaimedTotal(address _minter) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_minter</code></td><td><code>address</code></td><td>Address of user trying to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The net amount of offsets not used for minting an NFT to date.</td></tr>
</tbody></table>
</div>
<h3 id="offsetclaimed-2"><a class="header" href="#offsetclaimed-2">offsetClaimed</a></h3>
<p>This function updates the total claimed amount for minting an NFT.</p>
<pre><code class="language-solidity">function offsetClaimed(address _minter, uint256 _amount) public returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_minter</code></td><td><code>address</code></td><td>Address of the user trying to mint.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount being claimed for the mint. Expected value in 18 decimals.</td></tr>
</tbody></table>
</div>
<h3 id="getretirementindexinfo-2"><a class="header" href="#getretirementindexinfo-2">getRetirementIndexInfo</a></h3>
<p>This returns information on a specific retirement for an address.</p>
<pre><code class="language-solidity">function getRetirementIndexInfo(address _retiree, uint256 _index)
    public
    view
    returns (address, uint256, string memory, string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address that retired the offsets.</td></tr>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>Index of all retirements made. Starts at 0.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Returns a tuple of the address for the pool address, amount offset in 18 decimals, and beneficiary description and message used in the retirement.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getretirementpoolinfo-2"><a class="header" href="#getretirementpoolinfo-2">getRetirementPoolInfo</a></h3>
<p>This returns the total amount offset by an address for a specific pool.</p>
<pre><code class="language-solidity">function getRetirementPoolInfo(address _retiree, address _pool) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address that performed the retirement.</td></tr>
<tr><td><code>_pool</code></td><td><code>address</code></td><td>Address of the pool token.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Int with 18 decimals for the total amount offset for this pool token.</td></tr>
</tbody></table>
</div>
<h3 id="getretirementtotals-2"><a class="header" href="#getretirementtotals-2">getRetirementTotals</a></h3>
<p>This returns totals about retirements and claims on an address</p>
<pre><code class="language-solidity">function getRetirementTotals(address _retiree) public view returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address that performed the retirement.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Int tuple. Total retirements, total tons retired, total tons claimed for NFTs.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="addhelpercontract"><a class="header" href="#addhelpercontract">addHelperContract</a></h3>
<p>Allow contract owner to whitelist new helper contracts. This is to prevent writing abuse from external interfaces.</p>
<pre><code class="language-solidity">function addHelperContract(address _helper) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_helper</code></td><td><code>address</code></td><td>Address of the helper contract.</td></tr>
</tbody></table>
</div>
<h3 id="removehelpercontract"><a class="header" href="#removehelpercontract">removeHelperContract</a></h3>
<p>Allow contract owner to remove helper contracts. This is to prevent writing abuse from external interfaces.</p>
<pre><code class="language-solidity">function removeHelperContract(address _helper) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_helper</code></td><td><code>address</code></td><td>Address of the helper contract.</td></tr>
</tbody></table>
</div>
<h3 id="addmintercontract"><a class="header" href="#addmintercontract">addMinterContract</a></h3>
<p>Allow contract owner to whitelist new reward contracts. This is to prevent writing abuse from external interfaces.</p>
<pre><code class="language-solidity">function addMinterContract(address _minter) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_minter</code></td><td><code>address</code></td><td>Address of the helper contract.</td></tr>
</tbody></table>
</div>
<h3 id="removemintercontract"><a class="header" href="#removemintercontract">removeMinterContract</a></h3>
<p>Allow contract owner to remove reward contracts. This is to prevent writing abuse from external interfaces.</p>
<pre><code class="language-solidity">function removeMinterContract(address _minter) public onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_minter</code></td><td><code>address</code></td><td>Address of the helper contract.</td></tr>
</tbody></table>
</div>
<h2 id="events-50"><a class="header" href="#events-50">Events</a></h2>
<h3 id="helperadded"><a class="header" href="#helperadded">HelperAdded</a></h3>
<pre><code class="language-solidity">event HelperAdded(address helper);
</code></pre>
<h3 id="helperremoved"><a class="header" href="#helperremoved">HelperRemoved</a></h3>
<pre><code class="language-solidity">event HelperRemoved(address helper);
</code></pre>
<h3 id="minteradded"><a class="header" href="#minteradded">MinterAdded</a></h3>
<pre><code class="language-solidity">event MinterAdded(address minter);
</code></pre>
<h3 id="minterremoved"><a class="header" href="#minterremoved">MinterRemoved</a></h3>
<pre><code class="language-solidity">event MinterRemoved(address minter);
</code></pre>
<h2 id="structs-21"><a class="header" href="#structs-21">Structs</a></h2>
<h3 id="retirement-1"><a class="header" href="#retirement-1">Retirement</a></h3>
<pre><code class="language-solidity">struct Retirement {
    uint256 totalRetirements;
    uint256 totalCarbonRetired;
    uint256 totalClaimed;
    mapping(uint256 =&gt; address) retiredPool;
    mapping(uint256 =&gt; uint256) retiredAmount;
    mapping(uint256 =&gt; string) retirementBeneficiary;
    mapping(uint256 =&gt; string) retirementMessage;
    mapping(address =&gt; uint256) totalPoolRetired;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="klimaretirementaggregator"><a class="header" href="#klimaretirementaggregator">KlimaRetirementAggregator</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/KlimaRetirementAggregator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, OwnableUpgradeable</p>
<p><strong>Author:</strong>
KlimaDAO</p>
<p>This is the master aggregator contract for the Klima retirement utility.
This allows a user to provide a source token and an approved carbon pool token to retire.
If the source is different than the pool, it will attempt to swap to that pool then retire.</p>
<h2 id="state-variables-48"><a class="header" href="#state-variables-48">State Variables</a></h2>
<h3 id="klima-11"><a class="header" href="#klima-11">KLIMA</a></h3>
<p>=== State Variables and Mappings ===</p>
<pre><code class="language-solidity">address public KLIMA;
</code></pre>
<h3 id="sklima-10"><a class="header" href="#sklima-10">sKLIMA</a></h3>
<pre><code class="language-solidity">address public sKLIMA;
</code></pre>
<h3 id="wsklima-5"><a class="header" href="#wsklima-5">wsKLIMA</a></h3>
<pre><code class="language-solidity">address public wsKLIMA;
</code></pre>
<h3 id="usdc-4"><a class="header" href="#usdc-4">USDC</a></h3>
<pre><code class="language-solidity">address public USDC;
</code></pre>
<h3 id="staking-6"><a class="header" href="#staking-6">staking</a></h3>
<pre><code class="language-solidity">address public staking;
</code></pre>
<h3 id="stakinghelper-4"><a class="header" href="#stakinghelper-4">stakingHelper</a></h3>
<pre><code class="language-solidity">address public stakingHelper;
</code></pre>
<h3 id="treasury-10"><a class="header" href="#treasury-10">treasury</a></h3>
<pre><code class="language-solidity">address public treasury;
</code></pre>
<h3 id="klimaretirementstorage-1"><a class="header" href="#klimaretirementstorage-1">klimaRetirementStorage</a></h3>
<pre><code class="language-solidity">address public klimaRetirementStorage;
</code></pre>
<h3 id="ispooltoken"><a class="header" href="#ispooltoken">isPoolToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isPoolToken;
</code></pre>
<h3 id="poolbridge"><a class="header" href="#poolbridge">poolBridge</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public poolBridge;
</code></pre>
<h3 id="bridgehelper"><a class="header" href="#bridgehelper">bridgeHelper</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; address) public bridgeHelper;
</code></pre>
<h3 id="infinity-1"><a class="header" href="#infinity-1">INFINITY</a></h3>
<pre><code class="language-solidity">address public constant INFINITY = 0x8cE54d9625371fb2a068986d32C85De8E6e995f8;
</code></pre>
<h2 id="functions-224"><a class="header" href="#functions-224">Functions</a></h2>
<h3 id="initialize-10"><a class="header" href="#initialize-10">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="retirecarbon-1"><a class="header" href="#retirecarbon-1">retireCarbon</a></h3>
<p>=== Non Specific Auto Retirements</p>
<p>This function will retire a carbon pool token that is held
in the caller's wallet. Depending on the pool provided the appropriate
retirement helper will be used as defined in the bridgeHelper mapping.
If a token other than the pool is provided then the helper will attempt
to swap to the appropriate pool and then retire.</p>
<pre><code class="language-solidity">function retireCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
</tbody></table>
</div>
<h3 id="retirecarbon-2"><a class="header" href="#retirecarbon-2">retireCarbon</a></h3>
<pre><code class="language-solidity">function retireCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage
) public;
</code></pre>
<h3 id="retirecarbonfrom"><a class="header" href="#retirecarbonfrom">retireCarbonFrom</a></h3>
<p>This function will retire a carbon pool token that has been
transferred to this contract. Useful when an intermediary contract has
approval to transfer the source tokens from the initiator.
Depending on the pool provided the appropriate retirement helper will
be used as defined in the bridgeHelper mapping. If a token other than
the pool is provided then the helper will attempt to swap to the
appropriate pool and then retire.</p>
<pre><code class="language-solidity">function retireCarbonFrom(
    address _initiator,
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_initiator</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbon"><a class="header" href="#_retirecarbon">_retireCarbon</a></h3>
<p>Internal function that checks to make sure the needed source tokens
have been transferred to this contract, then calls the retirement function
on the bridge's specific helper contract.</p>
<pre><code class="language-solidity">function _retireCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address of the initiator where source tokens originated.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbon-1"><a class="header" href="#_retirecarbon-1">_retireCarbon</a></h3>
<pre><code class="language-solidity">function _retireCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) internal;
</code></pre>
<h3 id="retirecarbonspecific-1"><a class="header" href="#retirecarbonspecific-1">retireCarbonSpecific</a></h3>
<p>=== Specific offset selection retirements ===</p>
<p>This function will retire a carbon pool token that is held
in the caller's wallet. Depending on the pool provided the appropriate
retirement helper will be used as defined in the bridgeHelper mapping.
If a token other than the pool is provided then the helper will attempt
to swap to the appropriate pool and then retire.</p>
<pre><code class="language-solidity">function retireCarbonSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address[] memory _carbonList
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="retirecarbonspecific-2"><a class="header" href="#retirecarbonspecific-2">retireCarbonSpecific</a></h3>
<pre><code class="language-solidity">function retireCarbonSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address[] memory _carbonList
) public;
</code></pre>
<h3 id="retirecarbonspecificfrom"><a class="header" href="#retirecarbonspecificfrom">retireCarbonSpecificFrom</a></h3>
<pre><code class="language-solidity">function retireCarbonSpecificFrom(
    address _initiator,
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address[] memory _carbonList
) public;
</code></pre>
<h3 id="_retirecarbonspecific"><a class="header" href="#_retirecarbonspecific">_retireCarbonSpecific</a></h3>
<p>Internal function that checks to make sure the needed source tokens
have been transferred to this contract, then calls the retirement function
on the bridge's specific helper contract.</p>
<pre><code class="language-solidity">function _retireCarbonSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address of the initiator where source tokens originated.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbonspecific-1"><a class="header" href="#_retirecarbonspecific-1">_retireCarbonSpecific</a></h3>
<pre><code class="language-solidity">function _retireCarbonSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) internal;
</code></pre>
<h3 id="_prepareretirespecific"><a class="header" href="#_prepareretirespecific">_prepareRetireSpecific</a></h3>
<pre><code class="language-solidity">function _prepareRetireSpecific(address _sourceToken, address _poolToken, uint256 _amount, bool _amountInCarbon)
    internal;
</code></pre>
<h3 id="getsourceamount-1"><a class="header" href="#getsourceamount-1">getSourceAmount</a></h3>
<p>=== External views and helpful functions ===</p>
<p>This function calls the appropriate helper for a pool token and
returns the total amount in source tokens needed to perform the transaction.
Any swap slippage buffers and fees are included in the return value.</p>
<pre><code class="language-solidity">function getSourceAmount(address _sourceToken, address _poolToken, uint256 _amount, bool _amountInCarbon)
    public
    view
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns both the source amount and carbon amount as a result of swaps.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getsourceamountspecific"><a class="header" href="#getsourceamountspecific">getSourceAmountSpecific</a></h3>
<p>Same as getSourceAmount, but factors in the redemption fee
for specific retirements.</p>
<pre><code class="language-solidity">function getSourceAmountSpecific(address _sourceToken, address _poolToken, uint256 _amount, bool _amountInCarbon)
    public
    view
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns both the source amount and carbon amount as a result of swaps.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setaddress"><a class="header" href="#setaddress">setAddress</a></h3>
<p>Allow the contract owner to update Klima protocol addresses
resulting from possible migrations.</p>
<pre><code class="language-solidity">function setAddress(uint256 _selection, address _newAddress) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_selection</code></td><td><code>uint256</code></td><td>Int to indicate which address is being updated.</td></tr>
<tr><td><code>_newAddress</code></td><td><code>address</code></td><td>New address for contract needing to be updated.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="addpool"><a class="header" href="#addpool">addPool</a></h3>
<p>Add a new carbon pool to retire with helper contract.</p>
<pre><code class="language-solidity">function addPool(address _poolToken, uint256 _poolBridge) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being added.</td></tr>
<tr><td><code>_poolBridge</code></td><td><code>uint256</code></td><td>Int ID of the bridge used for this token.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="removepool"><a class="header" href="#removepool">removePool</a></h3>
<p>Remove a carbon pool to retire.</p>
<pre><code class="language-solidity">function removePool(address _poolToken) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being removed.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="setbridgehelper"><a class="header" href="#setbridgehelper">setBridgeHelper</a></h3>
<p>Set the helper contract to be used with a carbon bridge.</p>
<pre><code class="language-solidity">function setBridgeHelper(uint256 _bridgeID, address _helper) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_bridgeID</code></td><td><code>uint256</code></td><td>Int ID of the bridge.</td></tr>
<tr><td><code>_helper</code></td><td><code>address</code></td><td>Helper contract to use with this bridge.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="feewithdraw"><a class="header" href="#feewithdraw">feeWithdraw</a></h3>
<p>Allow withdrawal of any tokens sent in error</p>
<pre><code class="language-solidity">function feeWithdraw(address _token, address _recipient) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>Address of token to transfer</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h2 id="events-51"><a class="header" href="#events-51">Events</a></h2>
<h3 id="addressupdated"><a class="header" href="#addressupdated">AddressUpdated</a></h3>
<p>=== Event Setup ===</p>
<pre><code class="language-solidity">event AddressUpdated(uint256 addressIndex, address indexed oldAddress, address indexed newAddress);
</code></pre>
<h3 id="pooladded"><a class="header" href="#pooladded">PoolAdded</a></h3>
<pre><code class="language-solidity">event PoolAdded(address poolToken, uint256 bridge);
</code></pre>
<h3 id="poolremoved"><a class="header" href="#poolremoved">PoolRemoved</a></h3>
<pre><code class="language-solidity">event PoolRemoved(address poolToken);
</code></pre>
<h3 id="bridgehelperupdated"><a class="header" href="#bridgehelperupdated">BridgeHelperUpdated</a></h3>
<pre><code class="language-solidity">event BridgeHelperUpdated(uint256 bridgeID, address helper);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retirec3carbon"><a class="header" href="#retirec3carbon">RetireC3Carbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/RetireC3Carbon.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, OwnableUpgradeable</p>
<h2 id="state-variables-49"><a class="header" href="#state-variables-49">State Variables</a></h2>
<h3 id="feeamount"><a class="header" href="#feeamount">feeAmount</a></h3>
<p>=== State Variables and Mappings ===</p>
<p>feeAmount represents the fee to be bonded for KLIMA. 0.1% increments. 10 = 1%</p>
<pre><code class="language-solidity">uint256 public feeAmount;
</code></pre>
<h3 id="masteraggregator"><a class="header" href="#masteraggregator">masterAggregator</a></h3>
<pre><code class="language-solidity">address public masterAggregator;
</code></pre>
<h3 id="tridentrouter"><a class="header" href="#tridentrouter">tridentRouter</a></h3>
<pre><code class="language-solidity">address public tridentRouter;
</code></pre>
<h3 id="bento"><a class="header" href="#bento">bento</a></h3>
<pre><code class="language-solidity">address public bento;
</code></pre>
<h3 id="ispooltoken-1"><a class="header" href="#ispooltoken-1">isPoolToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isPoolToken;
</code></pre>
<h3 id="poolrouter-1"><a class="header" href="#poolrouter-1">poolRouter</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public poolRouter;
</code></pre>
<h3 id="tridentpool"><a class="header" href="#tridentpool">tridentPool</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public tridentPool;
</code></pre>
<h2 id="functions-225"><a class="header" href="#functions-225">Functions</a></h2>
<h3 id="initialize-11"><a class="header" href="#initialize-11">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="retirec3-1"><a class="header" href="#retirec3-1">retireC3</a></h3>
<p>=== Free Redeem and Offset Functions ===</p>
<p>This function transfers source tokens if needed, swaps to the C3
pool token, utilizes freeRedeem, then retires the redeemed C3T. Needed source
token amount is expected to be held by the caller to use.</p>
<pre><code class="language-solidity">function retireC3(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbon-2"><a class="header" href="#_retirecarbon-2">_retireCarbon</a></h3>
<p>Redeems the pool and retires the C3T tokens on Polygon.
Emits a retirement event and updates the KlimaCarbonRetirements contract with
retirement details and amounts.</p>
<pre><code class="language-solidity">function _retireCarbon(
    uint256 _totalAmount,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _poolToken
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_totalAmount</code></td><td><code>uint256</code></td><td>Total pool tokens being retired. Expected uint with 18 decimals.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary if different than sender. Value is set to _msgSender() if null is sent.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used to retire.</td></tr>
</tbody></table>
</div>
<h3 id="retirec3specific-1"><a class="header" href="#retirec3specific-1">retireC3Specific</a></h3>
<p>=== Taxed Redeem and Offset Functions ===</p>
<p>This function transfers source tokens if needed, swaps to the C3
pool token, utilizes taxedRedeem, then retires the redeemed C3T. Needed source
token amount is expected to be held by the caller to use.</p>
<pre><code class="language-solidity">function retireC3Specific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td>List of C3Ts to redeem</td></tr>
</tbody></table>
</div>
<h3 id="_prepareretirespecific-1"><a class="header" href="#_prepareretirespecific-1">_prepareRetireSpecific</a></h3>
<p>This function is mainly used to avoid stack too deep. It performs the
initial transfer and swap to the pool token for a specific retirement.</p>
<pre><code class="language-solidity">function _prepareRetireSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _retiree
) internal returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction. To return trade dust.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(uint256, uint256) tuple for the amount to pass to redeem and retire, and the aggregator fee.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbonspecific-2"><a class="header" href="#_retirecarbonspecific-2">_retireCarbonSpecific</a></h3>
<p>Redeems the pool and retires the C3T tokens on Polygon.
Emits a retirement event and updates the KlimaCarbonRetirements contract with
retirement details and amounts.</p>
<pre><code class="language-solidity">function _retireCarbonSpecific(
    uint256 _totalAmount,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _poolToken,
    address[] memory _carbonList
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_totalAmount</code></td><td><code>uint256</code></td><td>Total pool tokens being retired. Expected uint with 18 decimals.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary if different than sender. Value is set to _msgSender() if null is sent.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used to retire.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td>List of C3T tokens to redeem</td></tr>
</tbody></table>
</div>
<h3 id="_transfersourcetokens"><a class="header" href="#_transfersourcetokens">_transferSourceTokens</a></h3>
<p>=== Internal helper functions ===</p>
<p>Transfers the needed source tokens from the caller to perform any needed
swaps and then retire the tokens.</p>
<pre><code class="language-solidity">function _transferSourceTokens(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    bool _specificRetire
) internal returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_specificRetire</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_stakedtounstaked"><a class="header" href="#_stakedtounstaked">_stakedToUnstaked</a></h3>
<p>Unwraps/unstakes any KLIMA needed to regular KLIMA.</p>
<pre><code class="language-solidity">function _stakedToUnstaked(address _klimaType, uint256 _amountIn) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_klimaType</code></td><td><code>address</code></td><td>Address of the KLIMA type being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Amount of total KLIMA needed.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the total number of KLIMA after unwrapping/unstaking.</td></tr>
</tbody></table>
</div>
<h3 id="_swapforexactcarbon"><a class="header" href="#_swapforexactcarbon">_swapForExactCarbon</a></h3>
<p>Swaps the source token for an exact number of carbon tokens, and
returns any dust to the initiator.</p>
<p><em>This is only called if the _amountInCarbon bool is set to true.</em></p>
<pre><code class="language-solidity">function _swapForExactCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _carbonAmount,
    uint256 _amountIn,
    address _retiree
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_carbonAmount</code></td><td><code>uint256</code></td><td>Total carbon needed.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Initiator of the retirement to return any dust.</td></tr>
</tbody></table>
</div>
<h3 id="_swapexactforcarbon"><a class="header" href="#_swapexactforcarbon">_swapExactForCarbon</a></h3>
<p>Swaps an exact number of source tokens for carbon tokens.</p>
<p><em>This is only called if the _amountInCarbon bool is set to false.</em></p>
<pre><code class="language-solidity">function _swapExactForCarbon(address _sourceToken, address _poolToken, uint256 _amountIn)
    internal
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens to swap.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the resulting carbon amount to retire and the fee from the results of the swap.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_returntradedust"><a class="header" href="#_returntradedust">_returnTradeDust</a></h3>
<p>Returns any trade dust to the designated address. If sKLIMA or
wsKLIMA was provided as a source token, it is re-staked and/or wrapped
before transferring back.</p>
<pre><code class="language-solidity">function _returnTradeDust(uint256[] memory _amounts, address _sourceToken, uint256 _amountIn, address _retiree)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amounts</code></td><td><code>uint256[]</code></td><td>The amounts resulting from the Uniswap tradeTokensForExactTokens.</td></tr>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens initially provided.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address where to send the dust.</td></tr>
</tbody></table>
</div>
<h3 id="_getspecificcarbonfee"><a class="header" href="#_getspecificcarbonfee">_getSpecificCarbonFee</a></h3>
<p>Gets the fee amount for a carbon pool and returns the value.</p>
<pre><code class="language-solidity">function _getSpecificCarbonFee(address _poolToken, uint256 _poolAmount, bool _amountInCarbon)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_poolAmount</code></td><td><code>uint256</code></td><td>Amount of tokens being retired.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>poolFeeAmount Fee amount for specificly redeeming a ton.</td></tr>
</tbody></table>
</div>
<h3 id="getneededbuyamount-4"><a class="header" href="#getneededbuyamount-4">getNeededBuyAmount</a></h3>
<p>=== External views and helpful functions ===</p>
<p>Call the UniswapV2 routers for needed amounts on token being retired.
Also calculates and returns any fee needed in the pool token total.</p>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _specificRetire)
    public
    view
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_poolAmount</code></td><td><code>uint256</code></td><td>Amount of tokens being retired.</td></tr>
<tr><td><code>_specificRetire</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Tuple of the total pool amount needed, followed by the fee.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getswappath-1"><a class="header" href="#getswappath-1">getSwapPath</a></h3>
<p>This creates the path for UniswapV2 to get to KLIMA. A secondary
swap will be performed in Trident to get the pool token.</p>
<p><em>This function will produce an invalid path if the source token
does not have a direct USDC LP route on the pool's AMM. The resulting
transaction would revert.</em></p>
<pre><code class="language-solidity">function getSwapPath(address _sourceToken, address _poolToken) public view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of addresses to be used as the path for the swap.</td></tr>
</tbody></table>
</div>
<h3 id="setfeeamount"><a class="header" href="#setfeeamount">setFeeAmount</a></h3>
<p>=== Admin Functions ===</p>
<p>Set the fee for the helper</p>
<pre><code class="language-solidity">function setFeeAmount(uint256 _amount) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>New fee amount, in .1% increments. 10 = 1%</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="setpoolrouter"><a class="header" href="#setpoolrouter">setPoolRouter</a></h3>
<p>Update the router for an existing pool</p>
<pre><code class="language-solidity">function setPoolRouter(address _poolToken, address _router) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being updated</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>New router address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="addpool-1"><a class="header" href="#addpool-1">addPool</a></h3>
<p>Add a new carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function addPool(address _poolToken, address _router, address _tridentPool) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being added</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>UniswapV2 router to route trades through for non-pool retirements</td></tr>
<tr><td><code>_tridentPool</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="removepool-1"><a class="header" href="#removepool-1">removePool</a></h3>
<p>Remove a carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function removePool(address _poolToken) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being removed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="feewithdraw-1"><a class="header" href="#feewithdraw-1">feeWithdraw</a></h3>
<p>Allow withdrawal of any tokens sent in error</p>
<pre><code class="language-solidity">function feeWithdraw(address _token, address _recipient) public onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>Address of token to transfer</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>Address where to send tokens.</td></tr>
</tbody></table>
</div>
<h3 id="setmasteraggregator"><a class="header" href="#setmasteraggregator">setMasterAggregator</a></h3>
<p>Allow the contract owner to update the master aggregator proxy address used.</p>
<pre><code class="language-solidity">function setMasterAggregator(address _newAddress) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newAddress</code></td><td><code>address</code></td><td>New address for contract needing to be updated.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="settrident"><a class="header" href="#settrident">setTrident</a></h3>
<p>Allow the contract owner to update the SushiSwap Trident AMM addresses.</p>
<pre><code class="language-solidity">function setTrident(address _tridentRouter, address _bento) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tridentRouter</code></td><td><code>address</code></td><td>New address for Trident router.</td></tr>
<tr><td><code>_bento</code></td><td><code>address</code></td><td>New address for Bento Box.</td></tr>
</tbody></table>
</div>
<h2 id="events-52"><a class="header" href="#events-52">Events</a></h2>
<h3 id="c3retired"><a class="header" href="#c3retired">C3Retired</a></h3>
<p>=== Event Setup ===</p>
<pre><code class="language-solidity">event C3Retired(
    address indexed retiringAddress,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<h3 id="pooladded-1"><a class="header" href="#pooladded-1">PoolAdded</a></h3>
<pre><code class="language-solidity">event PoolAdded(address indexed carbonPool, address indexed poolRouter, address indexed tridentPool);
</code></pre>
<h3 id="poolremoved-1"><a class="header" href="#poolremoved-1">PoolRemoved</a></h3>
<pre><code class="language-solidity">event PoolRemoved(address indexed carbonPool);
</code></pre>
<h3 id="poolrouterchanged"><a class="header" href="#poolrouterchanged">PoolRouterChanged</a></h3>
<pre><code class="language-solidity">event PoolRouterChanged(address indexed carbonPool, address indexed oldRouter, address indexed newRouter);
</code></pre>
<h3 id="tridentchanged"><a class="header" href="#tridentchanged">TridentChanged</a></h3>
<pre><code class="language-solidity">event TridentChanged(
    address indexed oldBento, address indexed newBento, address indexed oldTrident, address newTrident
);
</code></pre>
<h3 id="feeupdated"><a class="header" href="#feeupdated">FeeUpdated</a></h3>
<pre><code class="language-solidity">event FeeUpdated(uint256 oldFee, uint256 newFee);
</code></pre>
<h3 id="masteraggregatorupdated"><a class="header" href="#masteraggregatorupdated">MasterAggregatorUpdated</a></h3>
<pre><code class="language-solidity">event MasterAggregatorUpdated(address indexed oldAddress, address indexed newAddress);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retiremosscarbon"><a class="header" href="#retiremosscarbon">RetireMossCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/RetireMossCarbon.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, OwnableUpgradeable</p>
<h2 id="state-variables-50"><a class="header" href="#state-variables-50">State Variables</a></h2>
<h3 id="feeamount-1"><a class="header" href="#feeamount-1">feeAmount</a></h3>
<p>=== State Variables and Mappings ===</p>
<p>feeAmount represents the fee to be bonded for KLIMA. 0.1% increments. 10 = 1%</p>
<pre><code class="language-solidity">uint256 public feeAmount;
</code></pre>
<h3 id="carbonchain"><a class="header" href="#carbonchain">carbonChain</a></h3>
<pre><code class="language-solidity">address public carbonChain;
</code></pre>
<h3 id="masteraggregator-1"><a class="header" href="#masteraggregator-1">masterAggregator</a></h3>
<pre><code class="language-solidity">address public masterAggregator;
</code></pre>
<h3 id="ispooltoken-2"><a class="header" href="#ispooltoken-2">isPoolToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isPoolToken;
</code></pre>
<h3 id="poolrouter-2"><a class="header" href="#poolrouter-2">poolRouter</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public poolRouter;
</code></pre>
<h2 id="functions-226"><a class="header" href="#functions-226">Functions</a></h2>
<h3 id="initialize-12"><a class="header" href="#initialize-12">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="retiremoss-1"><a class="header" href="#retiremoss-1">retireMoss</a></h3>
<p>This function transfers source tokens if needed, swaps to the Moss
pool token, and then retires via their CarbonChain interface. Needed source
token amount is expected to be held by the caller to use.</p>
<pre><code class="language-solidity">function retireMoss(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbon-3"><a class="header" href="#_retirecarbon-3">_retireCarbon</a></h3>
<p>Retires the MCO2 tokens on Polygon where they will be bridged back to L1.
Emits a retirement event and updates the KlimaCarbonRetirements contract with
retirement details and amounts.</p>
<pre><code class="language-solidity">function _retireCarbon(
    uint256 _totalAmount,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _poolToken
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_totalAmount</code></td><td><code>uint256</code></td><td>Total pool tokens being retired. Expected uint with 18 decimals.</td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary if different than sender. Value is set to _msgSender() if null is sent.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used to retire.</td></tr>
</tbody></table>
</div>
<h3 id="_transfersourcetokens-1"><a class="header" href="#_transfersourcetokens-1">_transferSourceTokens</a></h3>
<p>Transfers the needed source tokens from the caller to perform any needed
swaps and then retire the tokens.</p>
<pre><code class="language-solidity">function _transferSourceTokens(address _sourceToken, address _poolToken, uint256 _amount, bool _amountInCarbon)
    internal
    returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
</tbody></table>
</div>
<h3 id="_stakedtounstaked-1"><a class="header" href="#_stakedtounstaked-1">_stakedToUnstaked</a></h3>
<p>Unwraps/unstakes any KLIMA needed to regular KLIMA.</p>
<pre><code class="language-solidity">function _stakedToUnstaked(address _klimaType, uint256 _amountIn) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_klimaType</code></td><td><code>address</code></td><td>Address of the KLIMA type being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Amount of total KLIMA needed.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the total number of KLIMA after unwrapping/unstaking.</td></tr>
</tbody></table>
</div>
<h3 id="getneededbuyamount-5"><a class="header" href="#getneededbuyamount-5">getNeededBuyAmount</a></h3>
<p>Call the UniswapV2 routers for needed amounts on token being retired.
Also calculates and returns any fee needed in the pool token total.</p>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _specificRetire)
    public
    view
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_poolAmount</code></td><td><code>uint256</code></td><td>Amount of tokens being retired.</td></tr>
<tr><td><code>_specificRetire</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Tuple of the total pool amount needed, followed by the fee.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getswappath-2"><a class="header" href="#getswappath-2">getSwapPath</a></h3>
<p>Creates an array of addresses to use in performing any needed
swaps to receive the pool token from the source token.</p>
<p><em>This function will produce an invalid path if the source token
does not have a direct USDC LP route on the pool's AMM. The resulting
transaction would revert.</em></p>
<pre><code class="language-solidity">function getSwapPath(address _sourceToken, address _poolToken) public view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of addresses to be used as the path for the swap.</td></tr>
</tbody></table>
</div>
<h3 id="_swapforexactcarbon-1"><a class="header" href="#_swapforexactcarbon-1">_swapForExactCarbon</a></h3>
<p>Swaps the source token for an exact number of carbon tokens, and
returns any dust to the initiator.</p>
<p><em>This is only called if the _amountInCarbon bool is set to true.</em></p>
<pre><code class="language-solidity">function _swapForExactCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _carbonAmount,
    uint256 _amountIn,
    address _retiree
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_carbonAmount</code></td><td><code>uint256</code></td><td>Total carbon needed.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Initiator of the retirement to return any dust.</td></tr>
</tbody></table>
</div>
<h3 id="_swapexactforcarbon-1"><a class="header" href="#_swapexactforcarbon-1">_swapExactForCarbon</a></h3>
<p>Swaps an exact number of source tokens for carbon tokens.</p>
<p><em>This is only called if the _amountInCarbon bool is set to false.</em></p>
<pre><code class="language-solidity">function _swapExactForCarbon(address _sourceToken, address _poolToken, uint256 _amountIn)
    internal
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens to swap.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the resulting carbon amount to retire and the fee from the results of the swap.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_returntradedust-1"><a class="header" href="#_returntradedust-1">_returnTradeDust</a></h3>
<p>Returns any trade dust to the designated address. If sKLIMA or
wsKLIMA was provided as a source token, it is re-staked and/or wrapped
before transferring back.</p>
<pre><code class="language-solidity">function _returnTradeDust(uint256[] memory _amounts, address _sourceToken, uint256 _amountIn, address _retiree)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amounts</code></td><td><code>uint256[]</code></td><td>The amounts resulting from the Uniswap tradeTokensForExactTokens.</td></tr>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens initially provided.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address where to send the dust.</td></tr>
</tbody></table>
</div>
<h3 id="setfeeamount-1"><a class="header" href="#setfeeamount-1">setFeeAmount</a></h3>
<p>Set the fee for the helper</p>
<pre><code class="language-solidity">function setFeeAmount(uint256 _amount) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>New fee amount, in .1% increments. 10 = 1%</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="setpoolrouter-1"><a class="header" href="#setpoolrouter-1">setPoolRouter</a></h3>
<p>Update the router for an existing pool</p>
<pre><code class="language-solidity">function setPoolRouter(address _poolToken, address _router) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being updated</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>New router address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="addpool-2"><a class="header" href="#addpool-2">addPool</a></h3>
<p>Add a new carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function addPool(address _poolToken, address _router) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being added</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>UniswapV2 router to route trades through for non-pool retirements</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="removepool-2"><a class="header" href="#removepool-2">removePool</a></h3>
<p>Remove a carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function removePool(address _poolToken) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being removed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="feewithdraw-2"><a class="header" href="#feewithdraw-2">feeWithdraw</a></h3>
<p>Allow withdrawal of any tokens sent in error</p>
<pre><code class="language-solidity">function feeWithdraw(address _token, address _recipient) public onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>Address of token to transfer</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>Address where to send tokens.</td></tr>
</tbody></table>
</div>
<h3 id="setcarbonchain"><a class="header" href="#setcarbonchain">setCarbonChain</a></h3>
<p>Allow the contract owner to update the Moss CarbonChain Proxy address used.</p>
<pre><code class="language-solidity">function setCarbonChain(address _newAddress) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newAddress</code></td><td><code>address</code></td><td>New address for contract needing to be updated.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="setmasteraggregator-1"><a class="header" href="#setmasteraggregator-1">setMasterAggregator</a></h3>
<p>Allow the contract owner to update the master aggregator proxy address used.</p>
<pre><code class="language-solidity">function setMasterAggregator(address _newAddress) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newAddress</code></td><td><code>address</code></td><td>New address for contract needing to be updated.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h2 id="events-53"><a class="header" href="#events-53">Events</a></h2>
<h3 id="mossretired"><a class="header" href="#mossretired">MossRetired</a></h3>
<p>=== Event Setup ===</p>
<pre><code class="language-solidity">event MossRetired(
    address indexed retiringAddress,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    uint256 retiredAmount
);
</code></pre>
<h3 id="pooladded-2"><a class="header" href="#pooladded-2">PoolAdded</a></h3>
<pre><code class="language-solidity">event PoolAdded(address indexed carbonPool, address indexed poolRouter);
</code></pre>
<h3 id="poolremoved-2"><a class="header" href="#poolremoved-2">PoolRemoved</a></h3>
<pre><code class="language-solidity">event PoolRemoved(address indexed carbonPool);
</code></pre>
<h3 id="poolrouterchanged-1"><a class="header" href="#poolrouterchanged-1">PoolRouterChanged</a></h3>
<pre><code class="language-solidity">event PoolRouterChanged(address indexed carbonPool, address indexed oldRouter, address indexed newRouter);
</code></pre>
<h3 id="feeupdated-1"><a class="header" href="#feeupdated-1">FeeUpdated</a></h3>
<pre><code class="language-solidity">event FeeUpdated(uint256 oldFee, uint256 newFee);
</code></pre>
<h3 id="carbonchainupdated"><a class="header" href="#carbonchainupdated">CarbonChainUpdated</a></h3>
<pre><code class="language-solidity">event CarbonChainUpdated(address indexed oldAddress, address indexed newAddress);
</code></pre>
<h3 id="masteraggregatorupdated-1"><a class="header" href="#masteraggregatorupdated-1">MasterAggregatorUpdated</a></h3>
<pre><code class="language-solidity">event MasterAggregatorUpdated(address indexed oldAddress, address indexed newAddress);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="retiretoucancarbon"><a class="header" href="#retiretoucancarbon">RetireToucanCarbon</a></h1>
<p><a href="https://github.com/KlimaDAO/klimadao-solidity/blob/704b462e69030cb9a43680057bee91d745d579ba/src/retirement_v1/RetireToucanCarbon.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, ContextUpgradeable, OwnableUpgradeable, IERC721ReceiverUpgradeable</p>
<h2 id="state-variables-51"><a class="header" href="#state-variables-51">State Variables</a></h2>
<h3 id="feeamount-2"><a class="header" href="#feeamount-2">feeAmount</a></h3>
<p>=== State Variables and Mappings ===</p>
<p>feeAmount represents the fee to be bonded for KLIMA. 0.1% increments. 10 = 1%</p>
<pre><code class="language-solidity">uint256 public feeAmount;
</code></pre>
<h3 id="masteraggregator-2"><a class="header" href="#masteraggregator-2">masterAggregator</a></h3>
<pre><code class="language-solidity">address public masterAggregator;
</code></pre>
<h3 id="ispooltoken-3"><a class="header" href="#ispooltoken-3">isPoolToken</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isPoolToken;
</code></pre>
<h3 id="poolrouter-3"><a class="header" href="#poolrouter-3">poolRouter</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public poolRouter;
</code></pre>
<h3 id="toucanregistry-1"><a class="header" href="#toucanregistry-1">toucanRegistry</a></h3>
<pre><code class="language-solidity">address public toucanRegistry;
</code></pre>
<h3 id="lasttokenid"><a class="header" href="#lasttokenid">lastTokenId</a></h3>
<pre><code class="language-solidity">uint256 public lastTokenId;
</code></pre>
<h2 id="functions-227"><a class="header" href="#functions-227">Functions</a></h2>
<h3 id="initialize-13"><a class="header" href="#initialize-13">initialize</a></h3>
<pre><code class="language-solidity">function initialize() public initializer;
</code></pre>
<h3 id="retiretoucan-1"><a class="header" href="#retiretoucan-1">retireToucan</a></h3>
<p>This function transfers source tokens if needed, swaps to the Toucan
pool token, utilizes redeemAuto, then retires the redeemed TCO2. Needed source
token amount is expected to be held by the caller to use.</p>
<pre><code class="language-solidity">function retireToucan(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_retireEntityString</code></td><td><code>string</code></td><td></td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="_prepareretire"><a class="header" href="#_prepareretire">_prepareRetire</a></h3>
<p>This function transfers source tokens if needed, swaps to the Toucan
pool token and the returns the resulting values to be retired.</p>
<pre><code class="language-solidity">function _prepareRetire(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _retiree
) internal returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="retiretoucanspecific-1"><a class="header" href="#retiretoucanspecific-1">retireToucanSpecific</a></h3>
<p>This function transfers source tokens if needed, swaps to the Toucan
pool token, utilizes redeemMany, then retires the redeemed TCO2. Needed source
token amount is expected to be held by the caller to use.</p>
<pre><code class="language-solidity">function retireToucanSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _retiree,
    address[] memory _carbonList
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_retireEntityString</code></td><td><code>string</code></td><td></td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary of the retirement.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String representing the beneficiary. A name perhaps.</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>Specific message relating to this retirement event.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td>List of TCO2s to redeem</td></tr>
</tbody></table>
</div>
<h3 id="_prepareretirespecific-2"><a class="header" href="#_prepareretirespecific-2">_prepareRetireSpecific</a></h3>
<p>This function transfers source tokens if needed, swaps to the Toucan
pool token and the returns the resulting values to be retired.</p>
<pre><code class="language-solidity">function _prepareRetireSpecific(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    address _retiree
) internal returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>The original sender of the transaction.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbon-4"><a class="header" href="#_retirecarbon-4">_retireCarbon</a></h3>
<p>Redeems the pool and retires the TCO2 tokens on Polygon.
Emits a retirement event and updates the KlimaCarbonRetirements contract with
retirement details and amounts.</p>
<pre><code class="language-solidity">function _retireCarbon(
    uint256 _totalAmount,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _poolToken
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_totalAmount</code></td><td><code>uint256</code></td><td>Total pool tokens being retired. Expected uint with 18 decimals.</td></tr>
<tr><td><code>_retireEntityString</code></td><td><code>string</code></td><td></td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary if different than sender. Value is set to _msgSender() if null is sent.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used to retire.</td></tr>
</tbody></table>
</div>
<h3 id="_retirecarbonspecific-3"><a class="header" href="#_retirecarbonspecific-3">_retireCarbonSpecific</a></h3>
<p>Redeems the pool and retires the TCO2 tokens on Polygon.
Emits a retirement event and updates the KlimaCarbonRetirements contract with
retirement details and amounts.</p>
<pre><code class="language-solidity">function _retireCarbonSpecific(
    uint256 _totalAmount,
    string memory _retireEntityString,
    address _beneficiaryAddress,
    string memory _beneficiaryString,
    string memory _retirementMessage,
    address _poolToken,
    address[] memory _carbonList
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_totalAmount</code></td><td><code>uint256</code></td><td>Total pool tokens being retired. Expected uint with 18 decimals.</td></tr>
<tr><td><code>_retireEntityString</code></td><td><code>string</code></td><td></td></tr>
<tr><td><code>_beneficiaryAddress</code></td><td><code>address</code></td><td>Address of the beneficiary if different than sender. Value is set to _msgSender() if null is sent.</td></tr>
<tr><td><code>_beneficiaryString</code></td><td><code>string</code></td><td>String that can be used to describe the beneficiary</td></tr>
<tr><td><code>_retirementMessage</code></td><td><code>string</code></td><td>String for specific retirement message if needed.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used to retire.</td></tr>
<tr><td><code>_carbonList</code></td><td><code>address[]</code></td><td>List of TCO2 tokens to redeem</td></tr>
</tbody></table>
</div>
<h3 id="_transfersourcetokens-2"><a class="header" href="#_transfersourcetokens-2">_transferSourceTokens</a></h3>
<p>Transfers the needed source tokens from the caller to perform any needed
swaps and then retire the tokens.</p>
<pre><code class="language-solidity">function _transferSourceTokens(
    address _sourceToken,
    address _poolToken,
    uint256 _amount,
    bool _amountInCarbon,
    bool _specificRetire
) internal returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>The contract address of the token being supplied.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>The contract address of the pool token being retired.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount being supplied. Expressed in either the total carbon to offset or the total source to spend. See _amountInCarbon.</td></tr>
<tr><td><code>_amountInCarbon</code></td><td><code>bool</code></td><td>Bool indicating if _amount is in carbon or source.</td></tr>
<tr><td><code>_specificRetire</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_stakedtounstaked-2"><a class="header" href="#_stakedtounstaked-2">_stakedToUnstaked</a></h3>
<p>Unwraps/unstakes any KLIMA needed to regular KLIMA.</p>
<pre><code class="language-solidity">function _stakedToUnstaked(address _klimaType, uint256 _amountIn) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_klimaType</code></td><td><code>address</code></td><td>Address of the KLIMA type being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Amount of total KLIMA needed.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the total number of KLIMA after unwrapping/unstaking.</td></tr>
</tbody></table>
</div>
<h3 id="getneededbuyamount-6"><a class="header" href="#getneededbuyamount-6">getNeededBuyAmount</a></h3>
<p>Call the UniswapV2 routers for needed amounts on token being retired.
Also calculates and returns any fee needed in the pool token total.</p>
<pre><code class="language-solidity">function getNeededBuyAmount(address _sourceToken, address _poolToken, uint256 _poolAmount, bool _specificRetire)
    public
    view
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_poolAmount</code></td><td><code>uint256</code></td><td>Amount of tokens being retired.</td></tr>
<tr><td><code>_specificRetire</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Tuple of the total pool amount needed, followed by the fee.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_getspecificcarbonfee-1"><a class="header" href="#_getspecificcarbonfee-1">_getSpecificCarbonFee</a></h3>
<pre><code class="language-solidity">function _getSpecificCarbonFee(address _poolToken, uint256 _poolAmount) internal view returns (uint256);
</code></pre>
<h3 id="getswappath-3"><a class="header" href="#getswappath-3">getSwapPath</a></h3>
<p>Creates an array of addresses to use in performing any needed
swaps to receive the pool token from the source token.</p>
<p><em>This function will produce an invalid path if the source token
does not have a direct USDC LP route on the pool's AMM. The resulting
transaction would revert.</em></p>
<pre><code class="language-solidity">function getSwapPath(address _sourceToken, address _poolToken) public view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>Array of addresses to be used as the path for the swap.</td></tr>
</tbody></table>
</div>
<h3 id="_swapforexactcarbon-2"><a class="header" href="#_swapforexactcarbon-2">_swapForExactCarbon</a></h3>
<p>Swaps the source token for an exact number of carbon tokens, and
returns any dust to the initiator.</p>
<p><em>This is only called if the _amountInCarbon bool is set to true.</em></p>
<pre><code class="language-solidity">function _swapForExactCarbon(
    address _sourceToken,
    address _poolToken,
    uint256 _carbonAmount,
    uint256 _amountIn,
    address _retiree
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_carbonAmount</code></td><td><code>uint256</code></td><td>Total carbon needed.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Maximum amount of source tokens.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Initiator of the retirement to return any dust.</td></tr>
</tbody></table>
</div>
<h3 id="_swapexactforcarbon-2"><a class="header" href="#_swapexactforcarbon-2">_swapExactForCarbon</a></h3>
<p>Swaps an exact number of source tokens for carbon tokens.</p>
<p><em>This is only called if the _amountInCarbon bool is set to false.</em></p>
<pre><code class="language-solidity">function _swapExactForCarbon(address _sourceToken, address _poolToken, uint256 _amountIn)
    internal
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Address of pool token being used.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens to swap.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Returns the resulting carbon amount to retire and the fee from the results of the swap.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_returntradedust-2"><a class="header" href="#_returntradedust-2">_returnTradeDust</a></h3>
<p>Returns any trade dust to the designated address. If sKLIMA or
wsKLIMA was provided as a source token, it is re-staked and/or wrapped
before transferring back.</p>
<pre><code class="language-solidity">function _returnTradeDust(uint256[] memory _amounts, address _sourceToken, uint256 _amountIn, address _retiree)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amounts</code></td><td><code>uint256[]</code></td><td>The amounts resulting from the Uniswap tradeTokensForExactTokens.</td></tr>
<tr><td><code>_sourceToken</code></td><td><code>address</code></td><td>Address of token being used to purchase the pool token.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>Total source tokens initially provided.</td></tr>
<tr><td><code>_retiree</code></td><td><code>address</code></td><td>Address where to send the dust.</td></tr>
</tbody></table>
</div>
<h3 id="onerc721received-2"><a class="header" href="#onerc721received-2">onERC721Received</a></h3>
<p>=== Toucan Certificate Functions ===</p>
<pre><code class="language-solidity">function onERC721Received(address, address, uint256 tokenId, bytes memory) external virtual override returns (bytes4);
</code></pre>
<h3 id="_sendretirecert"><a class="header" href="#_sendretirecert">_sendRetireCert</a></h3>
<pre><code class="language-solidity">function _sendRetireCert(address _beneficiary) internal;
</code></pre>
<h3 id="setfeeamount-2"><a class="header" href="#setfeeamount-2">setFeeAmount</a></h3>
<p>=== Admin Functions ===</p>
<p>Set the fee for the helper</p>
<pre><code class="language-solidity">function setFeeAmount(uint256 _amount) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>New fee amount, in .1% increments. 10 = 1%</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="setpoolrouter-2"><a class="header" href="#setpoolrouter-2">setPoolRouter</a></h3>
<p>Update the router for an existing pool</p>
<pre><code class="language-solidity">function setPoolRouter(address _poolToken, address _router) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being updated</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>New router address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="settoucanregistry"><a class="header" href="#settoucanregistry">setToucanRegistry</a></h3>
<p>Update the Toucan Contract Registry</p>
<pre><code class="language-solidity">function setToucanRegistry(address _registry) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_registry</code></td><td><code>address</code></td><td>New Registry Address</td></tr>
</tbody></table>
</div>
<h3 id="addpool-3"><a class="header" href="#addpool-3">addPool</a></h3>
<p>Add a new carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function addPool(address _poolToken, address _router) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being added</td></tr>
<tr><td><code>_router</code></td><td><code>address</code></td><td>UniswapV2 router to route trades through for non-pool retirements</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="removepool-3"><a class="header" href="#removepool-3">removePool</a></h3>
<p>Remove a carbon pool to retire with helper contract</p>
<pre><code class="language-solidity">function removePool(address _poolToken) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_poolToken</code></td><td><code>address</code></td><td>Pool being removed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="feewithdraw-3"><a class="header" href="#feewithdraw-3">feeWithdraw</a></h3>
<p>Allow withdrawal of any tokens sent in error</p>
<pre><code class="language-solidity">function feeWithdraw(address _token, address _recipient) public onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>Address of token to transfer</td></tr>
<tr><td><code>_recipient</code></td><td><code>address</code></td><td>Address where to send tokens.</td></tr>
</tbody></table>
</div>
<h3 id="setmasteraggregator-2"><a class="header" href="#setmasteraggregator-2">setMasterAggregator</a></h3>
<p>Allow the contract owner to update the master aggregator proxy address used.</p>
<pre><code class="language-solidity">function setMasterAggregator(address _newAddress) external onlyOwner returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newAddress</code></td><td><code>address</code></td><td>New address for contract needing to be updated.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool</td></tr>
</tbody></table>
</div>
<h3 id="minttoucancertificate"><a class="header" href="#minttoucancertificate">mintToucanCertificate</a></h3>
<pre><code class="language-solidity">function mintToucanCertificate(address _beneficiary, uint256 _index, address _carbonToken) external onlyOwner;
</code></pre>
<h2 id="events-54"><a class="header" href="#events-54">Events</a></h2>
<h3 id="toucanretired"><a class="header" href="#toucanretired">ToucanRetired</a></h3>
<p>=== Event Setup ===</p>
<pre><code class="language-solidity">event ToucanRetired(
    address indexed retiringAddress,
    address indexed beneficiaryAddress,
    string beneficiaryString,
    string retirementMessage,
    address indexed carbonPool,
    address carbonToken,
    uint256 retiredAmount
);
</code></pre>
<h3 id="pooladded-3"><a class="header" href="#pooladded-3">PoolAdded</a></h3>
<pre><code class="language-solidity">event PoolAdded(address indexed carbonPool, address indexed poolRouter);
</code></pre>
<h3 id="poolremoved-3"><a class="header" href="#poolremoved-3">PoolRemoved</a></h3>
<pre><code class="language-solidity">event PoolRemoved(address indexed carbonPool);
</code></pre>
<h3 id="poolrouterchanged-2"><a class="header" href="#poolrouterchanged-2">PoolRouterChanged</a></h3>
<pre><code class="language-solidity">event PoolRouterChanged(address indexed carbonPool, address indexed oldRouter, address indexed newRouter);
</code></pre>
<h3 id="feeupdated-2"><a class="header" href="#feeupdated-2">FeeUpdated</a></h3>
<pre><code class="language-solidity">event FeeUpdated(uint256 oldFee, uint256 newFee);
</code></pre>
<h3 id="masteraggregatorupdated-2"><a class="header" href="#masteraggregatorupdated-2">MasterAggregatorUpdated</a></h3>
<pre><code class="language-solidity">event MasterAggregatorUpdated(address indexed oldAddress, address indexed newAddress);
</code></pre>
<h3 id="registryupdated"><a class="header" href="#registryupdated">RegistryUpdated</a></h3>
<pre><code class="language-solidity">event RegistryUpdated(address indexed oldAddress, address indexed newAddress);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
